var e=(e,t,a)=>new Promise((s,r)=>{var l=e=>{try{d(a.next(e))}catch(t){r(t)}},i=e=>{try{d(a.throw(e))}catch(t){r(t)}},d=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);d((a=a.apply(e,t)).next())});import{b as t,i as a,f as s,t as r,F as l,q as i,g as d,u as n,v as o,x as c,r as g,o as x,n as u,H as m,I as p}from"./vendor-DY_W8Gir.js";import{t as y}from"./translations-CMR8tjFW.js";import{e as v}from"./api-Czr0-LeR.js";import{_ as b}from"./app-CHHlXeKT.js";import"./utils-D0uvFI5R.js";const h={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},k={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},f={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},w={class:"flex justify-between items-center py-6"},_={class:"text-3xl font-bold text-gray-900 dark:text-white"},C={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},j={class:"flex items-center space-x-4"},T=["disabled"],D={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},S={class:"flex space-x-8"},U=["onClick"],A={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},L={key:0,class:"space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},M={class:"flex items-center"},$={class:"flex-shrink-0"},B={class:"ml-4"},P={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},V={class:"text-2xl font-semibold text-gray-900 dark:text-white"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},z={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},I={class:"text-lg font-medium text-gray-900 dark:text-white"},E={class:"p-6"},G={class:"space-y-4"},J={class:"flex-1 min-w-0"},K={class:"text-sm text-gray-900 dark:text-white"},N={class:"text-sm text-gray-500 dark:text-gray-400"},O={key:1,class:"space-y-6"},Q={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},R={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},W={class:"flex justify-between items-center"},X={class:"text-lg font-medium text-gray-900 dark:text-white"},Y={class:"flex space-x-4"},Z={value:"all"},ee={value:"customer"},te={value:"mechanic"},ae={value:"admin"},se=["placeholder"],re={class:"overflow-x-auto"},le={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ie={class:"bg-gray-50 dark:bg-gray-700"},de={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ne={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},oe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ce={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ge={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ue={class:"px-6 py-4 whitespace-nowrap"},me={class:"flex items-center"},pe={class:"flex-shrink-0 h-10 w-10"},ye={class:"h-10 w-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center"},ve={class:"text-sm font-medium text-primary-600 dark:text-primary-400"},be={class:"ml-4"},he={class:"text-sm font-medium text-gray-900 dark:text-white"},ke={class:"text-sm text-gray-500 dark:text-gray-400"},fe={class:"px-6 py-4 whitespace-nowrap"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},je=["value","onChange"],Te={value:"active"},De={value:"inactive"},Fe={value:"suspended"},Se={key:2,class:"text-center py-12"},Ue={class:"text-gray-500 dark:text-gray-400"},Ae={key:3,class:"text-center py-12"},Le={class:"text-gray-500 dark:text-gray-400"},He={key:4,class:"text-center py-12"},Me={class:"text-gray-500 dark:text-gray-400"},$e=b({name:"Admin",setup(){const t=g("dashboard"),a=g(!1),s=g([]),r=g([]),l=g({role:"all",status:"all",search:""}),i=[{id:"dashboard",name:y("dashboard")},{id:"users",name:y("users")},{id:"cars",name:y("cars")},{id:"diagnoses",name:y("diagnoses")},{id:"settings",name:y("settings")}],d=g([{title:y("total_users"),value:0,icon:"svg",bgColor:"bg-blue-500"},{title:y("total_cars"),value:0,icon:"svg",bgColor:"bg-green-500"},{title:y("total_diagnoses"),value:0,icon:"svg",bgColor:"bg-yellow-500"},{title:y("active_mechanics"),value:0,icon:"svg",bgColor:"bg-purple-500"}]),n=()=>e(null,null,function*(){try{a.value=!0;const e=yield v.get("/admin/dashboard");if(e.data.success){const t=e.data.data;d.value=[{title:y("total_users"),value:t.users.total,icon:"svg",bgColor:"bg-blue-500"},{title:y("total_cars"),value:t.cars.total,icon:"svg",bgColor:"bg-green-500"},{title:y("total_diagnoses"),value:t.diagnoses.total,icon:"svg",bgColor:"bg-yellow-500"},{title:y("active_mechanics"),value:t.users.mechanics,icon:"svg",bgColor:"bg-purple-500"}]}}catch(e){}finally{a.value=!1}}),o=()=>e(null,null,function*(){try{const e=yield v.get("/admin/users",{params:l.value});e.data.success&&(s.value=e.data.data.data)}catch(e){}}),c=()=>e(null,null,function*(){try{const e=yield v.get("/admin/system-logs");e.data.success&&(r.value=e.data.data)}catch(e){}});return x(()=>{n(),c()}),{activeTab:t,isLoading:a,users:s,recentActivities:r,userFilters:l,tabs:i,dashboardStats:d,loadUsers:o,updateUserStatus:(t,a)=>e(null,null,function*(){try{yield v.put(`/admin/users/${t}/status`,{status:a}),yield o()}catch(e){}}),refreshData:()=>{"dashboard"===t.value?(n(),c()):"users"===t.value&&o()},formatDate:e=>new Date(e).toLocaleDateString(),formatTime:e=>new Date(e).toLocaleString(),t:y}}},[["render",function(e,g,x,y,v,b){return a(),t("div",h,[s("div",k,[s("div",f,[s("div",w,[s("div",null,[s("h1",_,r(y.t("admin_panel")),1),s("p",C,r(y.t("manage_system_overview")),1)]),s("div",j,[s("button",{onClick:g[0]||(g[0]=(...e)=>y.refreshData&&y.refreshData(...e)),class:"btn-secondary flex items-center space-x-2",disabled:y.isLoading},[g[3]||(g[3]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),s("span",null,r(y.t("refresh")),1)],8,T)])])])]),s("div",D,[s("div",F,[s("nav",S,[(a(!0),t(l,null,i(y.tabs,e=>(a(),t("button",{key:e.id,onClick:t=>y.activeTab=e.id,class:u(["py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",y.activeTab===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},r(e.name),11,U))),128))])])]),s("div",A,["dashboard"===y.activeTab?(a(),t("div",L,[s("div",H,[(a(!0),t(l,null,i(y.dashboardStats,e=>(a(),t("div",{key:e.title,class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},[s("div",M,[s("div",$,[s("div",{class:u(["w-8 h-8 rounded-md flex items-center justify-center",e.bgColor])},[(a(),m(p(e.icon),{class:"w-5 h-5 text-white"}))],2)]),s("div",B,[s("p",P,r(e.title),1),s("p",V,r(e.value),1)])])]))),128))]),s("div",q,[s("div",z,[s("h3",I,r(y.t("recent_activity")),1)]),s("div",E,[s("div",G,[(a(!0),t(l,null,i(y.recentActivities,e=>(a(),t("div",{key:e.id,class:"flex items-center space-x-4"},[g[4]||(g[4]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),s("div",J,[s("p",K,r(e.message),1),s("p",N,r(y.formatTime(e.timestamp)),1)])]))),128))])])])])):d("",!0),"users"===y.activeTab?(a(),t("div",O,[s("div",Q,[s("div",R,[s("div",W,[s("h3",X,r(y.t("users_management")),1),s("div",Y,[n(s("select",{"onUpdate:modelValue":g[1]||(g[1]=e=>y.userFilters.role=e),class:"input-sm"},[s("option",Z,r(y.t("all_roles")),1),s("option",ee,r(y.t("customers")),1),s("option",te,r(y.t("mechanics")),1),s("option",ae,r(y.t("admins")),1)],512),[[o,y.userFilters.role]]),n(s("input",{"onUpdate:modelValue":g[2]||(g[2]=e=>y.userFilters.search=e),type:"text",placeholder:y.t("search_users"),class:"input-sm"},null,8,se),[[c,y.userFilters.search]])])])]),s("div",re,[s("table",le,[s("thead",ie,[s("tr",null,[s("th",de,r(y.t("user")),1),s("th",ne,r(y.t("role")),1),s("th",oe,r(y.t("status")),1),s("th",ce,r(y.t("joined")),1),s("th",ge,r(y.t("actions")),1)])]),s("tbody",xe,[(a(!0),t(l,null,i(y.users,e=>(a(),t("tr",{key:e.id},[s("td",ue,[s("div",me,[s("div",pe,[s("div",ye,[s("span",ve,r(e.first_name?e.first_name[0]:e.name[0]),1)])]),s("div",be,[s("div",he,r(e.first_name?`${e.first_name} ${e.last_name}`:e.name),1),s("div",ke,r(e.email),1)])])]),s("td",fe,[s("span",{class:u(["inline-flex px-2 py-1 text-xs font-semibold rounded-full","admin"===e.role?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"mechanic"===e.role?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},r(y.t(e.role)),3)]),s("td",we,[s("span",{class:u(["inline-flex px-2 py-1 text-xs font-semibold rounded-full","active"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},r(y.t(e.status)),3)]),s("td",_e,r(y.formatDate(e.created_at)),1),s("td",Ce,[s("select",{value:e.status,onChange:t=>y.updateUserStatus(e.id,t.target.value),class:"input-sm"},[s("option",Te,r(y.t("active")),1),s("option",De,r(y.t("inactive")),1),s("option",Fe,r(y.t("suspended")),1)],40,je)])]))),128))])])])])])):d("",!0),"cars"===y.activeTab?(a(),t("div",Se,[s("p",Ue,r(y.t("cars_management_coming_soon")),1)])):d("",!0),"diagnoses"===y.activeTab?(a(),t("div",Ae,[s("p",Le,r(y.t("diagnoses_management_coming_soon")),1)])):d("",!0),"settings"===y.activeTab?(a(),t("div",He,[s("p",Me,r(y.t("system_settings_coming_soon")),1)])):d("",!0)])])}]]);export{$e as default};
