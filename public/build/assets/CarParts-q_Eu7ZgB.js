var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__spreadValues=(e,t)=>{for(var a in t||(t={}))__hasOwnProp.call(t,a)&&__defNormalProp(e,a,t[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(t))__propIsEnum.call(t,a)&&__defNormalProp(e,a,t[a]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__async=(e,t,a)=>new Promise((r,o)=>{var s=e=>{try{l(a.next(e))}catch(t){o(t)}},i=e=>{try{l(a.throw(e))}catch(t){o(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);l((a=a.apply(e,t)).next())});import{y as computed,E as readonly,r as ref,o as onMounted,x as reactive,H as onUnmounted,B as watch,c as createElementBlock,g as openBlock,b as createBaseVNode,e as createCommentVNode,t as toDisplayString,F as Fragment,m as renderList,q as withDirectives,v as vModelText,s as vModelSelect,k as createStaticVNode,I as vModelRadio,l as createTextVNode,D as vModelCheckbox,G as unref,n as normalizeClass,a as createVNode,w as withCtx,u as withModifiers,T as Transition,J as createBlock,p as normalizeStyle,K as renderSlot,f as resolveComponent}from"./vendor-DFhOdd_z.js";import{b as api}from"./api-DJYTD1GY.js";import{u as useAuth}from"./useAuth-C2NnyMh0.js";import{u as useNotifications,L as LiveChatWidget}from"./LiveChatWidget-pcK16o0J.js";import{_ as _export_sfc}from"./app-BKTvrWzY.js";import"./utils-BruBI8_W.js";const publicAPI={getVehicleByVIN(e){return __async(this,null,function*(){try{const t=yield fetch(`/api/public/vehicle/vin/${e}`);return yield t.json()}catch(t){return{success:!1,message:"Error retrieving vehicle data"}}})},getVehicleByMakeModelYear(e,t,a){return __async(this,null,function*(){try{const r=yield fetch(`/api/public/vehicle/make/${e}/model/${t}/year/${a}`);return yield r.json()}catch(r){return{success:!1,message:"Error retrieving vehicle data"}}})},getAllMakes(){return __async(this,null,function*(){try{const e=yield fetch("/api/public/vehicle/makes");return yield e.json()}catch(e){return{success:!1,message:"Error retrieving vehicle makes"}}})},searchEbayParts(e,t=null,a=20){return __async(this,null,function*(){try{return(yield api.post("/public/ebay/search",{query:e,category_id:t,limit:a})).data}catch(r){return{success:!1,message:"Error searching eBay parts"}}})},getEbayItemDetails(e){return __async(this,null,function*(){try{const t=yield fetch(`/api/public/ebay/item/${e}`);return yield t.json()}catch(t){return{success:!1,message:"Error retrieving eBay item details"}}})},searchAmazonParts(e,t="Automotive",a=10){return __async(this,null,function*(){try{return(yield api.post("/public/amazon/search",{query:e,category:t,limit:a})).data}catch(r){return{success:!1,message:"Error searching Amazon parts"}}})},searchAllAPIs(e,t=null){return __async(this,null,function*(){try{return(yield api.post("/public/search",__spreadValues({query:e},t))).data}catch(a){return{success:!1,message:"Error searching across APIs"}}})},getAPIStatus(){return __async(this,null,function*(){try{const e=yield fetch("/api/public/status");return yield e.json()}catch(e){return{success:!1,message:"Error retrieving API status"}}})},getSupportedCategories(){return __async(this,null,function*(){try{const e=yield fetch("/api/public/categories");return yield e.json()}catch(e){return{success:!1,message:"Error retrieving categories"}}})},formatVehicleData:e=>e?{vin:e.vin,make:e.make,model:e.model,year:e.year,engine:e.engine,fuelType:e.fuel_type,bodyClass:e.body_class,driveType:e.drive_type,transmission:e.transmission,doors:e.doors,cylinders:e.cylinders,displacement:e.displacement,manufacturer:e.manufacturer,plantCountry:e.plant_country,series:e.series,trim:e.trim,vehicleType:e.vehicle_type,displayName:`${e.year} ${e.make} ${e.model}`,searchQuery:`${e.year} ${e.make} ${e.model} ${e.engine||""}`.trim()}:null,formatPartsData(e,t){return e&&e.parts?e.parts.map(e=>({id:e.id,name:e.title,description:e.description||e.title,price:e.price,formatted_price:e.formatted_price||`$${e.price}`,currency:e.currency||"USD",image_url:e.image_url,condition:e.condition,brand:e.brand,part_number:e.part_number,rating:e.rating||4,review_count:e.review_count||0,stock_quantity:e.stock_quantity||1,source:t,affiliate_url:e.affiliate_url||e.item_web_url,category:this.extractCategory(e.title||e.name),ai_recommended:e.ai_recommended||!1,shipping_cost:e.shipping_cost,estimated_delivery:e.estimated_delivery,seller:e.seller,prime_eligible:e.prime_eligible,availability:e.availability})):[]},extractCategory(e){const t={engine:["engine","motor","spark plug","air filter","oil filter","belt","gasket","pump"],brakes:["brake","pad","rotor","caliper","line","fluid"],electrical:["battery","alternator","starter","fuse","wire","sensor","electrical"],suspension:["shock","strut","spring","control arm","tie rod","ball joint","suspension"],transmission:["transmission","clutch","fluid","filter","solenoid"],exhaust:["exhaust","muffler","catalytic","pipe","header","o2 sensor"],cooling:["radiator","thermostat","water pump","hose","coolant","cooling"],fuel:["fuel pump","fuel filter","injector","fuel line","tank"]},a=e.toLowerCase();for(const[r,o]of Object.entries(t))if(o.some(e=>a.includes(e)))return r;return"other"},validateVIN:e=>!(!e||"string"!=typeof e||17!==(e=e.replace(/\s/g,"").toUpperCase()).length||/[IOQ]/.test(e)||!/^[A-HJ-NPR-Z0-9]{17}$/.test(e)),generateSearchSuggestions(e){if(!e)return[];const t=[],{make:a,model:r,year:o,engine:s}=e;return t.push(`${o} ${a} ${r} parts`),t.push(`${a} ${r} ${o} accessories`),s&&t.push(`${o} ${a} ${r} ${s} parts`),["brake pads","air filter","oil filter","spark plugs","battery","tires"].forEach(e=>{t.push(`${o} ${a} ${r} ${e}`)}),t.slice(0,6)},trackAffiliateClick(e,t,a){return __async(this,null,function*(){try{yield api.post("/affiliate/track-click",{part_id:e,source:t,part_data:a,user_agent:navigator.userAgent,referrer:document.referrer,timestamp:(new Date).toISOString()})}catch(r){}})},comparePricesAcrossAPIs(e,t=null){return __async(this,null,function*(){try{const a=yield this.searchAllAPIs(e,t);if(!a.success)return null;const r={query:e,vehicle_data:t,sources:{},best_price:null,total_results:0};if(a.data.ebay&&a.data.ebay.success){const e=this.formatPartsData(a.data.ebay.data,"ebay");r.sources.ebay={count:e.length,parts:e,average_price:this.calculateAveragePrice(e),min_price:this.calculateMinPrice(e),max_price:this.calculateMaxPrice(e)},r.total_results+=e.length}if(a.data.amazon&&a.data.amazon.success){const e=this.formatPartsData(a.data.amazon.data,"amazon");r.sources.amazon={count:e.length,parts:e,average_price:this.calculateAveragePrice(e),min_price:this.calculateMinPrice(e),max_price:this.calculateMaxPrice(e)},r.total_results+=e.length}return r.best_price=this.findBestPrice(r.sources),r}catch(a){return null}})},calculateAveragePrice:e=>e.length?e.reduce((e,t)=>e+(parseFloat(t.price)||0),0)/e.length:0,calculateMinPrice:e=>e.length?Math.min(...e.map(e=>parseFloat(e.price)||1/0)):0,calculateMaxPrice:e=>e.length?Math.max(...e.map(e=>parseFloat(e.price)||0)):0,findBestPrice(e){let t=null;return Object.entries(e).forEach(([e,a])=>{a.min_price&&(!t||a.min_price<t.price)&&(t={price:a.min_price,source:e,part:a.parts.find(e=>parseFloat(e.price)===a.min_price)})}),t}},preferences=ref({}),isLoading$6=ref(!1),cartPreferences=ref({});function useUserPreferences(){const{isAuthenticated:e}=useAuth(),t={cart_auto_save:!0,cart_notifications:!0,cart_currency:"USD",cart_shipping_preference:"standard",cart_payment_preference:"credit_card",cart_quantity_limit:10,cart_show_tax:!0,cart_show_shipping:!0,cart_remember_address:!0,cart_auto_apply_coupons:!1},a=t=>__async(null,null,function*(){if(!e.value)return cartPreferences.value=__spreadValues(__spreadValues({},cartPreferences.value),t),!0;try{const e=yield fetch("/api/preferences/cart/set",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({preferences:t})});return!(!e.ok||!(yield e.json()).success)&&(cartPreferences.value=__spreadValues(__spreadValues({},cartPreferences.value),t),!0)}catch(a){return!1}}),r=(e,t=null)=>{var a;return null!=(a=cartPreferences.value[e])?a:t},o=computed(()=>r("cart_auto_save",!0)),s=computed(()=>r("cart_notifications",!0)),i=computed(()=>r("cart_currency","USD")),l=computed(()=>r("cart_shipping_preference","standard")),n=computed(()=>r("cart_payment_preference","credit_card")),d=computed(()=>r("cart_quantity_limit",10)),c=computed(()=>r("cart_show_tax",!0)),u=computed(()=>r("cart_show_shipping",!0)),p=computed(()=>r("cart_remember_address",!0)),h=computed(()=>r("cart_auto_apply_coupons",!1));return{preferences:readonly(preferences),cartPreferences:readonly(cartPreferences),isLoading:readonly(isLoading$6),loadPreferences:()=>__async(null,null,function*(){if(e.value)try{isLoading$6.value=!0;const e=yield fetch("/api/preferences",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(preferences.value=t.data.reduce((e,t)=>(e[t.key]=t.value,e),{}))}}catch(t){}finally{isLoading$6.value=!1}}),loadCartPreferences:()=>__async(null,null,function*(){if(e.value)try{isLoading$6.value=!0;const e=yield fetch("/api/preferences/cart/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const a=yield e.json();a.success&&(cartPreferences.value=__spreadValues(__spreadValues({},t),a.data))}}catch(a){cartPreferences.value=__spreadValues({},t)}finally{isLoading$6.value=!1}else cartPreferences.value=__spreadValues({},t)}),setPreference:(t,a,r="string",o=null)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch("/api/preferences",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({key:t,value:a,type:r,description:o})});return!(!e.ok||!(yield e.json()).success)&&(preferences.value[t]=a,!0)}catch(s){return!1}}),setCartPreferences:a,updateCartPreference:(e,t)=>__async(null,null,function*(){const r={[e]:t};return yield a(r)}),resetCartPreferences:()=>__async(null,null,function*(){return yield a(t)}),getPreference:(e,t=null)=>{var a;return null!=(a=preferences.value[e])?a:t},getCartPreference:r,autoSave:o,notifications:s,currency:i,shippingPreference:l,paymentPreference:n,quantityLimit:d,showTax:c,showShipping:u,rememberAddress:p,autoApplyCoupons:h}}const initializeCartPreferences=()=>{try{const{loadCartPreferences:e}=useUserPreferences();e()}catch(e){}},orders=ref([]),orderStatistics=ref({}),isLoading$5=ref(!1),currentOrder=ref(null);function useOrders(){const{isAuthenticated:e}=useAuth(),t=computed(()=>orderStatistics.value.total_orders||0),a=computed(()=>orderStatistics.value.total_spent||0),r=computed(()=>orderStatistics.value.pending_orders||0),o=computed(()=>orderStatistics.value.shipped_orders||0),s=computed(()=>orderStatistics.value.delivered_orders||0),i=computed(()=>orderStatistics.value.cancelled_orders||0),l=computed(()=>orderStatistics.value.recent_orders||0);return{orders:readonly(orders),orderStatistics:readonly(orderStatistics),currentOrder:readonly(currentOrder),isLoading:readonly(isLoading$5),loadOrders:(...t)=>__async(null,[...t],function*(t={}){if(e.value)try{isLoading$5.value=!0;const e=new URLSearchParams(t).toString(),a=yield fetch(`/api/orders?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();if(e.success)return orders.value=e.data,{orders:e.data,pagination:e.pagination}}return{orders:[],pagination:null}}catch(a){return{orders:[],pagination:null}}finally{isLoading$5.value=!1}}),loadOrderStatistics:()=>__async(null,null,function*(){if(e.value)try{const e=yield fetch("/api/orders/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(orderStatistics.value=t.data)}}catch(t){}}),getOrder:t=>__async(null,null,function*(){if(!e.value)return null;try{const e=yield fetch(`/api/orders/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();if(t.success)return currentOrder.value=t.data,t.data}return null}catch(a){return null}}),createOrder:t=>__async(null,null,function*(){if(!e.value)return null;try{isLoading$5.value=!0;const e=yield fetch("/api/orders",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){const t=yield e.json();if(t.success)return orders.value.unshift(t.data),t.data}return null}catch(a){return null}finally{isLoading$5.value=!1}}),cancelOrder:(t,a="")=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/orders/${t}/cancel`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({reason:a})});if(e.ok){const a=yield e.json();if(a.success){const e=orders.value.findIndex(e=>e.id===t);return-1!==e&&(orders.value[e]=a.data),!0}}return!1}catch(r){return!1}}),getOrderStatusColor:e=>({pending:"yellow",confirmed:"blue",shipped:"purple",delivered:"green",cancelled:"red",refunded:"gray"}[e]||"gray"),getOrderStatusDisplay:e=>({pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",refunded:"Refunded"}[e]||"Unknown"),formatOrderDate:e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),formatCurrency:(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),canCancelOrder:e=>e&&["pending","confirmed"].includes(e.status),canRefundOrder:e=>e&&"delivered"===e.status&&!e.refunded_at,getOrderTrackingInfo:e=>e?{status:e.status,trackingNumber:e.tracking_number,shippedAt:e.shipped_at,deliveredAt:e.delivered_at,estimatedDelivery:e.shipped_at?new Date(new Date(e.shipped_at).getTime()+2592e5):null}:null,getOrdersByStatus:e=>orders.value.filter(t=>t.status===e),getRecentOrders:(e=5)=>orders.value.slice(0,e),searchOrders:e=>e?orders.value.filter(t=>t.order_number.toLowerCase().includes(e.toLowerCase())||t.items.some(t=>t.part_name.toLowerCase().includes(e.toLowerCase()))):orders.value,totalOrders:t,totalSpent:a,pendingOrders:r,shippedOrders:o,deliveredOrders:s,cancelledOrders:i,recentOrders:l}}const initializeOrders=()=>{try{const{loadOrders:e,loadOrderStatistics:t}=useOrders();e(),t()}catch(e){}},wishlist=ref([]),wishlistStatistics=ref({}),isLoading$4=ref(!1);function useWishlist(){const{isAuthenticated:e}=useAuth(),t=t=>__async(null,null,function*(){if(!e.value)return!1;try{isLoading$4.value=!0;const e=yield fetch("/api/wishlist",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({part_id:t.id,part_name:t.name,part_brand:t.brand,part_number:t.part_number,part_description:t.description,part_image_url:t.image_url,part_category:t.category,part_price:t.price,part_currency:"USD",source:t.source||"carwise",affiliate_url:t.affiliate_url,priority:"medium",notification_enabled:!1})});if(e.ok){const t=yield e.json();if(t.success)return wishlist.value.unshift(t.data),!0}return!1}catch(a){return!1}finally{isLoading$4.value=!1}}),a=t=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/wishlist/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok&&(yield e.json()).success){const e=wishlist.value.findIndex(e=>e.id===t);return-1!==e&&wishlist.value.splice(e,1),!0}return!1}catch(a){return!1}}),r=computed(()=>wishlistStatistics.value.total_items||0),o=computed(()=>wishlistStatistics.value.high_priority_items||0),s=computed(()=>wishlistStatistics.value.medium_priority_items||0),i=computed(()=>wishlistStatistics.value.low_priority_items||0),l=computed(()=>wishlistStatistics.value.items_with_alerts||0),n=computed(()=>wishlistStatistics.value.recent_additions||0),d=computed(()=>wishlistStatistics.value.categories||{});return{wishlist:readonly(wishlist),wishlistStatistics:readonly(wishlistStatistics),isLoading:readonly(isLoading$4),loadWishlist:(...t)=>__async(null,[...t],function*(t={}){if(e.value)try{isLoading$4.value=!0;const e=new URLSearchParams(t).toString(),a=yield fetch(`/api/wishlist?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();if(e.success)return wishlist.value=e.data,{wishlist:e.data,pagination:e.pagination}}return{wishlist:[],pagination:null}}catch(a){return{wishlist:[],pagination:null}}finally{isLoading$4.value=!1}}),loadWishlistStatistics:()=>__async(null,null,function*(){if(e.value)try{const e=yield fetch("/api/wishlist/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(wishlistStatistics.value=t.data)}}catch(t){}}),addToWishlist:t,removeFromWishlist:a,updateWishlistItem:(t,a)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/wishlist/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const a=yield e.json();if(a.success){const e=wishlist.value.findIndex(e=>e.id===t);return-1!==e&&(wishlist.value[e]=a.data),!0}}return!1}catch(r){return!1}}),isInWishlist:(t,a)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/wishlist/check?part_id=${t}&part_name=${encodeURIComponent(a)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();if(t.success)return t.data.in_wishlist}return!1}catch(r){return!1}}),moveToCart:t=>__async(null,null,function*(){if(!e.value)return null;try{const e=yield fetch(`/api/wishlist/${t}/move-to-cart`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();if(t.success)return t.data}return null}catch(a){return null}}),toggleWishlist:e=>__async(null,null,function*(){if(!wishlist.value.some(t=>t.part_id===e.id&&t.part_name===e.name))return yield t(e);{const t=wishlist.value.find(t=>t.part_id===e.id&&t.part_name===e.name);if(t)return yield a(t.id)}return!1}),getPriorityBadgeColor:e=>({high:"red",medium:"yellow",low:"green"}[e]||"gray"),getPriorityDisplay:e=>({high:"High Priority",medium:"Medium Priority",low:"Low Priority"}[e]||"Normal"),formatCurrency:(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),formatDate:e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),getItemsByPriority:e=>wishlist.value.filter(t=>t.priority===e),getItemsByCategory:e=>wishlist.value.filter(t=>t.part_category===e),searchWishlist:e=>e?wishlist.value.filter(t=>{var a,r;return t.part_name.toLowerCase().includes(e.toLowerCase())||(null==(a=t.part_brand)?void 0:a.toLowerCase().includes(e.toLowerCase()))||(null==(r=t.part_number)?void 0:r.toLowerCase().includes(e.toLowerCase()))}):wishlist.value,totalItems:r,highPriorityItems:o,mediumPriorityItems:s,lowPriorityItems:i,itemsWithAlerts:l,recentAdditions:n,categories:d}}const initializeWishlist=()=>{try{const{loadWishlist:e,loadWishlistStatistics:t}=useWishlist();e(),t()}catch(e){}},compareList=ref([]),compareStatistics=ref({}),isLoading$3=ref(!1),maxCompareItems=4;function useCompare(){const{isAuthenticated:e}=useAuth(),t=(...t)=>__async(null,[...t],function*(t={}){if(e.value)try{isLoading$3.value=!0;const e=new URLSearchParams(t).toString(),a=yield fetch(`/api/compare?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();if(e.success)return compareList.value=e.data,{compareList:e.data,pagination:e.pagination}}return{compareList:[],pagination:null}}catch(a){return{compareList:[],pagination:null}}finally{isLoading$3.value=!1}}),a=t=>__async(null,null,function*(){if(!e.value)return!1;if(o(t.id))return!1;if(compareList.value.length>=maxCompareItems)return!1;try{isLoading$3.value=!0;const e=yield fetch("/api/compare",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({part_id:t.id,part_name:t.name,part_brand:t.brand,part_number:t.part_number,part_description:t.description,part_image_url:t.image_url,part_category:t.category,part_price:t.price,part_currency:"USD",source:t.source||"carwise",affiliate_url:t.affiliate_url,specifications:t.specifications,features:t.features,compatibility:t.compatibility,warranty:t.warranty,shipping_info:t.shipping_info})});if(e.ok){const t=yield e.json();if(t.success)return compareList.value.push(t.data),!0}return!1}catch(a){return!1}finally{isLoading$3.value=!1}}),r=t=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/compare/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok&&(yield e.json()).success){const e=compareList.value.findIndex(e=>e.id===t);return-1!==e&&compareList.value.splice(e,1),!0}return!1}catch(a){return!1}}),o=e=>compareList.value.some(t=>t.part_id===e),s=computed(()=>compareList.value.length),i=computed(()=>compareList.value.length<maxCompareItems),l=computed(()=>compareList.value.length>=maxCompareItems),n=computed(()=>0===compareList.value.length),d=computed(()=>compareList.value.length>1);return{compareList:readonly(compareList),compareStatistics:readonly(compareStatistics),isLoading:readonly(isLoading$3),maxCompareItems:maxCompareItems,loadCompareList:t,loadCompareStatistics:()=>__async(null,null,function*(){if(e.value)try{const e=yield fetch("/api/compare/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(compareStatistics.value=t.data)}}catch(t){}}),addToCompare:a,removeFromCompare:r,updateCompareItem:(t,a)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/compare/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const a=yield e.json();if(a.success){const e=compareList.value.findIndex(e=>e.id===t);return-1!==e&&(compareList.value[e]=a.data),!0}}return!1}catch(r){return!1}}),isInCompare:o,isInCompareAsync:(t,a)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/compare/check?part_id=${t}&part_name=${encodeURIComponent(a)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();if(t.success)return t.data.in_compare}return!1}catch(r){return!1}}),clearCompareList:()=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch("/api/compare/clear",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return!(!e.ok||!(yield e.json()).success)&&(compareList.value=[],!0)}catch(t){return!1}}),reorderCompareItems:a=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch("/api/compare/reorder",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({items:a})});return!(!e.ok||!(yield e.json()).success)&&(yield t(),!0)}catch(r){return!1}}),toggleCompare:e=>__async(null,null,function*(){if(!o(e.id))return yield a(e);{const t=compareList.value.find(t=>t.part_id===e.id);if(t)return yield r(t.id)}return!1}),getItemsBySource:e=>compareList.value.filter(t=>t.source===e),getItemsByCategory:e=>compareList.value.filter(t=>t.part_category===e),searchCompare:e=>e?compareList.value.filter(t=>{var a,r;return t.part_name.toLowerCase().includes(e.toLowerCase())||(null==(a=t.part_brand)?void 0:a.toLowerCase().includes(e.toLowerCase()))||(null==(r=t.part_number)?void 0:r.toLowerCase().includes(e.toLowerCase()))}):compareList.value,getPriceComparison:()=>{if(compareList.value.length<2)return null;const e=compareList.value.map(e=>e.part_price),t=Math.min(...e),a=Math.max(...e);return{min:t,max:a,average:e.reduce((e,t)=>e+t,0)/e.length,range:a-t,savings:a-t}},getFeatureComparison:()=>{if(compareList.value.length<2)return null;const e=new Set;compareList.value.forEach(t=>{t.features&&t.features.forEach(t=>e.add(t))});const t={};return e.forEach(e=>{t[e]=compareList.value.map(t=>!!t.features&&t.features.includes(e))}),t},getSpecificationComparison:()=>{if(compareList.value.length<2)return null;const e=new Set;compareList.value.forEach(t=>{t.specifications&&Object.keys(t.specifications).forEach(t=>e.add(t))});const t={};return e.forEach(e=>{t[e]=compareList.value.map(t=>t.specifications?t.specifications[e]:"N/A")}),t},formatCurrency:(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),formatDate:e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),totalItems:s,canAddMore:i,isFull:l,isEmpty:n,hasMultipleItems:d}}const initializeCompare=()=>{try{const{loadCompareList:e,loadCompareStatistics:t}=useCompare();e(),t()}catch(e){}},suggestions=ref([]),popularSearches$1=ref([]),recentSearches$1=ref([]),isLoading$2=ref(!1),isVisible=ref(!1);function useSearchSuggestions(){const{isAuthenticated:e}=useAuth(),t=(e=10)=>__async(null,null,function*(){try{const t=yield fetch(`/api/search-suggestions/popular?limit=${e}`);if(t.ok){const e=yield t.json();if(e.success)return popularSearches$1.value=e.data,e.data}return[]}catch(t){return[]}}),a=(()=>{let e;return(t,a,r=300)=>{clearTimeout(e),e=setTimeout(()=>{a(t)},r)}})(),r=computed(()=>{const e=[];return suggestions.value.length>0&&e.push(...suggestions.value),0===suggestions.value.length&&popularSearches$1.value.length>0&&e.push(...popularSearches$1.value),0===suggestions.value.length&&0===popularSearches$1.value.length&&recentSearches$1.value.length>0&&e.push(...recentSearches$1.value),e}),o=computed(()=>{const e={};return suggestions.value.forEach(t=>{e[t.type]=(e[t.type]||0)+1}),e});return onMounted(()=>{(()=>{try{const e=JSON.parse(localStorage.getItem("recent_searches")||"[]");recentSearches$1.value=e.map(e=>({text:e,type:"recent",category:"Recent Searches",relevance:100}))}catch(e){recentSearches$1.value=[]}})(),t()}),{suggestions:computed(()=>suggestions.value),popularSearches:computed(()=>popularSearches$1.value),recentSearches:computed(()=>recentSearches$1.value),isLoading:computed(()=>isLoading$2.value),isVisible:computed(()=>isVisible.value),loadSuggestions:(e,t=10)=>__async(null,null,function*(){if(!e||e.length<2)return suggestions.value=[],[];try{isLoading$2.value=!0;const a=yield fetch(`/api/search-suggestions?q=${encodeURIComponent(e)}&limit=${t}`);if(a.ok){const e=yield a.json();if(e.success)return suggestions.value=e.data,e.data}return[]}catch(a){return[]}finally{isLoading$2.value=!1}}),loadPopularSearches:t,loadRecentSearches:(t=10)=>__async(null,null,function*(){if(!e.value)return recentSearches$1.value=[],[];try{const e=yield fetch(`/api/search-suggestions/recent?limit=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();if(t.success)return recentSearches$1.value=t.data,t.data}return[]}catch(a){return[]}}),saveSearch:t=>__async(null,null,function*(){if(e.value&&t&&!(t.length<2))try{const e=JSON.parse(localStorage.getItem("recent_searches")||"[]"),a=[t,...e.filter(e=>e!==t)].slice(0,10);localStorage.setItem("recent_searches",JSON.stringify(a)),recentSearches$1.value=a.map(e=>({text:e,type:"recent",category:"Recent Searches",relevance:100}))}catch(a){}}),clearRecentSearches:()=>{localStorage.removeItem("recent_searches"),recentSearches$1.value=[]},searchWithDebounce:a,showSuggestions:()=>{isVisible.value=!0},hideSuggestions:()=>{isVisible.value=!1},toggleSuggestions:()=>{isVisible.value=!isVisible.value},getSuggestionIcon:e=>{const t={part:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",brand:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",category:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",vehicle:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2",term:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",popular:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z",recent:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"};return t[e]||t.term},getSuggestionColor:e=>{const t={part:"text-blue-600",brand:"text-green-600",category:"text-purple-600",vehicle:"text-orange-600",term:"text-gray-600",popular:"text-yellow-600",recent:"text-indigo-600"};return t[e]||t.term},getSuggestionBgColor:e=>{const t={part:"bg-blue-50",brand:"bg-green-50",category:"bg-purple-50",vehicle:"bg-orange-50",term:"bg-gray-50",popular:"bg-yellow-50",recent:"bg-indigo-50"};return t[e]||t.term},filterSuggestionsByType:e=>suggestions.value.filter(t=>t.type===e),getSuggestionsByCategory:e=>suggestions.value.filter(t=>t.category===e),getAllSuggestions:r,getSuggestionsCount:o}}const searchHistory=ref([]),searchStatistics=ref({}),popularSearches=ref([]),searchTrends=ref([]),recentSearches=ref([]),searchAnalytics=ref({}),isLoading$1=ref(!1);function useSearchHistory(){const{isAuthenticated:e}=useAuth(),t=e=>e<.5?"Excellent":e<1?"Good":e<2?"Average":"Slow",a=computed(()=>searchStatistics.value.total_searches||0),r=computed(()=>searchStatistics.value.successful_searches||0),o=computed(()=>searchStatistics.value.failed_searches||0),s=computed(()=>searchStatistics.value.searches_with_results||0),i=computed(()=>searchStatistics.value.searches_without_results||0),l=computed(()=>searchStatistics.value.average_results||0),n=computed(()=>searchStatistics.value.average_duration||0),d=computed(()=>searchStatistics.value.unique_queries||0),c=computed(()=>searchStatistics.value.most_searched_query||"");return{searchHistory:readonly(searchHistory),searchStatistics:readonly(searchStatistics),popularSearches:readonly(popularSearches),searchTrends:readonly(searchTrends),recentSearches:readonly(recentSearches),searchAnalytics:readonly(searchAnalytics),isLoading:readonly(isLoading$1),loadSearchHistory:(...t)=>__async(null,[...t],function*(t={}){if(e.value)try{isLoading$1.value=!0;const e=new URLSearchParams(t).toString(),a=yield fetch(`/api/search-history?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();if(e.success)return searchHistory.value=e.data,{history:e.data,pagination:e.pagination}}return{history:[],pagination:null}}catch(a){return{history:[],pagination:null}}finally{isLoading$1.value=!1}}),loadSearchStatistics:(t=30)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/search-history/statistics?days=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(searchStatistics.value=t.data)}}catch(a){}}),loadPopularSearches:(t=10,a=30)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/search-history/popular?limit=${t}&days=${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(popularSearches.value=t.data)}}catch(r){}}),loadSearchTrends:(t=30)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/search-history/trends?days=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(searchTrends.value=t.data)}}catch(a){}}),loadRecentSearches:(t=10)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/search-history/recent?limit=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(recentSearches.value=t.data)}}catch(a){}}),loadSearchAnalytics:(t=30)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/search-history/analytics?days=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(searchAnalytics.value=t.data)}}catch(a){}}),recordSearch:t=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch("/api/search-history",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({search_query:t.query,search_type:t.type||"car_parts",search_category:t.category,search_filters:t.filters,results_count:t.resultsCount||0,search_duration:t.duration,search_source:t.source||"web",search_context:t.context,additional_data:t.additionalData,is_successful:!1!==t.isSuccessful,error_message:t.errorMessage})});if(e.ok){const t=yield e.json();if(t.success)return recentSearches.value.unshift(t.data),recentSearches.value.length>10&&(recentSearches.value=recentSearches.value.slice(0,10)),!0}return!1}catch(a){return!1}}),clearSearchHistory:(t=null)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=t?`/api/search-history?days=${t}`:"/api/search-history",a=yield fetch(e,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return!(!a.ok||!(yield a.json()).success)&&(searchHistory.value=[],recentSearches.value=[],!0)}catch(a){return!1}}),deleteSearchHistoryEntry:t=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/search-history/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok&&(yield e.json()).success){const e=searchHistory.value.findIndex(e=>e.id===t);return-1!==e&&searchHistory.value.splice(e,1),!0}return!1}catch(a){return!1}}),getSearchFrequency:e=>searchHistory.value.filter(t=>t.search_query===e).length,getPerformanceRating:t,getPerformanceColor:e=>({Excellent:"green",Good:"blue",Average:"yellow",Slow:"red"}[t(e)]||"gray"),formatDuration:e=>e<1?Math.round(1e3*e)+"ms":Math.round(100*e)/100+"s",formatTimestamp:e=>{const t=new Date(e),a=new Date-t;if(a<6e4)return"Just now";if(a<36e5){const e=Math.floor(a/6e4);return`${e} minute${e>1?"s":""} ago`}if(a<864e5){const e=Math.floor(a/36e5);return`${e} hour${e>1?"s":""} ago`}if(a<6048e5){const e=Math.floor(a/864e5);return`${e} day${e>1?"s":""} ago`}return t.toLocaleDateString()},getResultStatus:e=>e>0?`Found ${e} result${e>1?"s":""}`:"No results found",getSuccessStatus:e=>e?"Successful":"Failed",getSearchTypeIcon:e=>{const t={car_parts:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",diagnosis:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",vehicles:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2-2v11a2 2 0 002 2h11a2 2 0 002-2v-2",brands:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",categories:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"};return t[e]||t.car_parts},getSearchTypeColor:e=>({car_parts:"blue",diagnosis:"green",vehicles:"purple",brands:"orange",categories:"pink"}[e]||"gray"),filterSearchHistory:e=>{let t=searchHistory.value;if(e.searchType&&(t=t.filter(t=>t.search_type===e.searchType)),e.searchCategory&&(t=t.filter(t=>t.search_category===e.searchCategory)),null!==e.isSuccessful&&(t=t.filter(t=>t.is_successful===e.isSuccessful)),null!==e.hasResults&&(t=e.hasResults?t.filter(e=>e.results_count>0):t.filter(e=>0===e.results_count)),e.deviceType&&(t=t.filter(t=>t.device_type===e.deviceType)),e.browser&&(t=t.filter(t=>t.browser===e.browser)),e.search){const a=e.search.toLowerCase();t=t.filter(e=>e.search_query.toLowerCase().includes(a))}return t},totalSearches:a,successfulSearches:r,failedSearches:o,searchesWithResults:s,searchesWithoutResults:i,averageResults:l,averageDuration:n,uniqueQueries:d,mostSearchedQuery:c}}const savedSearches=ref([]),savedSearchStatistics=ref({}),publicSearches=ref([]),trendingSearches=ref([]),recommendedSearches=ref([]),isLoading=ref(!1);function useSavedSearches(){const{isAuthenticated:e}=useAuth(),t=(...t)=>__async(null,[...t],function*(t={}){if(e.value)try{isLoading.value=!0;const e=new URLSearchParams(t).toString(),a=yield fetch(`/api/saved-searches?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();if(e.success)return savedSearches.value=e.data,{searches:e.data,pagination:e.pagination}}return{searches:[],pagination:null}}catch(a){return{searches:[],pagination:null}}finally{isLoading.value=!1}}),a=()=>__async(null,null,function*(){if(e.value)try{const e=yield fetch("/api/saved-searches/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(savedSearchStatistics.value=t.data)}}catch(t){}}),r=r=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch("/api/saved-searches",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({search_name:r.name,search_query:r.query,search_type:r.type||"car_parts",search_category:r.category,search_filters:r.filters,search_description:r.description,is_public:r.isPublic||!1,is_favorite:r.isFavorite||!1,tags:r.tags,notification_enabled:r.notificationEnabled||!1,notification_frequency:r.notificationFrequency||"weekly",search_source:r.source||"web",search_context:r.context,additional_data:r.additionalData})});if(e.ok){const r=yield e.json();if(r.success)return yield t(),yield a(),r.data}return!1}catch(o){return!1}}),o=e=>e<.5?"Excellent":e<1?"Good":e<2?"Average":"Slow",s=computed(()=>savedSearchStatistics.value.total_saved_searches||0),i=computed(()=>savedSearchStatistics.value.public_saved_searches||0),l=computed(()=>savedSearchStatistics.value.private_saved_searches||0),n=computed(()=>savedSearchStatistics.value.favorite_saved_searches||0),d=computed(()=>savedSearchStatistics.value.searches_with_notifications||0),c=computed(()=>savedSearchStatistics.value.total_search_count||0),u=computed(()=>savedSearchStatistics.value.average_search_count||0),p=computed(()=>savedSearchStatistics.value.most_searched||"");return{savedSearches:readonly(savedSearches),savedSearchStatistics:readonly(savedSearchStatistics),publicSearches:readonly(publicSearches),trendingSearches:readonly(trendingSearches),recommendedSearches:readonly(recommendedSearches),isLoading:readonly(isLoading),loadSavedSearches:t,loadSavedSearchStatistics:a,loadPublicSearches:(...e)=>__async(null,[...e],function*(e={}){try{const t=new URLSearchParams(e).toString(),a=yield fetch(`/api/saved-searches/public?${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();e.success&&(publicSearches.value=e.data)}}catch(t){}}),loadTrendingSearches:(e=10,t=7)=>__async(null,null,function*(){try{const a=yield fetch(`/api/saved-searches/trending?limit=${e}&days=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const e=yield a.json();e.success&&(trendingSearches.value=e.data)}}catch(a){}}),loadRecommendedSearches:(t=10)=>__async(null,null,function*(){if(e.value)try{const e=yield fetch(`/api/saved-searches/recommended?limit=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();t.success&&(recommendedSearches.value=t.data)}}catch(a){}}),createSavedSearch:r,updateSavedSearch:(r,o)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok){const r=yield e.json();if(r.success)return yield t(),yield a(),r.data}return!1}catch(s){return!1}}),deleteSavedSearch:r=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return!(!e.ok||!(yield e.json()).success)&&(yield t(),yield a(),!0)}catch(o){return!1}}),executeSavedSearch:(r,o=0,s=0,i=!0)=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${r}/execute`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({results_count:o,duration:s,is_successful:i})});if(e.ok){const r=yield e.json();if(r.success)return yield t(),yield a(),r.data}return!1}catch(l){return!1}}),toggleFavorite:a=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${a}/toggle-favorite`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const a=yield e.json();if(a.success)return yield t(),a.data}return!1}catch(r){return!1}}),toggleNotification:a=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${a}/toggle-notification`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const a=yield e.json();if(a.success)return yield t(),a.data}return!1}catch(r){return!1}}),duplicateSavedSearch:r=>__async(null,null,function*(){if(!e.value)return!1;try{const e=yield fetch(`/api/saved-searches/${r}/duplicate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(e.ok){const r=yield e.json();if(r.success)return yield t(),yield a(),r.data}return!1}catch(o){return!1}}),searchSavedSearches:(e,t=null,a=20)=>__async(null,null,function*(){try{const r=new URLSearchParams({q:e,limit:a});null!==t&&r.append("is_public",t);const o=yield fetch(`/api/saved-searches/search?${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(o.ok){const e=yield o.json();if(e.success)return e.data}return[]}catch(r){return[]}}),saveCurrentSearch:t=>__async(null,null,function*(){if(!e.value)return!1;const a={name:t.name||t.query,query:t.query,type:t.type||"car_parts",category:t.category,filters:t.filters,description:t.description,isPublic:t.isPublic||!1,isFavorite:t.isFavorite||!1,tags:t.tags,notificationEnabled:t.notificationEnabled||!1,notificationFrequency:t.notificationFrequency||"weekly",source:t.source||"web",context:t.context,additionalData:t.additionalData};return yield r(a)}),getSavedSearchById:e=>savedSearches.value.find(t=>t.id===e),isSearchSaved:(e,t="car_parts")=>savedSearches.value.some(a=>a.search_query===e&&a.search_type===t),getSavedSearchByQuery:(e,t="car_parts")=>savedSearches.value.find(a=>a.search_query===e&&a.search_type===t),formatSearchCount:e=>e>=1e3?Math.round(e/1e3*10)/10+"k":e.toString(),formatResultsCount:e=>e>=1e3?Math.round(e/1e3*10)/10+"k":e.toString(),formatAverageDuration:e=>e<1?Math.round(1e3*e)+"ms":Math.round(100*e)/100+"s",formatSuccessRate:e=>Math.round(10*e)/10+"%",getSearchTypeIcon:e=>{const t={car_parts:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",diagnosis:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",vehicles:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2-2v11a2 2 0 002 2h11a2 2 0 002-2v-2",brands:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",categories:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"};return t[e]||t.car_parts},getSearchTypeColor:e=>({car_parts:"blue",diagnosis:"green",vehicles:"purple",brands:"orange",categories:"pink"}[e]||"gray"),getPerformanceRating:o,getPerformanceColor:e=>({Excellent:"green",Good:"blue",Average:"yellow",Slow:"red"}[o(e)]||"gray"),getNotificationFrequencyDisplay:e=>({daily:"Daily",weekly:"Weekly",monthly:"Monthly",instant:"Instant"}[e]||"Disabled"),getTagsDisplay:e=>e&&0!==e.length?e.join(", "):"No tags",getFiltersDisplay:e=>{if(!e||0===Object.keys(e).length)return"No filters";const t=[];for(const[a,r]of Object.entries(e))r&&t.push(`${a}: ${r}`);return t.join(", ")},getLastSearchedDisplay:e=>{if(!e)return"Never";const t=new Date(e),a=new Date,r=Math.floor((a-t)/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?`${r} days ago`:r<30?`${Math.round(r/7)} weeks ago`:`${Math.round(r/30)} months ago`},filterSavedSearches:e=>{let t=savedSearches.value;if(e.searchType&&(t=t.filter(t=>t.search_type===e.searchType)),e.searchCategory&&(t=t.filter(t=>t.search_category===e.searchCategory)),null!==e.isPublic&&(t=t.filter(t=>t.is_public===e.isPublic)),null!==e.isFavorite&&(t=t.filter(t=>t.is_favorite===e.isFavorite)),null!==e.hasNotifications&&(t=t.filter(t=>t.notification_enabled===e.hasNotifications)),e.tag&&(t=t.filter(t=>t.tags&&t.tags.includes(e.tag))),e.search){const a=e.search.toLowerCase();t=t.filter(e=>{var t;return e.search_name.toLowerCase().includes(a)||e.search_query.toLowerCase().includes(a)||(null==(t=e.search_description)?void 0:t.toLowerCase().includes(a))||e.tags&&e.tags.some(e=>e.toLowerCase().includes(a))})}return t},totalSavedSearches:s,publicSavedSearches:i,privateSavedSearches:l,favoriteSavedSearches:n,searchesWithNotifications:d,totalSearchCount:c,averageSearchCount:u,mostSearched:p}}function useRealTimeStock(){const e=ref(!1),t=reactive(new Map),a=ref(null),r=ref(0),o=ref(1e3);let s=null,i=null,l=null;const n=ref([]),d=ref(5),c=ref(2),u=()=>{try{const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/ws/stock-updates`;s=new WebSocket(t),s.onopen=()=>{e.value=!0,r.value=0,o.value=1e3;const t=localStorage.getItem("token");t&&s.send(JSON.stringify({type:"auth",token:t})),g(),s.send(JSON.stringify({type:"subscribe",channel:"stock_updates"}))},s.onmessage=e=>{try{const t=JSON.parse(e.data);p(t)}catch(t){}},s.onclose=t=>{e.value=!1,y(),1e3!==t.code&&r.value<5&&v()},s.onerror=t=>{e.value=!1}}catch(t){v()}},p=e=>{switch(a.value=new Date,e.type){case"stock_update":h(e.payload);break;case"stock_alert":m(e.payload);break;case"bulk_update":_(e.payload)}},h=e=>{const{part_id:a,stock_quantity:r,previous_quantity:o,source:s,timestamp:i}=e;t.set(a,{stock_quantity:r,previous_quantity:o,source:s,timestamp:new Date(i),change:r-(o||0)}),r<=c.value?m({part_id:a,type:"critical",message:`Critical stock level: Only ${r} left!`,stock_quantity:r}):r<=d.value&&m({part_id:a,type:"low",message:`Low stock: Only ${r} left`,stock_quantity:r}),window.dispatchEvent(new CustomEvent("stockUpdate",{detail:{part_id:a,stock_quantity:r,previous_quantity:o,change:r-(o||0)}}))},_=e=>{e.forEach(e=>{h(e)})},m=e=>{const t=__spreadValues({id:Date.now()+Math.random(),timestamp:new Date},e);n.value.unshift(t),n.value.length>50&&(n.value=n.value.slice(0,50)),"granted"===Notification.permission&&new Notification("Stock Alert",{body:e.message,icon:"/icons/icon-96x96.png",tag:`stock-${e.part_id}`})},g=()=>{l=setInterval(()=>{s&&s.readyState===WebSocket.OPEN&&s.send(JSON.stringify({type:"ping"}))},3e4)},y=()=>{l&&(clearInterval(l),l=null)},v=()=>{r.value>=5||(r.value++,i=setTimeout(()=>{u(),o.value=Math.min(2*o.value,3e4)},o.value))},f=()=>{i&&(clearTimeout(i),i=null),y(),s&&(s.close(1e3,"Manual disconnect"),s=null),e.value=!1},x=e=>e<=0?"out-of-stock":e<=c.value?"critical":e<=d.value?"low":"normal",k=()=>{const e=new Date(Date.now()-36e5);n.value=n.value.filter(t=>t.timestamp>e)},b=()=>__async(null,null,function*(){return"Notification"in window&&"default"===Notification.permission?"granted"===(yield Notification.requestPermission()):"granted"===Notification.permission}),B=computed(()=>e.value?"connected":r.value>0?"reconnecting":"disconnected"),w=computed(()=>n.value.some(e=>!e.read)),N=computed(()=>n.value.filter(e=>"critical"===e.type));return onMounted(()=>{u(),b(),setInterval(k,36e5)}),onUnmounted(()=>{f()}),{isConnected:e,connectionStatus:B,stockUpdates:t,stockAlerts:n,lastUpdate:a,hasUnreadAlerts:w,criticalAlerts:N,connect:u,disconnect:f,getPartStock:e=>t.get(e)||null,getStockLevel:x,getStockColor:e=>({"out-of-stock":"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/20",critical:"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900/20",low:"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20",normal:"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/20"}[x(e)]),getStockText:e=>({"out-of-stock":"Out of Stock",critical:`Only ${e} left!`,low:`${e} in stock`,normal:"In Stock"}[x(e)]),dismissAlert:e=>{const t=n.value.findIndex(t=>t.id===e);-1!==t&&n.value.splice(t,1)},clearOldAlerts:k,requestNotificationPermission:b,lowStockThreshold:d,criticalStockThreshold:c}}function useTouch(){const e=ref(!1),t=ref({x:0,y:0,time:0}),a=ref({x:0,y:0,time:0}),r=ref({x:0,y:0,time:0}),o=ref(!1),s=ref(null),i=ref(0),l=ref(0),n=ref(!1),d=ref(0),c=ref(80),u=ref(!1),p=ref(!1),h=ref(1),_=ref({x:0,y:0}),m=ref(!1),g=ref(null),y=ref(500),v=ref({swipeThreshold:50,swipeTimeout:300,velocityThreshold:.3,preventScroll:!1,enablePullRefresh:!0,enablePinchZoom:!1,enableLongPress:!0}),f=ref({onSwipeLeft:null,onSwipeRight:null,onSwipeUp:null,onSwipeDown:null,onPullRefresh:null,onPinchStart:null,onPinchMove:null,onPinchEnd:null,onLongPress:null,onTap:null,onDoubleTap:null}),x=ref(0),k=ref(300),b=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),B=e=>{const a=e.touches[0],r=Date.now();if(t.value={x:a.clientX,y:a.clientY,time:r},o.value=!1,s.value=null,2===e.touches.length&&v.value.enablePinchZoom){const t=e.touches[0],a=e.touches[1];p.value=!0,_.value={x:(t.clientX+a.clientX)/2,y:(t.clientY+a.clientY)/2},f.value.onPinchStart&&f.value.onPinchStart({center:_.value,distance:b(t,a)})}v.value.enableLongPress&&(g.value=setTimeout(()=>{m.value=!0,f.value.onLongPress&&f.value.onLongPress({x:a.clientX,y:a.clientY})},y.value)),v.value.preventScroll&&e.preventDefault()},w=e=>{if(!t.value.time)return;const l=e.touches[0],y=Date.now();if(a.value={x:l.clientX,y:l.clientY,time:y},r.value={x:a.value.x-t.value.x,y:a.value.y-t.value.y,time:a.value.time-t.value.time},g.value&&(clearTimeout(g.value),g.value=null,m.value=!1),2===e.touches.length&&p.value&&v.value.enablePinchZoom){const t=e.touches[0],a=e.touches[1],r=b(t,a);return f.value.onPinchMove&&f.value.onPinchMove({scale:h.value,distance:r,center:_.value}),void e.preventDefault()}v.value.enablePullRefresh&&r.value.y>0&&0===window.scrollY&&(n.value=!0,d.value=Math.min(r.value.y,2*c.value),d.value>=c.value&&!u.value&&(document.body.style.transform=`translateY(${Math.min(d.value/3,30)}px)`));const x=Math.abs(r.value.x)+Math.abs(r.value.y);if(x>v.value.swipeThreshold){o.value=!0,i.value=x;const e=(k=t.value,B=a.value,180*Math.atan2(B.y-k.y,B.x-k.x)/Math.PI);s.value=(e=>e>=-45&&e<=45?"right":e>=45&&e<=135?"down":e>=-135&&e<=-45?"up":"left")(e)}var k,B;o.value&&v.value.preventScroll&&e.preventDefault()},N=e=>{if(!t.value.time)return;const _=Date.now();if(a.value.time=_,g.value&&(clearTimeout(g.value),g.value=null),p.value)return p.value=!1,h.value=1,void(f.value.onPinchEnd&&f.value.onPinchEnd());if(n.value)return n.value=!1,document.body.style.transform="",d.value>=c.value&&!u.value&&(u.value=!0,f.value.onPullRefresh&&f.value.onPullRefresh().finally(()=>{u.value=!1})),void(d.value=0);if(r.value.time>0&&(l.value=i.value/r.value.time),o.value&&r.value.time<=v.value.swipeTimeout&&l.value>=v.value.velocityThreshold){const e=f.value[`onSwipe${s.value.charAt(0).toUpperCase()+s.value.slice(1)}`];e&&e({direction:s.value,distance:i.value,velocity:l.value,startPoint:t.value,endPoint:a.value})}else if(!o.value&&!m.value){const e=Date.now();e-x.value<k.value?(f.value.onDoubleTap&&f.value.onDoubleTap({x:a.value.x,y:a.value.y}),x.value=0):(x.value=e,setTimeout(()=>{x.value===e&&f.value.onTap&&f.value.onTap({x:a.value.x,y:a.value.y})},k.value))}m.value=!1,o.value=!1,s.value=null,i.value=0,l.value=0,t.value={x:0,y:0,time:0},a.value={x:0,y:0,time:0},r.value={x:0,y:0,time:0}},V=computed(()=>"left"===s.value),$=computed(()=>"right"===s.value),S=computed(()=>"up"===s.value),C=computed(()=>"down"===s.value),M=computed(()=>v.value.enablePullRefresh&&d.value>=c.value&&!u.value);return onMounted(()=>{e.value="ontouchstart"in window||navigator.maxTouchPoints>0}),onUnmounted(()=>{g.value&&clearTimeout(g.value)}),{isTouch:e,isSwiping:o,swipeDirection:s,swipeDistance:i,swipeVelocity:l,isPulling:n,pullDistance:d,isRefreshing:u,isPinching:p,pinchScale:h,isLongPressing:m,addTouchListeners:e=>{e&&(e.addEventListener("touchstart",B,{passive:!1}),e.addEventListener("touchmove",w,{passive:!1}),e.addEventListener("touchend",N,{passive:!1}),e.addEventListener("touchcancel",N,{passive:!1}))},removeTouchListeners:e=>{e&&(e.removeEventListener("touchstart",B),e.removeEventListener("touchmove",w),e.removeEventListener("touchend",N),e.removeEventListener("touchcancel",N))},setCallback:(e,t)=>{f.value[e]=t},configure:e=>{v.value=__spreadValues(__spreadValues({},v.value),e)},setPullRefresh:(e,t=80)=>{v.value.enablePullRefresh=e,c.value=t},setPinchZoom:e=>{v.value.enablePinchZoom=e},setLongPress:(e,t=500)=>{v.value.enableLongPress=e,y.value=t},isSwipingLeft:V,isSwipingRight:$,isSwipingUp:S,isSwipingDown:C,canPullRefresh:M,config:v}}function useMobileLayout(){var e;const t=ref(window.innerWidth),a=ref(window.innerHeight),r=ref((null==(e=screen.orientation)?void 0:e.type)||"portrait-primary"),o=navigator.userAgent,s=/iPad|iPhone|iPod/.test(o),i=/Android/.test(o),l=/Mobi|Android/i.test(o),n=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(o),d={xs:475,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},c=computed(()=>t.value<d.xs),u=computed(()=>t.value>=d.sm&&t.value<d.md),p=computed(()=>t.value>=d.md&&t.value<d.lg),h=computed(()=>t.value>=d.lg&&t.value<d.xl),_=computed(()=>t.value>=d.xl&&t.value<d["2xl"]),m=computed(()=>t.value>=d["2xl"]),g=computed(()=>l||n),y=computed(()=>t.value<375),v=computed(()=>t.value>=375&&t.value<414),f=computed(()=>t.value>=414&&t.value<d.sm),x=computed(()=>a.value>t.value),k=computed(()=>t.value>a.value),b=ref(0),B=ref(0),w=ref(0),N=ref(0),V=ref(window.innerHeight),$=ref(document.documentElement.clientHeight),S=()=>{t.value=window.innerWidth,a.value=window.innerHeight,V.value=window.innerHeight,$.value=document.documentElement.clientHeight},C=()=>{var e;r.value=(null==(e=screen.orientation)?void 0:e.type)||(window.innerWidth>window.innerHeight?"landscape-primary":"portrait-primary")},M=computed(()=>b.value>0||B.value>0||w.value>0||N.value>0),D=computed(()=>y.value?"small-mobile":v.value?"medium-mobile":f.value?"large-mobile":n?"tablet":p.value?"small-desktop":h.value?"desktop":_.value?"large-desktop":"extra-large-desktop"),P=()=>{document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px"),S()};return onMounted(()=>{S(),C(),(()=>{const e=getComputedStyle(document.documentElement);b.value=parseInt(e.getPropertyValue("--sat")||"0"),B.value=parseInt(e.getPropertyValue("--sab")||"0"),w.value=parseInt(e.getPropertyValue("--sal")||"0"),N.value=parseInt(e.getPropertyValue("--sar")||"0")})(),P(),window.addEventListener("resize",S),window.addEventListener("orientationchange",C),window.addEventListener("resize",P);const e=document.createElement("style");e.textContent="\n      :root {\n        --sat: env(safe-area-inset-top);\n        --sab: env(safe-area-inset-bottom);\n        --sal: env(safe-area-inset-left);\n        --sar: env(safe-area-inset-right);\n      }\n    ",document.head.appendChild(e)}),onUnmounted(()=>{window.removeEventListener("resize",S),window.removeEventListener("orientationchange",C),window.removeEventListener("resize",P)}),{screenWidth:t,screenHeight:a,viewportHeight:V,orientation:r,isIOS:s,isAndroid:i,isMobile:l,isTablet:n,isMobileDevice:g,isXs:c,isSm:u,isMd:p,isLg:h,isXl:_,is2Xl:m,isSmallMobile:y,isMediumMobile:v,isLargeMobile:f,isPortrait:x,isLandscape:k,safeAreaTop:b,safeAreaBottom:B,safeAreaLeft:w,safeAreaRight:N,hasNotch:M,deviceType:D,getGridColumns:(e={})=>{const{xs:t=1,sm:a=2,md:r=3,lg:o=4,xl:s=5,"2xl":i=6}=e;return m.value?i:_.value?s:h.value?o:p.value?r:u.value?a:t},getSpacing:(e={})=>{const{xs:t=2,sm:a=3,md:r=4,lg:o=6,xl:s=8}=e;return _.value||m.value?s:h.value?o:p.value?r:u.value?a:t},getTextSize:(e={})=>{const{xs:t="text-sm",sm:a="text-base",md:r="text-lg",lg:o="text-xl"}=e;return h.value||_.value||m.value?o:p.value?r:u.value?a:t},getContainerPadding:()=>y.value?"px-3":v.value?"px-4":f.value?"px-5":p.value?"px-6":"px-8",getButtonSize:(e="md")=>{const t={xs:g.value?"px-3 py-2 text-sm min-h-[40px]":"px-2 py-1 text-xs min-h-[32px]",sm:g.value?"px-4 py-2 text-base min-h-[44px]":"px-3 py-2 text-sm min-h-[36px]",md:g.value?"px-6 py-3 text-lg min-h-[48px]":"px-4 py-2 text-base min-h-[44px]",lg:g.value?"px-8 py-4 text-xl min-h-[56px]":"px-6 py-3 text-lg min-h-[48px]",xl:g.value?"px-10 py-5 text-2xl min-h-[64px]":"px-8 py-4 text-xl min-h-[56px]"};return t[e]||t.md},getCardWidth:()=>y.value?"w-full":v.value?"w-full max-w-sm":f.value?"w-full max-w-md":p.value?"w-full max-w-lg":"w-full max-w-xl",getModalPosition:()=>g.value?{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",transform:"none",maxHeight:"100vh",borderRadius:"0"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",borderRadius:"0.5rem"},breakpoints:d}}function usePriceAlerts(){const e=ref([]),t=ref([]),a=reactive(new Map),r=ref(!1),o=ref(null),s=ref({enablePriceDropAlerts:!0,enablePriceIncreaseAlerts:!1,enableTargetPriceAlerts:!0,minimumDropPercentage:5,minimumIncreasePercentage:10,checkInterval:3e4,maxHistoryDays:30}),i={PRICE_DROP:"price_drop",PRICE_INCREASE:"price_increase",TARGET_PRICE:"target_price",SIGNIFICANT_CHANGE:"significant_change"},l=(e,a,r)=>{e.triggeredCount++;const o={id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,alertId:e.id,partId:e.partId,type:e.alertType,message:a,data:r,timestamp:new Date,isRead:!1,priority:n(e.alertType,r)};t.value.unshift(o),t.value.length>50&&(t.value=t.value.slice(0,50)),d(o),c(o),_()},n=(e,t)=>{switch(e){case i.TARGET_PRICE:return"high";case i.PRICE_DROP:return t.dropPercentage>20?"high":"medium";case i.SIGNIFICANT_CHANGE:return t.changePercentage>25?"high":"medium";default:return"low"}},d=e=>{if("granted"===Notification.permission){const t=new Notification("CarWise Price Alert",{body:e.message,icon:"/icons/icon-96x96.png",tag:`price-alert-${e.partId}`,badge:"/icons/icon-96x96.png",requireInteraction:"high"===e.priority});t.onclick=()=>{window.focus(),window.dispatchEvent(new CustomEvent("openPriceAlert",{detail:{alertId:e.alertId,partId:e.partId}})),t.close()},"high"!==e.priority&&setTimeout(()=>t.close(),1e4)}},c=e=>{const t=document.createElement("div");t.className="fixed top-4 right-4 z-50 max-w-sm p-4 rounded-lg shadow-lg text-white text-sm font-medium transition-all duration-300 transform translate-x-full";const a={high:"bg-red-500",medium:"bg-orange-500",low:"bg-blue-500"};t.className+=` ${a[e.priority]||a.low}`,t.innerHTML=`\n      <div class="flex items-start justify-between">\n        <div class="flex-1">\n          <div class="font-semibold mb-1">Price Alert</div>\n          <div class="text-sm opacity-90">${e.message}</div>\n        </div>\n        <button class="ml-2 text-white hover:text-gray-200" onclick="this.parentElement.parentElement.remove()">\n          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n          </svg>\n        </button>\n      </div>\n    `,document.body.appendChild(t),setTimeout(()=>{t.classList.remove("translate-x-full")},100),setTimeout(()=>{t.classList.add("translate-x-full"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)},8e3)},u=e=>{const t=a.get(e);return t&&t.length>0?t[t.length-1].price:null},p=(e,t=7)=>{const r=a.get(e)||[],o=new Date(Date.now()-24*t*60*60*1e3);return r.filter(e=>e.timestamp>=o)},h=()=>{const e=new Date(Date.now()-6048e5);t.value=t.value.filter(t=>t.timestamp>e),_()},_=()=>{try{localStorage.setItem("carwise_price_alerts",JSON.stringify(e.value)),localStorage.setItem("carwise_active_price_alerts",JSON.stringify(t.value)),localStorage.setItem("carwise_alert_settings",JSON.stringify(s.value))}catch(a){}},m=()=>__async(null,null,function*(){return"Notification"in window&&"default"===Notification.permission?"granted"===(yield Notification.requestPermission()):"granted"===Notification.permission}),g=computed(()=>t.value.filter(e=>!e.isRead)),y=computed(()=>t.value.filter(e=>"high"===e.priority&&!e.isRead)),v=computed(()=>({total:e.value.length,active:e.value.filter(e=>e.isActive).length,unread:g.value.length,highPriority:y.value.length}));return onMounted(()=>{(()=>{try{const a=localStorage.getItem("carwise_price_alerts"),r=localStorage.getItem("carwise_active_price_alerts"),o=localStorage.getItem("carwise_alert_settings");a&&(e.value=JSON.parse(a).map(e=>__spreadProps(__spreadValues({},e),{createdAt:new Date(e.createdAt),lastChecked:e.lastChecked?new Date(e.lastChecked):null}))),r&&(t.value=JSON.parse(r).map(e=>__spreadProps(__spreadValues({},e),{timestamp:new Date(e.timestamp)}))),o&&(s.value=__spreadValues(__spreadValues({},s.value),JSON.parse(o)))}catch(a){}})(),m(),setInterval(h,36e5)}),onUnmounted(()=>{_()}),{priceAlerts:e,activePriceAlerts:t,priceHistory:a,isTrackingPrices:r,lastPriceUpdate:o,alertSettings:s,createPriceAlert:(t,a,r=null,o=null)=>{const s={id:`alert_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,partId:t,alertType:a,targetPrice:r,threshold:o,isActive:!0,createdAt:new Date,lastChecked:null,triggeredCount:0,metadata:{originalPrice:u(t),userAgent:navigator.userAgent,source:"user_created"}};return e.value.push(s),_(),s},removePriceAlert:t=>{const a=e.value.findIndex(e=>e.id===t);return-1!==a&&(e.value.splice(a,1),_(),!0)},updatePartPrice:(t,r,n=null)=>{const d=new Date;a.has(t)||a.set(t,[]);const c=a.get(t);c.push({price:r,timestamp:d,change:n?r-n:0,changePercentage:n?(r-n)/n*100:0}),c.length>100&&c.splice(0,c.length-100),o.value=d,((t,a,r)=>{e.value.filter(e=>e.partId===t&&e.isActive).forEach(e=>{e.lastChecked=new Date;let t=!1,o="",n={};switch(e.alertType){case i.PRICE_DROP:if(r&&a<r){const i=(r-a)/r*100;i>=(e.threshold||s.value.minimumDropPercentage)&&(t=!0,o=`Price dropped by ${i.toFixed(1)}%! Now $${a.toFixed(2)} (was $${r.toFixed(2)})`,n={dropPercentage:i,currentPrice:a,previousPrice:r})}break;case i.PRICE_INCREASE:if(r&&a>r){const i=(a-r)/r*100;i>=(e.threshold||s.value.minimumIncreasePercentage)&&(t=!0,o=`Price increased by ${i.toFixed(1)}%! Now $${a.toFixed(2)} (was $${r.toFixed(2)})`,n={increasePercentage:i,currentPrice:a,previousPrice:r})}break;case i.TARGET_PRICE:e.targetPrice&&a<=e.targetPrice&&(t=!0,o=`Target price reached! Now $${a.toFixed(2)} (target: $${e.targetPrice.toFixed(2)})`,n={targetPrice:e.targetPrice,currentPrice:a});break;case i.SIGNIFICANT_CHANGE:if(r){const s=Math.abs((a-r)/r*100);if(s>=(e.threshold||15)){t=!0;const e=a>r?"increased":"decreased";o=`Significant price change! Price ${e} by ${s.toFixed(1)}%`,n={changePercentage:s,currentPrice:a,previousPrice:r,direction:e}}}}t&&l(e,o,n)})})(t,r,n),window.dispatchEvent(new CustomEvent("priceUpdate",{detail:{partId:t,newPrice:r,oldPrice:n,timestamp:d}}))},getCurrentPrice:u,getPriceHistory:p,getPriceTrend:(e,t=7)=>{const a=p(e,t);if(a.length<2)return"stable";const r=a[0].price,o=(a[a.length-1].price-r)/r*100;return o>5?"increasing":o<-5?"decreasing":"stable"},markAlertAsRead:e=>{const a=t.value.find(t=>t.id===e);a&&(a.isRead=!0,_())},clearOldNotifications:h,requestNotificationPermission:m,unreadAlerts:g,highPriorityAlerts:y,alertsCount:v,ALERT_TYPES:i}}var define_process_env_default={};function usePWA(){const e=ref(!1),t=ref(!1),a=ref(navigator.onLine),r=ref(!1),o=ref(!1),s=ref(!1),i=ref(null),l=ref(null),n=ref(null),d=ref(!1),c=ref(!1),u=ref(!1),p=ref(!1),h=ref(!1),_=ref(!1),m=computed(()=>e.value?"installed":t.value?"installable":"browser"),g=computed(()=>e.value||r.value),y=computed(()=>({canCache:!0,canSync:u.value,canBackgroundSync:h.value,canPeriodicSync:_.value})),v=()=>__async(null,null,function*(){return"Notification"in window&&"granted"===(yield Notification.requestPermission())}),f=e=>{e.preventDefault(),l.value=e,t.value=!0},x=()=>{e.value=!0,t.value=!1,l.value=null,localStorage.setItem("pwa-installed","true"),B()},k=()=>{a.value=!0,h.value&&i.value&&i.value.sync.register("online-sync")},b=()=>{a.value=!1},B=()=>{"undefined"!=typeof gtag&&gtag("event","pwa_install",{event_category:"PWA",event_label:"Installation"})};return onMounted(()=>__async(null,null,function*(){r.value=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),e.value=r.value||"true"===localStorage.getItem("pwa-installed"),d.value="serviceWorker"in navigator&&"PushManager"in window,c.value="share"in navigator,u.value="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,p.value="PushManager"in window&&"Notification"in window,h.value="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,_.value="serviceWorker"in navigator&&"periodicSync"in window.ServiceWorkerRegistration.prototype,yield __async(null,null,function*(){if("serviceWorker"in navigator)try{const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});return i.value=e,e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(o.value=!0,s.value=!0,"Notification"in window&&"granted"===Notification.permission&&new Notification("CarWise.ai Update Available",{body:"A new version is available. Click to update.",icon:"/icons/icon-192x192.png",tag:"pwa-update",requireInteraction:!0,actions:[{action:"update",title:"Update Now"},{action:"dismiss",title:"Later"}]}))})}),e}catch(e){return null}return null}),window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",x),window.addEventListener("online",k),window.addEventListener("offline",b),p.value&&(yield v())})),onUnmounted(()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",x),window.removeEventListener("online",k),window.removeEventListener("offline",b)}),{isInstalled:e,isInstallable:t,isOnline:a,isStandalone:r,hasUpdate:o,isUpdateAvailable:s,swRegistration:i,installPrompt:l,updatePrompt:n,canInstall:d,canShare:c,canSync:u,canPush:p,canBackgroundSync:h,canPeriodicSync:_,pwaStatus:m,isPWAReady:g,offlineCapabilities:y,installPWA:()=>__async(null,null,function*(){return!(!l.value||"accepted"!==(yield l.value.prompt()).outcome)&&(e.value=!0,t.value=!1,l.value=null,B(),!0)}),updatePWA:()=>__async(null,null,function*(){return!(!i.value||!i.value.waiting||(i.value.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload(),0))}),requestNotificationPermission:v,subscribeToPush:()=>__async(null,null,function*(){if(!i.value||!p.value)return null;try{const e=yield i.value.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:define_process_env_default.VITE_VAPID_PUBLIC_KEY});return yield fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)}),e}catch(e){return null}}),registerBackgroundSync:(e,...t)=>__async(null,[e,...t],function*(e,t={}){if(!h.value||!i.value)return!1;try{return yield i.value.sync.register(e),Object.keys(t).length>0&&localStorage.setItem(`sync-${e}`,JSON.stringify(t)),!0}catch(a){return!1}}),registerPeriodicSync:(e,t=864e5)=>__async(null,null,function*(){if(!_.value||!i.value)return!1;try{return yield i.value.periodicSync.register(e,{minInterval:t}),!0}catch(a){return!1}}),shareContent:e=>__async(null,null,function*(){if(!c.value)return!1;try{return yield navigator.share(e),!0}catch(t){return!1}}),clearCache:()=>__async(null,null,function*(){if(i.value)try{const e=yield caches.keys();return yield Promise.all(e.map(e=>caches.delete(e))),!0}catch(e){return!1}return!1}),getCacheSize:()=>__async(null,null,function*(){if(i.value)try{const e=yield caches.keys();let t=0;for(const a of e){const e=yield caches.open(a);t+=(yield e.keys()).length}return t}catch(e){return 0}return 0}),storeOfflineData:(e,t)=>{try{return localStorage.setItem(`offline-${e}`,JSON.stringify({data:t,timestamp:Date.now()})),!0}catch(a){return!1}},getOfflineData:e=>{try{const t=localStorage.getItem(`offline-${e}`);return t?JSON.parse(t).data:null}catch(t){return null}},clearOfflineData:e=>{try{return localStorage.removeItem(`offline-${e}`),!0}catch(t){return!1}}}}function useOffline(){const e=ref(navigator.onLine),t=computed(()=>!e.value),a=ref([]),r=ref({}),o=ref([]),s=ref(null),i=ref(!1),l=ref(0),n="carwise-offline-data",d="carwise-offline-actions",c="carwise-sync-queue",u=computed(()=>a.value.length>0),p=computed(()=>o.value.length>0),h=computed(()=>{try{return JSON.stringify(r.value).length}catch(e){return 0}}),_=()=>{e.value=navigator.onLine,e.value?N():V()},m=e=>{try{const t={id:Date.now()+Math.random(),type:e.type,data:e.data,endpoint:e.endpoint,method:e.method||"POST",headers:e.headers||{},timestamp:Date.now(),retryCount:0,maxRetries:3};return a.value.push(t),localStorage.setItem(d,JSON.stringify(a.value)),t.id}catch(t){return null}},g=e=>{try{const t=a.value.findIndex(t=>t.id===e);return-1!==t&&(a.value.splice(t,1),localStorage.setItem(d,JSON.stringify(a.value)),!0)}catch(t){return!1}},y=e=>{try{const t=o.value.findIndex(t=>t.id===e);return-1!==t&&(o.value.splice(t,1),localStorage.setItem(c,JSON.stringify(o.value)),!0)}catch(t){return!1}},v=()=>__async(null,null,function*(){if(e.value&&!i.value){i.value=!0,l.value=0;try{const e=[...a.value],r=e.length;for(let a=0;a<e.length;a++){const o=e[a];l.value=Math.round(a/r*100);try{(yield fetch(o.endpoint,{method:o.method,headers:__spreadValues({"Content-Type":"application/json"},o.headers),body:JSON.stringify(o.data)})).ok?g(o.id):(o.retryCount++,o.retryCount>=o.maxRetries&&g(o.id))}catch(t){o.retryCount++,o.retryCount>=o.maxRetries&&g(o.id)}}l.value=100,s.value=Date.now()}catch(t){}finally{i.value=!1,l.value=0}}}),f=()=>__async(null,null,function*(){if(e.value&&!i.value){i.value=!0;try{const e=[...o.value];for(const a of e)try{yield x(a),y(a.id)}catch(t){a.retryCount++,a.retryCount>=a.maxRetries&&y(a.id)}s.value=Date.now()}catch(t){}finally{i.value=!1}}}),x=e=>__async(null,null,function*(){switch(e.type){case"cart":yield k(e.data);break;case"diagnosis":yield b(e.data);break;case"wishlist":yield B(e.data);break;case"preferences":yield w(e.data)}}),k=e=>__async(null,null,function*(){try{if(!(yield fetch("/api/cart/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)})).ok)throw new Error("Cart sync failed")}catch(t){throw t}}),b=e=>__async(null,null,function*(){try{if(!(yield fetch("/api/diagnosis",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)})).ok)throw new Error("Diagnosis sync failed")}catch(t){throw t}}),B=e=>__async(null,null,function*(){try{if(!(yield fetch("/api/wishlist/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)})).ok)throw new Error("Wishlist sync failed")}catch(t){throw t}}),w=e=>__async(null,null,function*(){try{if(!(yield fetch("/api/preferences/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)})).ok)throw new Error("Preferences sync failed")}catch(t){throw t}}),N=()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("CarWise.ai",{body:"You are back online. Syncing your data...",icon:"/icons/icon-192x192.png",tag:"offline-sync"}),setTimeout(()=>{v(),f()},1e3)},V=()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("CarWise.ai",{body:"You are offline. Your actions will be synced when you reconnect.",icon:"/icons/icon-192x192.png",tag:"offline-mode"})},$=()=>{try{const e=localStorage.getItem(n);e&&(r.value=JSON.parse(e));const t=localStorage.getItem(d);t&&(a.value=JSON.parse(t));const s=localStorage.getItem(c);s&&(o.value=JSON.parse(s))}catch(e){}};return onMounted(()=>{$(),window.addEventListener("online",_),window.addEventListener("offline",_),setInterval(()=>{e.value&&!i.value&&(v(),f())},3e5),e.value&&setTimeout(()=>{v(),f()},2e3)}),onUnmounted(()=>{window.removeEventListener("online",_),window.removeEventListener("offline",_)}),watch(e,e=>{e?N():V()}),{isOnline:e,isOffline:t,offlineActions:a,offlineData:r,syncQueue:o,lastSyncTime:s,isSyncing:i,syncProgress:l,hasOfflineActions:u,hasSyncQueue:p,offlineDataSize:h,storeOfflineData:(e,t)=>{try{return r.value[e]={data:t,timestamp:Date.now(),version:1},localStorage.setItem(n,JSON.stringify(r.value)),!0}catch(a){return!1}},getOfflineData:e=>{try{const t=r.value[e];return t?t.data:null}catch(t){return null}},removeOfflineData:e=>{try{return delete r.value[e],localStorage.setItem(n,JSON.stringify(r.value)),!0}catch(t){return!1}},clearOfflineData:()=>{try{return r.value={},localStorage.removeItem(n),!0}catch(e){return!1}},addOfflineAction:m,removeOfflineAction:g,clearOfflineActions:()=>{try{return a.value=[],localStorage.removeItem(d),!0}catch(e){return!1}},addToSyncQueue:e=>{try{const t={id:Date.now()+Math.random(),type:e.type,data:e.data,priority:e.priority||"normal",timestamp:Date.now(),retryCount:0,maxRetries:3};return o.value.push(t),localStorage.setItem(c,JSON.stringify(o.value)),t.id}catch(t){return null}},removeFromSyncQueue:y,syncOfflineActions:v,syncQueueItems:f,addToCartOffline:e=>!!t.value&&(m({type:"add-to-cart",endpoint:"/api/cart/add",data:e}),!0),removeFromCartOffline:e=>!!t.value&&(m({type:"remove-from-cart",endpoint:"/api/cart/remove",data:{itemId:e}}),!0),addToWishlistOffline:e=>!!t.value&&(m({type:"add-to-wishlist",endpoint:"/api/wishlist/add",data:e}),!0),submitDiagnosisOffline:e=>!!t.value&&(m({type:"submit-diagnosis",endpoint:"/api/diagnosis",data:e}),!0),updatePreferencesOffline:e=>!!t.value&&(m({type:"update-preferences",endpoint:"/api/preferences",data:e}),!0),loadOfflineData:$}}const _hoisted_1$f={class:"fixed top-20 right-4 z-50"},_hoisted_2$f={key:0,class:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold"},_sfc_main$f={__name:"CartButton",props:{count:{type:Number,default:0}},emits:["toggle"],setup:e=>(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("button",{onClick:a[0]||(a[0]=e=>t.$emit("toggle")),class:"relative bg-white dark:bg-secondary-800 text-gray-900 dark:text-white shadow-lg hover:shadow-xl rounded-full p-3 transition-all duration-200 border border-gray-200 dark:border-secondary-700",title:"View Cart"},[a[1]||(a[1]=createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1)),e.count>0?(openBlock(),createElementBlock("span",_hoisted_2$f,toDisplayString(e.count),1)):createCommentVNode("",!0)])]))},_hoisted_1$e={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$e={class:"absolute right-0 top-0 h-full w-96 bg-white dark:bg-secondary-800 shadow-xl"},_hoisted_3$e={class:"flex flex-col h-full"},_hoisted_4$e={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_5$e={class:"flex-1"},_hoisted_6$d={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},_hoisted_7$d={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-secondary-700"},_hoisted_8$c={class:"text-center"},_hoisted_9$c={key:1,class:"p-4 bg-green-50 dark:bg-green-900/20 border-b border-gray-200 dark:border-secondary-700"},_hoisted_10$c={class:"flex items-center justify-between"},_hoisted_11$c={class:"flex items-center space-x-2"},_hoisted_12$c={class:"text-sm text-green-700 dark:text-green-300"},_hoisted_13$c={class:"flex items-center space-x-2"},_hoisted_14$b={class:"flex-1 overflow-y-auto p-6"},_hoisted_15$b={key:0,class:"text-center py-12"},_hoisted_16$b={key:1,class:"space-y-4"},_hoisted_17$b=["src","alt"],_hoisted_18$b={class:"flex-1"},_hoisted_19$b={class:"font-semibold text-gray-900 dark:text-white text-sm"},_hoisted_20$b={class:"text-gray-600 dark:text-gray-400 text-xs"},_hoisted_21$b={class:"text-primary-600 dark:text-primary-400 font-bold"},_hoisted_22$b={class:"flex items-center space-x-2"},_hoisted_23$a=["onClick"],_hoisted_24$a={class:"w-8 text-center font-semibold text-gray-900 dark:text-white"},_hoisted_25$a=["onClick"],_hoisted_26$a=["onClick"],_hoisted_27$a={key:2,class:"border-t border-gray-200 dark:border-secondary-700 p-6"},_hoisted_28$a={class:"flex justify-between items-center mb-4"},_hoisted_29$9={class:"text-xl font-bold text-primary-600 dark:text-primary-400"},_hoisted_30$8={class:"space-y-2"},_sfc_main$e={__name:"CartSidebar",props:{isOpen:{type:Boolean,default:!1},cart:{type:Array,default:()=>[]},total:{type:Number,default:0},isAuthenticated:{type:Boolean,default:!1},user:{type:Object,default:null}},emits:["close","updateQuantity","removeItem","checkout","clearCart","login","logout","openPreferences","openPurchaseHistory","openWishlist","openSearchHistory","openSavedSearches"],setup(e,{emit:t}){const a=e,r=computed(()=>`$${a.total.toFixed(2)}`);return(t,a)=>e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$e,[createBaseVNode("div",_hoisted_5$e,[a[11]||(a[11]=createBaseVNode("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Shopping Cart",-1)),e.isAuthenticated&&e.user?(openBlock(),createElementBlock("div",_hoisted_6$d," Welcome, "+toDisplayString(e.user.first_name||e.user.name)+"! ",1)):createCommentVNode("",!0)]),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[12]||(a[12]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e.isAuthenticated?(openBlock(),createElementBlock("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$c,[createBaseVNode("div",_hoisted_11$c,[a[14]||(a[14]=createBaseVNode("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),createBaseVNode("span",_hoisted_12$c,"Signed in as "+toDisplayString(e.user.first_name||e.user.name),1)]),createBaseVNode("div",_hoisted_13$c,[createBaseVNode("button",{onClick:a[3]||(a[3]=e=>t.$emit("openPreferences")),class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200",title:"Cart Preferences"},[...a[15]||(a[15]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),createBaseVNode("button",{onClick:a[4]||(a[4]=e=>t.$emit("openPurchaseHistory")),class:"text-sm text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200",title:"Purchase History"},[...a[16]||(a[16]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]),createBaseVNode("button",{onClick:a[5]||(a[5]=e=>t.$emit("openWishlist")),class:"text-sm text-pink-600 hover:text-pink-800 dark:text-pink-400 dark:hover:text-pink-200",title:"Wishlist"},[...a[17]||(a[17]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)])]),createBaseVNode("button",{onClick:a[6]||(a[6]=e=>t.$emit("openSearchHistory")),class:"text-sm text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200",title:"Search History"},[...a[18]||(a[18]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]),createBaseVNode("button",{onClick:a[7]||(a[7]=e=>t.$emit("openSavedSearches")),class:"text-sm text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 dark:hover:text-emerald-200",title:"Saved Searches"},[...a[19]||(a[19]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1)])]),createBaseVNode("button",{onClick:a[8]||(a[8]=e=>t.$emit("logout")),class:"text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}," Sign Out ")])])])):(openBlock(),createElementBlock("div",_hoisted_7$d,[createBaseVNode("div",_hoisted_8$c,[a[13]||(a[13]=createBaseVNode("p",{class:"text-sm text-gray-700 dark:text-gray-300 mb-3"}," Sign in to save your cart and get personalized recommendations ",-1)),createBaseVNode("button",{onClick:a[2]||(a[2]=e=>t.$emit("login")),class:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"}," Sign In ")])])),createBaseVNode("div",_hoisted_14$b,[0===e.cart.length?(openBlock(),createElementBlock("div",_hoisted_15$b,[...a[20]||(a[20]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Your cart is empty",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Add some car parts to get started!",-1)])])):(openBlock(),createElementBlock("div",_hoisted_16$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cart,e=>(openBlock(),createElementBlock("div",{key:e.id,class:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},[createBaseVNode("img",{src:e.image_url,alt:e.name,class:"w-16 h-16 object-cover rounded-lg"},null,8,_hoisted_17$b),createBaseVNode("div",_hoisted_18$b,[createBaseVNode("h4",_hoisted_19$b,toDisplayString(e.name),1),createBaseVNode("p",_hoisted_20$b,toDisplayString(e.brand)+" - "+toDisplayString(e.part_number),1),createBaseVNode("p",_hoisted_21$b,toDisplayString(e.formatted_price),1)]),createBaseVNode("div",_hoisted_22$b,[createBaseVNode("button",{onClick:a=>t.$emit("updateQuantity",e.id,e.quantity-1),class:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"},[...a[21]||(a[21]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,_hoisted_23$a),createBaseVNode("span",_hoisted_24$a,toDisplayString(e.quantity),1),createBaseVNode("button",{onClick:a=>t.$emit("updateQuantity",e.id,e.quantity+1),class:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"},[...a[22]||(a[22]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,_hoisted_25$a)]),createBaseVNode("button",{onClick:a=>t.$emit("removeItem",e.id),class:"text-red-500 hover:text-red-700"},[...a[23]||(a[23]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,_hoisted_26$a)]))),128))]))]),e.cart.length>0?(openBlock(),createElementBlock("div",_hoisted_27$a,[createBaseVNode("div",_hoisted_28$a,[a[24]||(a[24]=createBaseVNode("span",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Total:",-1)),createBaseVNode("span",_hoisted_29$9,toDisplayString(r.value),1)]),createBaseVNode("div",_hoisted_30$8,[createBaseVNode("button",{onClick:a[9]||(a[9]=e=>t.$emit("checkout")),class:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200"}," Proceed to Checkout "),createBaseVNode("button",{onClick:a[10]||(a[10]=e=>t.$emit("clearCart")),class:"w-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-semibold py-2 px-4 rounded-lg transition-colors duration-200"}," Clear Cart ")])])):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}},_hoisted_1$d={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$d={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$d={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden"},_hoisted_4$d={class:"flex flex-col h-full"},_hoisted_5$d={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$c={class:"flex-1 overflow-y-auto p-6"},_hoisted_7$c={class:"mb-6"},_hoisted_8$b={class:"space-y-3"},_hoisted_9$b=["src","alt"],_hoisted_10$b={class:"flex-1"},_hoisted_11$b={class:"font-medium text-gray-900 dark:text-white text-sm"},_hoisted_12$b={class:"text-gray-600 dark:text-gray-400 text-xs"},_hoisted_13$b={class:"text-right"},_hoisted_14$a={class:"text-sm font-semibold text-gray-900 dark:text-white"},_hoisted_15$a={class:"text-primary-600 dark:text-primary-400 font-bold"},_hoisted_16$a={class:"mb-6"},_hoisted_17$a={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_18$a={class:"mb-6"},_hoisted_19$a={class:"space-y-4"},_hoisted_20$a={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_hoisted_21$a={class:"mb-6"},_hoisted_22$a={class:"space-y-3"},_hoisted_23$9={class:"flex items-center space-x-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg"},_hoisted_24$9={class:"flex items-center space-x-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg"},_hoisted_25$9={class:"flex items-center space-x-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg"},_hoisted_26$9={class:"bg-gray-50 dark:bg-secondary-700 rounded-lg p-4"},_hoisted_27$9={class:"flex justify-between items-center mb-2"},_hoisted_28$9={class:"text-gray-900 dark:text-white"},_hoisted_29$8={class:"flex justify-between items-center mb-2"},_hoisted_30$7={class:"text-gray-900 dark:text-white"},_hoisted_31$7={class:"flex justify-between items-center mb-2"},_hoisted_32$7={class:"text-gray-900 dark:text-white"},_hoisted_33$7={class:"border-t border-gray-300 dark:border-gray-600 pt-2"},_hoisted_34$7={class:"flex justify-between items-center"},_hoisted_35$7={class:"text-xl font-bold text-primary-600 dark:text-primary-400"},_hoisted_36$5={class:"border-t border-gray-200 dark:border-secondary-700 p-6"},_hoisted_37$5={class:"flex space-x-4"},_hoisted_38$5=["disabled"],_hoisted_39$5={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},_sfc_main$d={__name:"CheckoutModal",props:{isOpen:{type:Boolean,default:!1},cart:{type:Array,default:()=>[]},cartTotal:{type:Number,default:0}},emits:["close","orderComplete"],setup(e,{emit:t}){const a=e,r=t,o=ref({firstName:"",lastName:"",email:"",phone:""}),s=ref({address:"",city:"",state:"",zipCode:"",country:""}),i=ref("credit_card"),l=ref(!1),n=computed(()=>a.cartTotal),d=computed(()=>n.value>100?0:9.99),c=computed(()=>.08*n.value),u=computed(()=>n.value+d.value+c.value),p=computed(()=>o.value.firstName&&o.value.lastName&&o.value.email&&o.value.phone&&s.value.address&&s.value.city&&s.value.state&&s.value.zipCode&&s.value.country&&i.value),h=()=>__async(null,null,function*(){if(p.value){l.value=!0;try{yield new Promise(e=>setTimeout(e,2e3));const e={id:`ORD-${Date.now()}`,customer:o.value,shipping:s.value,paymentMethod:i.value,items:a.cart,subtotal:n.value,shipping:d.value,tax:c.value,total:u.value,status:"confirmed",createdAt:(new Date).toISOString()};r("orderComplete",e),_()}catch(e){alert("Error processing order. Please try again.")}finally{l.value=!1}}}),_=()=>{o.value={firstName:"",lastName:"",email:"",phone:""},s.value={address:"",city:"",state:"",zipCode:"",country:""},i.value="credit_card"};return watch(()=>a.isOpen,e=>{e||_()}),(t,a)=>e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",_hoisted_5$d,[a[16]||(a[16]=createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Checkout",-1)),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[15]||(a[15]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),createBaseVNode("div",_hoisted_6$c,[createBaseVNode("div",_hoisted_7$c,[a[17]||(a[17]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Order Summary",-1)),createBaseVNode("div",_hoisted_8$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.cart,e=>(openBlock(),createElementBlock("div",{key:e.id,class:"flex items-center space-x-4 p-3 bg-gray-50 dark:bg-secondary-700 rounded-lg"},[createBaseVNode("img",{src:e.image_url,alt:e.name,class:"w-12 h-12 object-cover rounded-lg"},null,8,_hoisted_9$b),createBaseVNode("div",_hoisted_10$b,[createBaseVNode("h4",_hoisted_11$b,toDisplayString(e.name),1),createBaseVNode("p",_hoisted_12$b,toDisplayString(e.brand)+" - "+toDisplayString(e.part_number),1)]),createBaseVNode("div",_hoisted_13$b,[createBaseVNode("p",_hoisted_14$a,"Qty: "+toDisplayString(e.quantity),1),createBaseVNode("p",_hoisted_15$a,toDisplayString(e.formatted_price),1)])]))),128))])]),createBaseVNode("div",_hoisted_16$a,[a[22]||(a[22]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Customer Information",-1)),createBaseVNode("div",_hoisted_17$a,[createBaseVNode("div",null,[a[18]||(a[18]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"First Name *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.firstName=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter first name",required:""},null,512),[[vModelText,o.value.firstName]])]),createBaseVNode("div",null,[a[19]||(a[19]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Last Name *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.lastName=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter last name",required:""},null,512),[[vModelText,o.value.lastName]])]),createBaseVNode("div",null,[a[20]||(a[20]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.email=e),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter email address",required:""},null,512),[[vModelText,o.value.email]])]),createBaseVNode("div",null,[a[21]||(a[21]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Phone *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.phone=e),type:"tel",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter phone number",required:""},null,512),[[vModelText,o.value.phone]])])])]),createBaseVNode("div",_hoisted_18$a,[a[29]||(a[29]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Shipping Address",-1)),createBaseVNode("div",_hoisted_19$a,[createBaseVNode("div",null,[a[23]||(a[23]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Address *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>s.value.address=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter street address",required:""},null,512),[[vModelText,s.value.address]])]),createBaseVNode("div",_hoisted_20$a,[createBaseVNode("div",null,[a[24]||(a[24]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"City *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>s.value.city=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter city",required:""},null,512),[[vModelText,s.value.city]])]),createBaseVNode("div",null,[a[25]||(a[25]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"State/Province *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>s.value.state=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter state",required:""},null,512),[[vModelText,s.value.state]])]),createBaseVNode("div",null,[a[26]||(a[26]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ZIP/Postal Code *",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>s.value.zipCode=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",placeholder:"Enter ZIP code",required:""},null,512),[[vModelText,s.value.zipCode]])])]),createBaseVNode("div",null,[a[28]||(a[28]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Country *",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>s.value.country=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white",required:""},[...a[27]||(a[27]=[createStaticVNode('<option value="">Select country</option><option value="US">United States</option><option value="CA">Canada</option><option value="GB">United Kingdom</option><option value="DE">Germany</option><option value="FR">France</option><option value="IT">Italy</option><option value="ES">Spain</option><option value="AL">Albania</option><option value="XK">Kosovo</option><option value="MK">North Macedonia</option><option value="ME">Montenegro</option><option value="RS">Serbia</option><option value="BA">Bosnia and Herzegovina</option><option value="HR">Croatia</option>',15)])],512),[[vModelSelect,s.value.country]])])])]),createBaseVNode("div",_hoisted_21$a,[a[33]||(a[33]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Payment Method",-1)),createBaseVNode("div",_hoisted_22$a,[createBaseVNode("div",_hoisted_23$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>i.value=e),type:"radio",value:"credit_card",id:"credit_card",class:"w-4 h-4 text-primary-600 focus:ring-primary-500"},null,512),[[vModelRadio,i.value]]),a[30]||(a[30]=createBaseVNode("label",{for:"credit_card",class:"flex items-center space-x-2 text-gray-700 dark:text-gray-300"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),createBaseVNode("span",null,"Credit Card")],-1))]),createBaseVNode("div",_hoisted_24$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>i.value=e),type:"radio",value:"paypal",id:"paypal",class:"w-4 h-4 text-primary-600 focus:ring-primary-500"},null,512),[[vModelRadio,i.value]]),a[31]||(a[31]=createBaseVNode("label",{for:"paypal",class:"flex items-center space-x-2 text-gray-700 dark:text-gray-300"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.105-.633c-.73-3.627-3.35-5.53-7.893-5.53H5.998c-.524 0-.968.382-1.05.9L2.47 20.597h4.606l1.12-7.106c.082-.518.526-.9 1.05-.9h2.19c4.297 0 7.664-1.747 8.647-6.797.03-.149.054-.294.077-.437.292-1.867-.002-3.137-1.012-4.287z"})]),createBaseVNode("span",null,"PayPal")],-1))]),createBaseVNode("div",_hoisted_25$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>i.value=e),type:"radio",value:"bank_transfer",id:"bank_transfer",class:"w-4 h-4 text-primary-600 focus:ring-primary-500"},null,512),[[vModelRadio,i.value]]),a[32]||(a[32]=createBaseVNode("label",{for:"bank_transfer",class:"flex items-center space-x-2 text-gray-700 dark:text-gray-300"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),createBaseVNode("span",null,"Bank Transfer")],-1))])])]),createBaseVNode("div",_hoisted_26$9,[createBaseVNode("div",_hoisted_27$9,[a[34]||(a[34]=createBaseVNode("span",{class:"text-gray-600 dark:text-gray-400"},"Subtotal:",-1)),createBaseVNode("span",_hoisted_28$9,"$"+toDisplayString(n.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_29$8,[a[35]||(a[35]=createBaseVNode("span",{class:"text-gray-600 dark:text-gray-400"},"Shipping:",-1)),createBaseVNode("span",_hoisted_30$7,"$"+toDisplayString(d.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_31$7,[a[36]||(a[36]=createBaseVNode("span",{class:"text-gray-600 dark:text-gray-400"},"Tax:",-1)),createBaseVNode("span",_hoisted_32$7,"$"+toDisplayString(c.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_33$7,[createBaseVNode("div",_hoisted_34$7,[a[37]||(a[37]=createBaseVNode("span",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Total:",-1)),createBaseVNode("span",_hoisted_35$7,"$"+toDisplayString(u.value.toFixed(2)),1)])])])]),createBaseVNode("div",_hoisted_36$5,[createBaseVNode("div",_hoisted_37$5,[createBaseVNode("button",{onClick:a[14]||(a[14]=e=>t.$emit("close")),class:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-semibold py-3 px-4 rounded-lg transition-colors duration-200"}," Cancel "),createBaseVNode("button",{onClick:h,disabled:!p.value||l.value,class:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[l.value?(openBlock(),createElementBlock("svg",_hoisted_39$5,[...a[38]||(a[38]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(l.value?"Processing...":"Complete Order"),1)],8,_hoisted_38$5)])])])])])])):createCommentVNode("",!0)}},_hoisted_1$c={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$c={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$c={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden"},_hoisted_4$c={class:"flex flex-col h-full"},_hoisted_5$c={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$b={class:"flex-1 overflow-y-auto p-6"},_hoisted_7$b={class:"space-y-6"},_hoisted_8$a={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_9$a={class:"relative inline-flex items-center cursor-pointer"},_hoisted_10$a={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_11$a={class:"relative inline-flex items-center cursor-pointer"},_hoisted_12$a={class:"p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_13$a={class:"p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_14$9={class:"p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_15$9={class:"p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_16$9={class:"space-y-4"},_hoisted_17$9={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_18$9={class:"relative inline-flex items-center cursor-pointer"},_hoisted_19$9={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_20$9={class:"relative inline-flex items-center cursor-pointer"},_hoisted_21$9={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_22$9={class:"relative inline-flex items-center cursor-pointer"},_hoisted_23$8={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_24$8={class:"relative inline-flex items-center cursor-pointer"},_hoisted_25$8={class:"border-t border-gray-200 dark:border-secondary-700 p-6"},_hoisted_26$8={class:"flex space-x-4"},_hoisted_27$8=["disabled"],_hoisted_28$8={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},_sfc_main$c={__name:"UserPreferencesModal",props:{isOpen:{type:Boolean,default:!1},preferences:{type:Object,default:()=>({})}},emits:["close","save"],setup(e,{emit:t}){const a=e,r=t,o=ref({}),s=ref(!1),i={cart_auto_save:!0,cart_notifications:!0,cart_currency:"USD",cart_shipping_preference:"standard",cart_payment_preference:"credit_card",cart_quantity_limit:10,cart_show_tax:!0,cart_show_shipping:!0,cart_remember_address:!0,cart_auto_apply_coupons:!1},l=()=>{o.value=__spreadValues(__spreadValues({},i),a.preferences)};watch(()=>a.preferences,()=>{l()},{deep:!0,immediate:!0}),watch(()=>a.isOpen,e=>{e&&l()});const n=()=>__async(null,null,function*(){s.value=!0;try{r("save",o.value),r("close")}catch(e){}finally{s.value=!1}}),d=()=>{o.value=__spreadValues({},i)};return(t,a)=>e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$c,[a[13]||(a[13]=createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Cart Preferences",-1)),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[12]||(a[12]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),createBaseVNode("div",_hoisted_6$b,[createBaseVNode("div",_hoisted_7$b,[createBaseVNode("div",_hoisted_8$a,[a[15]||(a[15]=createBaseVNode("div",null,[createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Auto Save Cart"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Automatically save cart items to your account")],-1)),createBaseVNode("label",_hoisted_9$a,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.cart_auto_save=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_auto_save]]),a[14]||(a[14]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),createBaseVNode("div",_hoisted_10$a,[a[17]||(a[17]=createBaseVNode("div",null,[createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Cart Notifications"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Show notifications when items are added to cart")],-1)),createBaseVNode("label",_hoisted_11$a,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.cart_notifications=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_notifications]]),a[16]||(a[16]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),createBaseVNode("div",_hoisted_12$a,[a[19]||(a[19]=createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Preferred Currency",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.cart_currency=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-600 dark:text-white"},[...a[18]||(a[18]=[createStaticVNode('<option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ALL">ALL - Albanian Lek</option><option value="CHF">CHF - Swiss Franc</option>',5)])],512),[[vModelSelect,o.value.cart_currency]])]),createBaseVNode("div",_hoisted_13$a,[a[21]||(a[21]=createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Default Shipping",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.cart_shipping_preference=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-600 dark:text-white"},[...a[20]||(a[20]=[createBaseVNode("option",{value:"standard"},"Standard (5-7 days)",-1),createBaseVNode("option",{value:"express"},"Express (2-3 days)",-1),createBaseVNode("option",{value:"overnight"},"Overnight (1 day)",-1)])],512),[[vModelSelect,o.value.cart_shipping_preference]])]),createBaseVNode("div",_hoisted_14$9,[a[23]||(a[23]=createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Default Payment Method",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.cart_payment_preference=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-600 dark:text-white"},[...a[22]||(a[22]=[createBaseVNode("option",{value:"credit_card"},"Credit Card",-1),createBaseVNode("option",{value:"paypal"},"PayPal",-1),createBaseVNode("option",{value:"bank_transfer"},"Bank Transfer",-1)])],512),[[vModelSelect,o.value.cart_payment_preference]])]),createBaseVNode("div",_hoisted_15$9,[a[24]||(a[24]=createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Maximum Quantity per Item",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.cart_quantity_limit=e),type:"number",min:"1",max:"100",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-600 dark:text-white"},null,512),[[vModelText,o.value.cart_quantity_limit,void 0,{number:!0}]]),a[25]||(a[25]=createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Maximum number of the same item that can be added to cart",-1))]),createBaseVNode("div",_hoisted_16$9,[a[34]||(a[34]=createBaseVNode("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Display Options",-1)),createBaseVNode("div",_hoisted_17$9,[a[27]||(a[27]=createBaseVNode("div",null,[createBaseVNode("h4",{class:"font-medium text-gray-900 dark:text-white"},"Show Tax in Cart"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Display tax information in cart totals")],-1)),createBaseVNode("label",_hoisted_18$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.cart_show_tax=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_show_tax]]),a[26]||(a[26]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),createBaseVNode("div",_hoisted_19$9,[a[29]||(a[29]=createBaseVNode("div",null,[createBaseVNode("h4",{class:"font-medium text-gray-900 dark:text-white"},"Show Shipping in Cart"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Display shipping information in cart totals")],-1)),createBaseVNode("label",_hoisted_20$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>o.value.cart_show_shipping=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_show_shipping]]),a[28]||(a[28]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),createBaseVNode("div",_hoisted_21$9,[a[31]||(a[31]=createBaseVNode("div",null,[createBaseVNode("h4",{class:"font-medium text-gray-900 dark:text-white"},"Remember Address"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Remember shipping address for future orders")],-1)),createBaseVNode("label",_hoisted_22$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>o.value.cart_remember_address=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_remember_address]]),a[30]||(a[30]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),createBaseVNode("div",_hoisted_23$8,[a[33]||(a[33]=createBaseVNode("div",null,[createBaseVNode("h4",{class:"font-medium text-gray-900 dark:text-white"},"Auto Apply Coupons"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Automatically apply available coupons to cart")],-1)),createBaseVNode("label",_hoisted_24$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>o.value.cart_auto_apply_coupons=e),type:"checkbox",class:"sr-only peer"},null,512),[[vModelCheckbox,o.value.cart_auto_apply_coupons]]),a[32]||(a[32]=createBaseVNode("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])])])])]),createBaseVNode("div",_hoisted_25$8,[createBaseVNode("div",_hoisted_26$8,[createBaseVNode("button",{onClick:d,class:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-semibold py-3 px-4 rounded-lg transition-colors duration-200"}," Reset to Defaults "),createBaseVNode("button",{onClick:n,disabled:s.value,class:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[s.value?(openBlock(),createElementBlock("svg",_hoisted_28$8,[...a[35]||(a[35]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(s.value?"Saving...":"Save Preferences"),1)],8,_hoisted_27$8)])])])])])])):createCommentVNode("",!0)}},_hoisted_1$b={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$b={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$b={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden"},_hoisted_4$b={class:"flex flex-col h-full"},_hoisted_5$b={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$a={key:0,class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_7$a={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_8$9={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},_hoisted_9$9={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_10$9={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},_hoisted_11$9={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_hoisted_12$9={class:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg"},_hoisted_13$9={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},_hoisted_14$8={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},_hoisted_15$8={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},_hoisted_16$8={class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_17$8={class:"flex flex-col md:flex-row gap-4"},_hoisted_18$8={class:"flex-1"},_hoisted_19$8={class:"flex gap-2"},_hoisted_20$8=["disabled"],_hoisted_21$8={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},_hoisted_22$8={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_23$7={class:"flex-1 overflow-y-auto p-6"},_hoisted_24$7={key:0,class:"text-center py-12"},_hoisted_25$7={key:1,class:"text-center py-12"},_hoisted_26$7={key:2,class:"space-y-4"},_hoisted_27$7={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-4"},_hoisted_28$7={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_29$7={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_30$6={class:"flex items-center space-x-4 mt-2 md:mt-0"},_hoisted_31$6={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_32$6={class:"mb-4"},_hoisted_33$6={class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},_hoisted_34$6={class:"space-y-2"},_hoisted_35$6=["src","alt"],_hoisted_36$4={class:"flex-1"},_hoisted_37$4={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_38$4={class:"text-xs text-gray-600 dark:text-gray-400"},_hoisted_39$4={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_40$4={key:0,class:"text-sm text-gray-600 dark:text-gray-400 text-center py-2"},_hoisted_41$4={class:"flex flex-col sm:flex-row gap-2"},_hoisted_42$4=["onClick"],_hoisted_43$4=["onClick"],_hoisted_44$4=["onClick"],_sfc_main$b={__name:"PurchaseHistoryModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","viewOrder","cancelOrder","trackOrder"],setup(e,{emit:t}){const a=e,r=t,{orders:o,orderStatistics:s,isLoading:i,loadOrders:l,loadOrderStatistics:n,getOrderStatusDisplay:d,formatOrderDate:c,formatCurrency:u,canCancelOrder:p,cancelOrder:h}=useOrders(),_=ref(""),m=ref(""),g=computed(()=>{let e=o.value;if(m.value&&(e=e.filter(e=>e.status===m.value)),_.value){const t=_.value.toLowerCase();e=e.filter(e=>e.order_number.toLowerCase().includes(t)||e.items.some(e=>{var a;return e.part_name.toLowerCase().includes(t)||(null==(a=e.part_brand)?void 0:a.toLowerCase().includes(t))}))}return e}),y=computed(()=>s.value),v=e=>{const t={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",shipped:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",delivered:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",refunded:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return t[e]||t.pending},f=()=>__async(null,null,function*(){yield l(),yield n()});return watch(()=>a.isOpen,e=>{e&&f()}),onMounted(()=>{a.isOpen&&f()}),(t,a)=>{var o;return e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",_hoisted_4$b,[createBaseVNode("div",_hoisted_5$b,[a[5]||(a[5]=createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Purchase History"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"View and manage your orders")],-1)),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[4]||(a[4]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),y.value?(openBlock(),createElementBlock("div",_hoisted_6$a,[createBaseVNode("div",_hoisted_7$a,[createBaseVNode("div",_hoisted_8$9,[createBaseVNode("div",_hoisted_9$9,toDisplayString(y.value.total_orders),1),a[6]||(a[6]=createBaseVNode("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Orders",-1))]),createBaseVNode("div",_hoisted_10$9,[createBaseVNode("div",_hoisted_11$9,"$"+toDisplayString((null==(o=y.value.total_spent)?void 0:o.toFixed(2))||"0.00"),1),a[7]||(a[7]=createBaseVNode("div",{class:"text-sm text-green-700 dark:text-green-300"},"Total Spent",-1))]),createBaseVNode("div",_hoisted_12$9,[createBaseVNode("div",_hoisted_13$9,toDisplayString(y.value.pending_orders),1),a[8]||(a[8]=createBaseVNode("div",{class:"text-sm text-yellow-700 dark:text-yellow-300"},"Pending",-1))]),createBaseVNode("div",_hoisted_14$8,[createBaseVNode("div",_hoisted_15$8,toDisplayString(y.value.shipped_orders),1),a[9]||(a[9]=createBaseVNode("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Shipped",-1))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$8,[createBaseVNode("div",_hoisted_17$8,[createBaseVNode("div",_hoisted_18$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e),type:"text",placeholder:"Search orders or parts...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,_.value]])]),createBaseVNode("div",_hoisted_19$8,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[10]||(a[10]=[createStaticVNode('<option value="">All Status</option><option value="pending">Pending</option><option value="confirmed">Confirmed</option><option value="shipped">Shipped</option><option value="delivered">Delivered</option><option value="cancelled">Cancelled</option><option value="refunded">Refunded</option>',7)])],512),[[vModelSelect,m.value]]),createBaseVNode("button",{onClick:f,disabled:unref(i),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white rounded-lg transition-colors duration-200"},[unref(i)?(openBlock(),createElementBlock("svg",_hoisted_21$8,[...a[11]||(a[11]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_22$8,[...a[12]||(a[12]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],8,_hoisted_20$8)])])]),createBaseVNode("div",_hoisted_23$7,[unref(i)?(openBlock(),createElementBlock("div",_hoisted_24$7,[...a[13]||(a[13]=[createBaseVNode("svg",{class:"animate-spin h-8 w-8 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Loading orders...",-1)])])):0===g.value.length?(openBlock(),createElementBlock("div",_hoisted_25$7,[...a[14]||(a[14]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"No orders found",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"You haven't placed any orders yet.",-1)])])):(openBlock(),createElementBlock("div",_hoisted_26$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,e=>(openBlock(),createElementBlock("div",{key:e.id,class:"bg-gray-50 dark:bg-secondary-700 rounded-lg p-6 hover:shadow-md transition-shadow duration-200"},[createBaseVNode("div",_hoisted_27$7,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_28$7,toDisplayString(e.order_number),1),createBaseVNode("p",_hoisted_29$7,toDisplayString(unref(c)(e.created_at)),1)]),createBaseVNode("div",_hoisted_30$6,[createBaseVNode("span",{class:normalizeClass([v(e.status),"px-3 py-1 rounded-full text-sm font-medium"])},toDisplayString(unref(d)(e.status)),3),createBaseVNode("span",_hoisted_31$6,toDisplayString(unref(u)(e.total_amount,e.currency)),1)])]),createBaseVNode("div",_hoisted_32$6,[createBaseVNode("h4",_hoisted_33$6,"Items ("+toDisplayString(e.items.length)+")",1),createBaseVNode("div",_hoisted_34$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items.slice(0,3),t=>(openBlock(),createElementBlock("div",{key:t.id,class:"flex items-center space-x-3 p-2 bg-white dark:bg-secondary-800 rounded"},[createBaseVNode("img",{src:t.part_image_url||"https://via.placeholder.com/50x50?text=No+Image",alt:t.part_name,class:"w-12 h-12 object-cover rounded"},null,8,_hoisted_35$6),createBaseVNode("div",_hoisted_36$4,[createBaseVNode("p",_hoisted_37$4,toDisplayString(t.part_name),1),createBaseVNode("p",_hoisted_38$4,toDisplayString(t.part_brand)+" - Qty: "+toDisplayString(t.quantity),1)]),createBaseVNode("p",_hoisted_39$4,toDisplayString(unref(u)(t.total_price,e.currency)),1)]))),128)),e.items.length>3?(openBlock(),createElementBlock("div",_hoisted_40$4," +"+toDisplayString(e.items.length-3)+" more items ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_41$4,[createBaseVNode("button",{onClick:t=>(e=>{r("viewOrder",e)})(e),class:"flex-1 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"}," View Details ",8,_hoisted_42$4),unref(p)(e)?(openBlock(),createElementBlock("button",{key:0,onClick:t=>(e=>__async(null,null,function*(){confirm(`Are you sure you want to cancel order ${e.order_number}?`)&&(yield h(e.id,"Cancelled by customer"))&&(yield f(),r("cancelOrder",e))}))(e),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"}," Cancel Order ",8,_hoisted_43$4)):createCommentVNode("",!0),e.tracking_number?(openBlock(),createElementBlock("button",{key:1,onClick:t=>(e=>{r("trackOrder",e)})(e),class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"}," Track Package ",8,_hoisted_44$4)):createCommentVNode("",!0)])]))),128))]))])])])])])):createCommentVNode("",!0)}}},_hoisted_1$a={class:"relative"},_hoisted_2$a={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},_hoisted_3$a={key:1,class:"absolute -top-1 -right-1 bg-red-500 rounded-full h-3 w-3 animate-ping"},_hoisted_4$a={key:0,class:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-hidden"},_hoisted_5$a={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},_hoisted_6$9={class:"flex items-center justify-between"},_hoisted_7$9={class:"flex items-center space-x-2"},_hoisted_8$8={class:"flex space-x-1 mt-2"},_hoisted_9$8=["onClick"],_hoisted_10$8={key:0,class:"ml-1 font-semibold"},_hoisted_11$8={key:0,class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},_hoisted_12$8={class:"space-y-2"},_hoisted_13$8={class:"flex items-center"},_hoisted_14$7={class:"flex items-center"},_hoisted_15$7={class:"flex items-center"},_hoisted_16$7={class:"max-h-64 overflow-y-auto"},_hoisted_17$7={key:0,class:"px-4 py-8 text-center"},_hoisted_18$7={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},_hoisted_19$7=["onClick"],_hoisted_20$7={class:"flex items-start space-x-3"},_hoisted_21$7={class:"flex-1 min-w-0"},_hoisted_22$7={class:"flex items-center justify-between"},_hoisted_23$6={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},_hoisted_24$6={class:"flex items-center space-x-1"},_hoisted_25$6={key:1,class:"w-2 h-2 bg-blue-500 rounded-full"},_hoisted_26$6={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},_hoisted_27$6={class:"flex items-center justify-between mt-2"},_hoisted_28$6={class:"text-xs text-gray-500 dark:text-gray-500"},_hoisted_29$6={class:"flex items-center space-x-2"},_hoisted_30$5=["onClick"],_hoisted_31$5=["onClick"],_hoisted_32$5={key:0,class:"mt-2 flex space-x-2"},_hoisted_33$5=["onClick"],_hoisted_34$5={class:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},_hoisted_35$5={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},_sfc_main$a={__name:"NotificationCenter",setup(__props){const{notifications:notifications,isNotificationCenterOpen:isNotificationCenterOpen,notificationSettings:notificationSettings,unreadCount:unreadCount,criticalNotifications:criticalNotifications,markAsRead:markAsRead,markAllAsRead:markAllAsRead,removeNotification:removeNotification,clearAllNotifications:clearAllNotifications,clearOldNotifications:clearOldNotifications,toggleNotificationCenter:toggleNotificationCenter,NOTIFICATION_TYPES:NOTIFICATION_TYPES}=useNotifications(),activeFilter=ref("all"),showSettings=ref(!1),filters=computed(()=>[{key:"all",label:"All",count:notifications.value.length},{key:"unread",label:"Unread",count:notifications.value.filter(e=>!e.isRead).length},{key:"price_alerts",label:"Price",count:notifications.value.filter(e=>e.type===NOTIFICATION_TYPES.PRICE_ALERT).length},{key:"stock_alerts",label:"Stock",count:notifications.value.filter(e=>e.type===NOTIFICATION_TYPES.STOCK_ALERT).length},{key:"critical",label:"Critical",count:notifications.value.filter(e=>"critical"===e.priority).length}]),filteredNotifications=computed(()=>{let e=notifications.value;switch(activeFilter.value){case"unread":e=e.filter(e=>!e.isRead);break;case"price_alerts":e=e.filter(e=>e.type===NOTIFICATION_TYPES.PRICE_ALERT);break;case"stock_alerts":e=e.filter(e=>e.type===NOTIFICATION_TYPES.STOCK_ALERT);break;case"critical":e=e.filter(e=>"critical"===e.priority)}return e.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}),handleNotificationClick=e=>{e.isRead||markAsRead(e.id),e.onClick&&e.onClick(),isNotificationCenterOpen.value=!1},executeAction=action=>{if("function"==typeof action.handler)action.handler();else if("string"==typeof action.handler)try{eval(action.handler)}catch(error){}},getNotificationIconClass=e=>{const t="text-white";switch(e.type){case NOTIFICATION_TYPES.SUCCESS:return`${t} bg-green-500`;case NOTIFICATION_TYPES.WARNING:return`${t} bg-orange-500`;case NOTIFICATION_TYPES.ERROR:return`${t} bg-red-500`;case NOTIFICATION_TYPES.PRICE_ALERT:return`${t} bg-yellow-500`;case NOTIFICATION_TYPES.STOCK_ALERT:return`${t} bg-purple-500`;case NOTIFICATION_TYPES.ORDER_UPDATE:return`${t} bg-indigo-500`;case NOTIFICATION_TYPES.PROMOTION:return`${t} bg-pink-500`;default:return`${t} bg-blue-500`}},formatTimestamp=e=>{const t=new Date-new Date(e),a=Math.floor(t/6e4),r=Math.floor(t/36e5),o=Math.floor(t/864e5);return a<1?"Just now":a<60?`${a}m ago`:r<24?`${r}h ago`:o<7?`${o}d ago`:new Date(e).toLocaleDateString()};return watch(isNotificationCenterOpen,e=>{e||(showSettings.value=!1)}),(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("button",{onClick:t[0]||(t[0]=(...e)=>unref(toggleNotificationCenter)&&unref(toggleNotificationCenter)(...e)),class:normalizeClass(["relative bg-white dark:bg-secondary-800 text-gray-900 dark:text-white shadow-lg hover:shadow-xl rounded-full p-3 transition-all duration-200 border border-gray-200 dark:border-secondary-700",{"text-primary-600 dark:text-primary-400":unref(isNotificationCenterOpen)}]),title:"View Notifications"},[t[9]||(t[9]=createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})],-1)),unref(unreadCount)>0?(openBlock(),createElementBlock("span",_hoisted_2$a,toDisplayString(unref(unreadCount)>99?"99+":unref(unreadCount)),1)):createCommentVNode("",!0),unref(criticalNotifications).length>0?(openBlock(),createElementBlock("span",_hoisted_3$a)):createCommentVNode("",!0)],2),createVNode(Transition,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:withCtx(()=>[unref(isNotificationCenterOpen)?(openBlock(),createElementBlock("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$a,[createBaseVNode("div",_hoisted_6$9,[t[11]||(t[11]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Notifications ",-1)),createBaseVNode("div",_hoisted_7$9,[createBaseVNode("button",{onClick:t[1]||(t[1]=e=>showSettings.value=!showSettings.value),class:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded",title:"Settings"},[...t[10]||(t[10]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),unref(unreadCount)>0?(openBlock(),createElementBlock("button",{key:0,onClick:t[2]||(t[2]=(...e)=>unref(markAllAsRead)&&unref(markAllAsRead)(...e)),class:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200"}," Mark all read ")):createCommentVNode("",!0),createBaseVNode("button",{onClick:t[3]||(t[3]=(...e)=>unref(clearAllNotifications)&&unref(clearAllNotifications)(...e)),class:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"}," Clear all ")])]),createBaseVNode("div",_hoisted_8$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(filters.value,e=>(openBlock(),createElementBlock("button",{key:e.key,onClick:t=>activeFilter.value=e.key,class:normalizeClass(["px-3 py-1 text-xs rounded-full transition-colors",activeFilter.value===e.key?"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"])},[createTextVNode(toDisplayString(e.label)+" ",1),e.count>0?(openBlock(),createElementBlock("span",_hoisted_10$8,toDisplayString(e.count),1)):createCommentVNode("",!0)],10,_hoisted_9$8))),128))])]),showSettings.value?(openBlock(),createElementBlock("div",_hoisted_11$8,[t[15]||(t[15]=createBaseVNode("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"},"Notification Settings",-1)),createBaseVNode("div",_hoisted_12$8,[createBaseVNode("label",_hoisted_13$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>unref(notificationSettings).enableBrowserNotifications=e),type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[vModelCheckbox,unref(notificationSettings).enableBrowserNotifications]]),t[12]||(t[12]=createBaseVNode("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Browser notifications",-1))]),createBaseVNode("label",_hoisted_14$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>unref(notificationSettings).enableSoundNotifications=e),type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[vModelCheckbox,unref(notificationSettings).enableSoundNotifications]]),t[13]||(t[13]=createBaseVNode("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Sound notifications",-1))]),createBaseVNode("label",_hoisted_15$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>unref(notificationSettings).autoMarkAsRead=e),type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[vModelCheckbox,unref(notificationSettings).autoMarkAsRead]]),t[14]||(t[14]=createBaseVNode("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Auto-mark as read",-1))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$7,[0===filteredNotifications.value.length?(openBlock(),createElementBlock("div",_hoisted_17$7,[...t[16]||(t[16]=[createBaseVNode("svg",{class:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})],-1),createBaseVNode("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No notifications",-1)])])):(openBlock(),createElementBlock("div",_hoisted_18$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(filteredNotifications.value,e=>(openBlock(),createElementBlock("div",{key:e.id,class:normalizeClass(["px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",e.isRead?"":"bg-blue-50 dark:bg-blue-900/20"]),onClick:t=>handleNotificationClick(e)},[createBaseVNode("div",_hoisted_20$7,[createBaseVNode("div",{class:normalizeClass(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm",getNotificationIconClass(e)])},toDisplayString(e.icon),3),createBaseVNode("div",_hoisted_21$7,[createBaseVNode("div",_hoisted_22$7,[createBaseVNode("p",_hoisted_23$6,toDisplayString(e.title),1),createBaseVNode("div",_hoisted_24$6,["high"===e.priority||"critical"===e.priority?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(["w-2 h-2 rounded-full","critical"===e.priority?"bg-red-500":"bg-orange-500"])},null,2)):createCommentVNode("",!0),e.isRead?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_25$6))])]),createBaseVNode("p",_hoisted_26$6,toDisplayString(e.message),1),createBaseVNode("div",_hoisted_27$6,[createBaseVNode("p",_hoisted_28$6,toDisplayString(formatTimestamp(e.timestamp)),1),createBaseVNode("div",_hoisted_29$6,[e.isRead?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:withModifiers(t=>unref(markAsRead)(e.id),["stop"]),class:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200"}," Mark read ",8,_hoisted_30$5)),createBaseVNode("button",{onClick:withModifiers(t=>unref(removeNotification)(e.id),["stop"]),class:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"}," Remove ",8,_hoisted_31$5)])]),e.actions&&e.actions.length>0?(openBlock(),createElementBlock("div",_hoisted_32$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.actions,e=>(openBlock(),createElementBlock("button",{key:e.label,onClick:withModifiers(t=>executeAction(e),["stop"]),class:"px-2 py-1 text-xs bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 rounded hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors"},toDisplayString(e.label),9,_hoisted_33$5))),128))])):createCommentVNode("",!0)])])],10,_hoisted_19$7))),128))]))]),createBaseVNode("div",_hoisted_34$5,[createBaseVNode("div",_hoisted_35$5,[createBaseVNode("span",null,toDisplayString(unref(notifications).length)+" total notifications",1),createBaseVNode("button",{onClick:t[7]||(t[7]=e=>unref(clearOldNotifications)(24)),class:"text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200"}," Clear old (24h+) ")])])])):createCommentVNode("",!0)]),_:1}),unref(isNotificationCenterOpen)?(openBlock(),createElementBlock("div",{key:0,onClick:t[8]||(t[8]=e=>isNotificationCenterOpen.value=!1),class:"fixed inset-0 z-40"})):createCommentVNode("",!0)]))}},NotificationCenter=_export_sfc(_sfc_main$a,[["__scopeId","data-v-d3bf603e"]]),_hoisted_1$9={key:0,class:"fixed bottom-4 left-4 right-4 z-50 max-w-md mx-auto"},_hoisted_2$9={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},_hoisted_3$9={class:"p-6"},_hoisted_4$9={class:"space-y-4"},_hoisted_5$9=["disabled"],_hoisted_6$8={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_7$8={key:1,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},_sfc_main$9={__name:"PWAInstallPrompt",props:{autoShow:{type:Boolean,default:!0},delay:{type:Number,default:3e3},maxDismissals:{type:Number,default:3}},emits:["install","dismiss","dismiss-permanently"],setup(e,{emit:t}){const a=e,r=t,{isInstallable:o,isInstalled:s,installPWA:i}=usePWA(),l=ref(!1),n=ref(!1),d=ref(0),c=ref(!1),u=computed(()=>a.autoShow&&!c.value&&o.value&&!s.value&&d.value<a.maxDismissals&&!localStorage.getItem("pwa-install-dismissed-permanently")),p=()=>__async(null,null,function*(){n.value=!0;try{(yield i())&&(l.value=!1,r("install"),m())}catch(e){g()}finally{n.value=!1}}),h=()=>{l.value=!1,d.value++,r("dismiss"),localStorage.setItem("pwa-install-dismissals",d.value.toString())},_=()=>{l.value=!1,c.value=!0,localStorage.setItem("pwa-install-dismissed-permanently","true"),r("dismiss-permanently")},m=()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("CarWise.ai Installed!",{body:"The app has been installed successfully. You can now access it from your home screen.",icon:"/icons/icon-192x192.png",tag:"pwa-install-success"})},g=()=>{},y=()=>{u.value&&setTimeout(()=>{u.value&&(l.value=!0)},a.delay)};return watch(o,e=>{e&&u.value&&y()}),watch(s,e=>{e&&(l.value=!1)}),onMounted(()=>{(()=>{const e=localStorage.getItem("pwa-install-dismissals"),t=localStorage.getItem("pwa-install-dismissed-permanently");e&&(d.value=parseInt(e,10)),t&&(c.value=!0)})(),u.value&&y()}),(e,t)=>(openBlock(),createBlock(Transition,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-full","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform translate-y-full"},{default:withCtx(()=>[l.value?(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",{class:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4"},[createBaseVNode("div",{class:"flex items-center justify-between"},[t[1]||(t[1]=createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])]),createBaseVNode("div",null,[createBaseVNode("h3",{class:"text-white font-semibold text-lg"},"Install CarWise.ai"),createBaseVNode("p",{class:"text-primary-100 text-sm"},"Get the full app experience")])],-1)),createBaseVNode("button",{onClick:h,class:"text-white hover:text-primary-200 transition-colors"},[...t[0]||(t[0]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),createBaseVNode("div",_hoisted_3$9,[createBaseVNode("div",_hoisted_4$9,[t[4]||(t[4]=createBaseVNode("div",{class:"space-y-3"},[createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Works offline with cached data")]),createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Faster loading and better performance")]),createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Push notifications for updates")]),createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Native app-like experience")])],-1)),createBaseVNode("button",{onClick:p,disabled:n.value,class:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2"},[n.value?(openBlock(),createElementBlock("svg",_hoisted_7$8,[...t[3]||(t[3]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_6$8,[...t[2]||(t[2]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])),createBaseVNode("span",null,toDisplayString(n.value?"Installing...":"Install App"),1)],8,_hoisted_5$9),createBaseVNode("div",{class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},[createBaseVNode("button",{onClick:h,class:"hover:text-gray-700 dark:hover:text-gray-300 transition-colors"}," Not now "),createBaseVNode("button",{onClick:_,class:"hover:text-gray-700 dark:hover:text-gray-300 transition-colors"}," Don't ask again ")])])])])])):createCommentVNode("",!0)]),_:1}))}},PWAInstallPrompt=_export_sfc(_sfc_main$9,[["__scopeId","data-v-97723105"]]),_hoisted_1$8={key:0,class:"fixed top-4 left-4 right-4 z-50 max-w-md mx-auto"},_hoisted_2$8={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},_hoisted_3$8={class:"p-6"},_hoisted_4$8={class:"space-y-4"},_hoisted_5$8={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},_hoisted_6$7={class:"flex items-center justify-between"},_hoisted_7$7={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_8$7={class:"text-right"},_hoisted_9$7={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_10$7={class:"flex space-x-3"},_hoisted_11$7=["disabled"],_hoisted_12$7={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_13$7={key:1,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},_sfc_main$8={__name:"PWAUpdateNotification",props:{autoShow:{type:Boolean,default:!0},delay:{type:Number,default:1e3},autoUpdate:{type:Boolean,default:!1},autoUpdateDelay:{type:Number,default:1e4}},emits:["update","dismiss","update-complete"],setup(e,{emit:t}){const a=e,r=t,{hasUpdate:o,isUpdateAvailable:s,updatePWA:i,swRegistration:l}=usePWA(),n=ref(!1),d=ref(!1),c=ref("1.0.0"),u=ref("1.0.1"),p=ref(null),h=computed(()=>a.autoShow&&o.value&&s.value),_=()=>__async(null,null,function*(){d.value=!0;try{(yield i())&&(n.value=!1,r("update"),g())}catch(e){y()}finally{d.value=!1}}),m=()=>{n.value=!1,r("dismiss"),p.value&&(clearTimeout(p.value),p.value=null)},g=()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("CarWise.ai Updated!",{body:"The app has been updated successfully. Enjoy the new features!",icon:"/icons/icon-192x192.png",tag:"pwa-update-success"}),r("update-complete")},y=()=>{},v=()=>{h.value&&setTimeout(()=>{h.value&&(n.value=!0,l.value&&(l.value.active||l.value.waiting)&&(c.value="1.0.0",u.value="1.0.1"),a.autoUpdate&&a.autoUpdate&&h.value&&(p.value=setTimeout(()=>{h.value&&_()},a.autoUpdateDelay)))},a.delay)};return watch(o,e=>{e&&h.value&&v()}),watch(s,e=>{e&&h.value&&v()}),onMounted(()=>{h.value&&v()}),(e,t)=>(openBlock(),createBlock(Transition,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-full","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-full"},{default:withCtx(()=>[n.value?(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",{class:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-4"},[createBaseVNode("div",{class:"flex items-center justify-between"},[t[1]||(t[1]=createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])]),createBaseVNode("div",null,[createBaseVNode("h3",{class:"text-white font-semibold text-lg"},"Update Available"),createBaseVNode("p",{class:"text-green-100 text-sm"},"New version ready to install")])],-1)),createBaseVNode("button",{onClick:m,class:"text-white hover:text-green-200 transition-colors"},[...t[0]||(t[0]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$8,[t[7]||(t[7]=createBaseVNode("div",{class:"space-y-3"},[createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Bug fixes and performance improvements")]),createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"New features and enhanced security")]),createBaseVNode("div",{class:"flex items-center space-x-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300 text-sm"},"Improved offline functionality")])],-1)),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$7,[createBaseVNode("div",null,[t[2]||(t[2]=createBaseVNode("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Current Version",-1)),createBaseVNode("p",_hoisted_7$7,toDisplayString(c.value),1)]),t[4]||(t[4]=createBaseVNode("div",{class:"text-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})])],-1)),createBaseVNode("div",_hoisted_8$7,[t[3]||(t[3]=createBaseVNode("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"New Version",-1)),createBaseVNode("p",_hoisted_9$7,toDisplayString(u.value),1)])])]),createBaseVNode("div",_hoisted_10$7,[createBaseVNode("button",{onClick:_,disabled:d.value,class:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2"},[d.value?(openBlock(),createElementBlock("svg",_hoisted_13$7,[...t[6]||(t[6]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_12$7,[...t[5]||(t[5]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),createBaseVNode("span",null,toDisplayString(d.value?"Updating...":"Update Now"),1)],8,_hoisted_11$7),createBaseVNode("button",{onClick:m,class:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"}," Later ")]),t[8]||(t[8]=createBaseVNode("div",{class:"text-center"},[createBaseVNode("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," The app will automatically update in the background ")],-1))])])])])):createCommentVNode("",!0)]),_:1}))}},PWAUpdateNotification=_export_sfc(_sfc_main$8,[["__scopeId","data-v-6c5df05b"]]),_hoisted_1$7={key:0,class:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg"},_hoisted_2$7={class:"max-w-7xl mx-auto px-4 py-3"},_hoisted_3$7={class:"flex items-center justify-between"},_hoisted_4$7={class:"flex items-center space-x-3"},_hoisted_5$7={class:"text-red-100 text-xs"},_hoisted_6$6={class:"flex items-center space-x-2"},_hoisted_7$6={key:0,class:"flex items-center space-x-2"},_hoisted_8$6={class:"text-xs"},_hoisted_9$6={key:1,class:"bg-white bg-opacity-20 rounded-full px-2 py-1"},_hoisted_10$6={class:"text-xs font-medium"},_hoisted_11$6={key:0,class:"fixed bottom-4 left-4 right-4 z-40 max-w-md mx-auto"},_hoisted_12$6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},_hoisted_13$6={class:"bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},_hoisted_14$6={class:"flex items-center justify-between"},_hoisted_15$6={class:"flex items-center space-x-2"},_hoisted_16$6={class:"text-orange-100 text-xs"},_hoisted_17$6={class:"max-h-48 overflow-y-auto"},_hoisted_18$6={class:"flex items-center space-x-3"},_hoisted_19$6={class:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},_hoisted_20$6={class:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_21$6=["d"],_hoisted_22$6={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_23$5={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_24$5={class:"flex items-center space-x-2"},_hoisted_25$5={key:0,class:"text-xs text-orange-600 dark:text-orange-400"},_hoisted_26$5=["onClick"],_hoisted_27$5={key:0,class:"p-3 text-center"},_hoisted_28$5={class:"p-3 bg-gray-50 dark:bg-gray-700"},_hoisted_29$5={class:"flex space-x-2"},_sfc_main$7={__name:"OfflineIndicator",props:{showPanel:{type:Boolean,default:!0}},setup(e){const t=e,{isOffline:a,offlineActions:r,hasOfflineActions:o,isSyncing:s,syncProgress:i,removeOfflineAction:l,clearOfflineActions:n,syncOfflineActions:d}=useOffline(),c=ref(!1),u=ref(!1);computed(()=>t.showPanel&&a.value&&o.value);const p=()=>{navigator.onLine?d():fetch("/",{method:"HEAD",cache:"no-cache"}).then(()=>{window.dispatchEvent(new Event("online"))}).catch(()=>{})},h=e=>({"add-to-cart":"Add to Cart","remove-from-cart":"Remove from Cart","add-to-wishlist":"Add to Wishlist","submit-diagnosis":"Submit Diagnosis","update-preferences":"Update Preferences"}[e]||"Unknown Action"),_=e=>{const t=Date.now()-e;return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:t<864e5?`${Math.floor(t/36e5)}h ago`:`${Math.floor(t/864e5)}d ago`};return onMounted(()=>{a.value&&o.value&&setTimeout(()=>{c.value=!0},3e3)}),watch(o,e=>{e&&a.value&&setTimeout(()=>{c.value=!0},1e3)}),(e,t)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Transition,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-full","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-full"},{default:withCtx(()=>[unref(a)?(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[t[4]||(t[4]=createBaseVNode("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z"})])],-1)),createBaseVNode("div",null,[t[3]||(t[3]=createBaseVNode("h3",{class:"font-semibold text-sm"},"You're Offline",-1)),createBaseVNode("p",_hoisted_5$7,toDisplayString(unref(o)?`${unref(r).length} actions queued`:"Working offline"),1)])]),createBaseVNode("div",_hoisted_6$6,[unref(s)?(openBlock(),createElementBlock("div",_hoisted_7$6,[t[5]||(t[5]=createBaseVNode("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1)),createBaseVNode("span",_hoisted_8$6,toDisplayString(unref(i))+"%",1)])):createCommentVNode("",!0),unref(o)?(openBlock(),createElementBlock("div",_hoisted_9$6,[createBaseVNode("span",_hoisted_10$6,toDisplayString(unref(r).length),1)])):createCommentVNode("",!0),createBaseVNode("button",{onClick:p,class:"text-white hover:text-red-200 transition-colors",title:"Retry Connection"},[...t[6]||(t[6]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])])])])])):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-full","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform translate-y-full"},{default:withCtx(()=>[unref(a)&&unref(o)&&c.value?(openBlock(),createElementBlock("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$6,[createBaseVNode("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$6,[createBaseVNode("div",_hoisted_15$6,[t[8]||(t[8]=createBaseVNode("div",{class:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),createBaseVNode("div",null,[t[7]||(t[7]=createBaseVNode("h3",{class:"text-white font-semibold text-sm"},"Offline Actions",-1)),createBaseVNode("p",_hoisted_16$6,toDisplayString(unref(r).length)+" actions queued",1)])]),createBaseVNode("button",{onClick:t[0]||(t[0]=e=>c.value=!1),class:"text-white hover:text-orange-200 transition-colors"},[...t[9]||(t[9]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),createBaseVNode("div",_hoisted_17$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).slice(0,5),e=>{return openBlock(),createElementBlock("div",{key:e.id,class:"flex items-center justify-between p-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[createBaseVNode("div",_hoisted_18$6,[createBaseVNode("div",_hoisted_19$6,[(openBlock(),createElementBlock("svg",_hoisted_20$6,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:(a=e.type,{"add-to-cart":"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01","remove-from-cart":"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01","add-to-wishlist":"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z","submit-diagnosis":"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h10a2 2 0 012 2v6a2 2 0 01-2 2H9m0-8v8","update-preferences":"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}[a]||"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z")},null,8,_hoisted_21$6)]))]),createBaseVNode("div",null,[createBaseVNode("p",_hoisted_22$6,toDisplayString(h(e.type)),1),createBaseVNode("p",_hoisted_23$5,toDisplayString(_(e.timestamp)),1)])]),createBaseVNode("div",_hoisted_24$5,[e.retryCount>0?(openBlock(),createElementBlock("div",_hoisted_25$5," Retry "+toDisplayString(e.retryCount)+"/"+toDisplayString(e.maxRetries),1)):createCommentVNode("",!0),createBaseVNode("button",{onClick:t=>unref(l)(e.id),class:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove Action"},[...t[10]||(t[10]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,_hoisted_26$5)])]);var a}),128)),unref(r).length>5?(openBlock(),createElementBlock("div",_hoisted_27$5,[createBaseVNode("button",{onClick:t[1]||(t[1]=e=>u.value=!u.value),class:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300"},toDisplayString(u.value?"Show Less":`Show ${unref(r).length-5} More`),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_28$5,[createBaseVNode("div",_hoisted_29$5,[createBaseVNode("button",{onClick:t[2]||(t[2]=(...e)=>unref(n)&&unref(n)(...e)),class:"flex-1 px-3 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors"}," Clear All "),createBaseVNode("button",{onClick:p,class:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors"}," Retry Sync ")])])])])):createCommentVNode("",!0)]),_:1})],64))}},OfflineIndicator=_export_sfc(_sfc_main$7,[["__scopeId","data-v-343a0448"]]),_hoisted_1$6={class:"relative"},_hoisted_2$6={key:0,class:"absolute inset-0 w-5 h-5 transform -rotate-90",viewBox:"0 0 24 24"},_hoisted_3$6=["stroke-dashoffset"],_hoisted_4$6={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},_hoisted_5$6={key:0,class:"absolute top-4 left-0 right-0 flex justify-center z-20 pointer-events-none"},_sfc_main$6={__name:"PullToRefresh",props:{onRefresh:{type:Function,required:!0},threshold:{type:Number,default:80},maxPull:{type:Number,default:120},showInstructions:{type:Boolean,default:!0},containerClass:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["refresh-start","refresh-end","pull-start","pull-end"],setup(e,{expose:t,emit:a}){const r=e,o=a,s=ref(null),i=ref(!1),{addTouchListeners:l,removeTouchListeners:n,setCallback:d,setPullRefresh:c,isPulling:u,pullDistance:p,isRefreshing:h}=useTouch();ref(0),ref(0);const _=ref(!1);c(!0,r.threshold);const m=2*Math.PI*8,g=computed(()=>h.value?100:Math.min(p.value/r.threshold*100,100)),y=computed(()=>m-g.value/100*m),v=computed(()=>h.value?"Refreshing...":f.value?"Release to refresh":u.value?"Pull to refresh":"Pull down"),f=computed(()=>p.value>=r.threshold&&!h.value),x=computed(()=>{const e=Math.min(p.value-40,r.maxPull-40),t=Math.min(p.value/40,1);return{transform:`translateY(${Math.max(e,-40)}px)`,opacity:u.value||h.value?t:0}}),k=computed(()=>{if(r.disabled)return{};const e=Math.min(.5*p.value,.5*r.maxPull);return{transform:u.value||h.value?`translateY(${e}px)`:"translateY(0)"}}),b=()=>__async(null,null,function*(){if(!r.disabled){i.value=!0,localStorage.setItem("carwise_pull_refresh_used","true"),o("refresh-start");try{yield r.onRefresh()}catch(e){}finally{o("refresh-end")}}}),B=()=>{window.scrollY>0&&u.value&&(_.value=!1)};return onMounted(()=>{s.value&&(l(s.value),d("onPullRefresh",b),window.addEventListener("scroll",B,{passive:!0}),i.value="true"===localStorage.getItem("carwise_pull_refresh_used"))}),onUnmounted(()=>{s.value&&n(s.value),window.removeEventListener("scroll",B)}),watch(h,e=>{e&&navigator.vibrate&&navigator.vibrate([50,50,50])}),t({refresh:b,resetInstructions:()=>{i.value=!1,localStorage.removeItem("carwise_pull_refresh_used")}}),(t,a)=>(openBlock(),createElementBlock("div",{ref_key:"refreshContainer",ref:s,class:normalizeClass(["relative overflow-hidden",e.containerClass])},[createBaseVNode("div",{class:"absolute top-0 left-0 right-0 flex items-center justify-center transition-all duration-300 ease-out z-10",style:normalizeStyle(x.value)},[createBaseVNode("div",{class:normalizeClass(["bg-white dark:bg-gray-800 rounded-full shadow-lg border border-gray-200 dark:border-gray-700 p-3 flex items-center space-x-2",{"animate-pulse":unref(h)}])},[createBaseVNode("div",_hoisted_1$6,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 text-primary-600 dark:text-primary-400 transition-transform duration-300",{"animate-spin":unref(h),"rotate-180":f.value&&!unref(h)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[0]||(a[0]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),unref(h)?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_2$6,[a[1]||(a[1]=createBaseVNode("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor","stroke-width":"2",fill:"none",class:"text-primary-200 dark:text-primary-800"},null,-1)),createBaseVNode("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor","stroke-width":"2",fill:"none",class:"text-primary-600 dark:text-primary-400","stroke-dasharray":m,"stroke-dashoffset":y.value,"stroke-linecap":"round"},null,8,_hoisted_3$6)]))]),createBaseVNode("span",_hoisted_4$6,toDisplayString(v.value),1)],2)],4),createBaseVNode("div",{class:"transition-transform duration-300 ease-out",style:normalizeStyle(k.value)},[renderSlot(t.$slots,"default",{},void 0,!0)],4),e.showInstructions&&!i.value?(openBlock(),createElementBlock("div",_hoisted_5$6,[...a[2]||(a[2]=[createBaseVNode("div",{class:"bg-primary-600 text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium animate-bounce"},[createTextVNode(" Pull down to refresh "),createBaseVNode("svg",{class:"w-4 h-4 ml-1 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1)])])):createCommentVNode("",!0)],2))}},PullToRefresh=_export_sfc(_sfc_main$6,[["__scopeId","data-v-c40656b9"]]),_hoisted_1$5={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$5={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$5={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden"},_hoisted_4$5={class:"flex flex-col h-full"},_hoisted_5$5={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$5={key:0,class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_7$5={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_8$5={class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg"},_hoisted_9$5={class:"text-2xl font-bold text-red-600 dark:text-red-400"},_hoisted_10$5={class:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg"},_hoisted_11$5={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},_hoisted_12$5={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},_hoisted_13$5={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_hoisted_14$5={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},_hoisted_15$5={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_16$5={class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_17$5={class:"flex flex-col md:flex-row gap-4"},_hoisted_18$5={class:"flex-1"},_hoisted_19$5={class:"flex gap-2"},_hoisted_20$5=["value"],_hoisted_21$5=["disabled"],_hoisted_22$5={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},_hoisted_23$4={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_24$4={class:"flex-1 overflow-y-auto p-6"},_hoisted_25$4={key:0,class:"text-center py-12"},_hoisted_26$4={key:1,class:"text-center py-12"},_hoisted_27$4={key:2,class:"space-y-4"},_hoisted_28$4={class:"flex flex-col md:flex-row md:items-start md:justify-between mb-4"},_hoisted_29$4={class:"flex items-start space-x-4"},_hoisted_30$4=["src","alt"],_hoisted_31$4={class:"flex-1"},_hoisted_32$4={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_33$4={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_34$4={key:0,class:"text-xs text-gray-500 dark:text-gray-500"},_hoisted_35$4={class:"text-lg font-bold text-primary-600 dark:text-primary-400 mt-2"},_hoisted_36$3={class:"flex items-center space-x-2 mt-4 md:mt-0"},_hoisted_37$3={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_38$3={key:0,class:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},_hoisted_39$3={class:"text-sm text-blue-700 dark:text-blue-300"},_hoisted_40$3={key:1,class:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},_hoisted_41$3={class:"text-sm text-yellow-700 dark:text-yellow-300"},_hoisted_42$3={class:"flex flex-col sm:flex-row gap-2"},_hoisted_43$3=["onClick"],_hoisted_44$3=["onClick"],_hoisted_45$3=["onClick"],_sfc_main$5={__name:"WishlistModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","moveToCart","editItem","removeItem"],setup(e,{emit:t}){const a=e,r=t,{wishlist:o,wishlistStatistics:s,isLoading:i,loadWishlist:l,loadWishlistStatistics:n,removeFromWishlist:d,moveToCart:c,getPriorityDisplay:u,formatCurrency:p,formatDate:h}=useWishlist(),_=ref(""),m=ref(""),g=ref(""),y=computed(()=>{let e=o.value;if(m.value&&(e=e.filter(e=>e.priority===m.value)),g.value&&(e=e.filter(e=>e.part_category===g.value)),_.value){const t=_.value.toLowerCase();e=e.filter(e=>{var a,r;return e.part_name.toLowerCase().includes(t)||(null==(a=e.part_brand)?void 0:a.toLowerCase().includes(t))||(null==(r=e.part_number)?void 0:r.toLowerCase().includes(t))})}return e}),v=computed(()=>s.value),f=e=>{const t={high:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"};return t[e]||t.medium},x=()=>__async(null,null,function*(){yield l(),yield n()});return watch(()=>a.isOpen,e=>{e&&x()}),onMounted(()=>{a.isOpen&&x()}),(t,a)=>{var o;return e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$5,[a[6]||(a[6]=createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"My Wishlist"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Save parts you want to buy later")],-1)),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[5]||(a[5]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),v.value?(openBlock(),createElementBlock("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$5,[createBaseVNode("div",_hoisted_9$5,toDisplayString(v.value.high_priority_items),1),a[7]||(a[7]=createBaseVNode("div",{class:"text-sm text-red-700 dark:text-red-300"},"High Priority",-1))]),createBaseVNode("div",_hoisted_10$5,[createBaseVNode("div",_hoisted_11$5,toDisplayString(v.value.medium_priority_items),1),a[8]||(a[8]=createBaseVNode("div",{class:"text-sm text-yellow-700 dark:text-yellow-300"},"Medium Priority",-1))]),createBaseVNode("div",_hoisted_12$5,[createBaseVNode("div",_hoisted_13$5,toDisplayString(v.value.low_priority_items),1),a[9]||(a[9]=createBaseVNode("div",{class:"text-sm text-green-700 dark:text-green-300"},"Low Priority",-1))]),createBaseVNode("div",_hoisted_14$5,[createBaseVNode("div",_hoisted_15$5,toDisplayString(v.value.items_with_alerts),1),a[10]||(a[10]=createBaseVNode("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Price Alerts",-1))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$5,[createBaseVNode("div",_hoisted_17$5,[createBaseVNode("div",_hoisted_18$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e),type:"text",placeholder:"Search wishlist items...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,_.value]])]),createBaseVNode("div",_hoisted_19$5,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[11]||(a[11]=[createBaseVNode("option",{value:""},"All Priorities",-1),createBaseVNode("option",{value:"high"},"High Priority",-1),createBaseVNode("option",{value:"medium"},"Medium Priority",-1),createBaseVNode("option",{value:"low"},"Low Priority",-1)])],512),[[vModelSelect,m.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[a[12]||(a[12]=createBaseVNode("option",{value:""},"All Categories",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(null==(o=v.value)?void 0:o.categories,(e,t)=>(openBlock(),createElementBlock("option",{key:t,value:t},toDisplayString(t)+" ("+toDisplayString(e)+") ",9,_hoisted_20$5))),128))],512),[[vModelSelect,g.value]]),createBaseVNode("button",{onClick:x,disabled:unref(i),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white rounded-lg transition-colors duration-200"},[unref(i)?(openBlock(),createElementBlock("svg",_hoisted_22$5,[...a[13]||(a[13]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_23$4,[...a[14]||(a[14]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],8,_hoisted_21$5)])])]),createBaseVNode("div",_hoisted_24$4,[unref(i)?(openBlock(),createElementBlock("div",_hoisted_25$4,[...a[15]||(a[15]=[createBaseVNode("svg",{class:"animate-spin h-8 w-8 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Loading wishlist...",-1)])])):0===y.value.length?(openBlock(),createElementBlock("div",_hoisted_26$4,[...a[16]||(a[16]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Your wishlist is empty",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Add parts you want to buy later by clicking the heart icon.",-1)])])):(openBlock(),createElementBlock("div",_hoisted_27$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,e=>(openBlock(),createElementBlock("div",{key:e.id,class:"bg-gray-50 dark:bg-secondary-700 rounded-lg p-6 hover:shadow-md transition-shadow duration-200"},[createBaseVNode("div",_hoisted_28$4,[createBaseVNode("div",_hoisted_29$4,[createBaseVNode("img",{src:e.part_image_url||"https://via.placeholder.com/100x100?text=No+Image",alt:e.part_name,class:"w-20 h-20 object-cover rounded-lg"},null,8,_hoisted_30$4),createBaseVNode("div",_hoisted_31$4,[createBaseVNode("h3",_hoisted_32$4,toDisplayString(e.part_name),1),createBaseVNode("p",_hoisted_33$4,toDisplayString(e.part_brand),1),e.part_number?(openBlock(),createElementBlock("p",_hoisted_34$4,"Part #: "+toDisplayString(e.part_number),1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_35$4,toDisplayString(unref(p)(e.part_price,e.part_currency)),1)])]),createBaseVNode("div",_hoisted_36$3,[createBaseVNode("span",{class:normalizeClass([f(e.priority),"px-3 py-1 rounded-full text-sm font-medium"])},toDisplayString(unref(u)(e.priority)),3),createBaseVNode("span",_hoisted_37$3,toDisplayString(unref(h)(e.added_at)),1)])]),e.notes?(openBlock(),createElementBlock("div",_hoisted_38$3,[createBaseVNode("p",_hoisted_39$3,[a[17]||(a[17]=createBaseVNode("strong",null,"Notes:",-1)),createTextVNode(" "+toDisplayString(e.notes),1)])])):createCommentVNode("",!0),e.notification_enabled&&e.price_alert_threshold?(openBlock(),createElementBlock("div",_hoisted_40$3,[createBaseVNode("p",_hoisted_41$3,[a[18]||(a[18]=createBaseVNode("strong",null,"Price Alert:",-1)),createTextVNode(" Notify when price drops below "+toDisplayString(unref(p)(e.price_alert_threshold,e.part_currency)),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_42$3,[createBaseVNode("button",{onClick:t=>(e=>__async(null,null,function*(){const t=yield c(e.id);t&&r("moveToCart",t)}))(e),class:"flex-1 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[19]||(a[19]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1),createTextVNode(" Add to Cart ",-1)])],8,_hoisted_43$3),createBaseVNode("button",{onClick:t=>(e=>{r("editItem",e)})(e),class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[20]||(a[20]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),createTextVNode(" Edit ",-1)])],8,_hoisted_44$3),createBaseVNode("button",{onClick:t=>(e=>__async(null,null,function*(){confirm(`Are you sure you want to remove "${e.part_name}" from your wishlist?`)&&(yield d(e.id))&&(yield x(),r("removeItem",e))}))(e),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[21]||(a[21]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),createTextVNode(" Remove ",-1)])],8,_hoisted_45$3)])]))),128))]))])])])])])):createCommentVNode("",!0)}}},_hoisted_1$4={key:0,class:"absolute top-full left-0 right-0 z-50 mt-1 bg-white dark:bg-secondary-800 border border-gray-200 dark:border-secondary-700 rounded-lg shadow-lg max-h-96 overflow-y-auto"},_hoisted_2$4={key:0,class:"p-2"},_hoisted_3$4={class:"space-y-1"},_hoisted_4$4=["onClick"],_hoisted_5$4={class:"flex-shrink-0 mr-3"},_hoisted_6$4=["d"],_hoisted_7$4={class:"flex-1 min-w-0"},_hoisted_8$4={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},_hoisted_9$4={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_10$4={class:"flex-shrink-0 ml-2"},_hoisted_11$4={key:1,class:"p-2"},_hoisted_12$4={class:"space-y-1"},_hoisted_13$4=["onClick"],_hoisted_14$4={class:"flex-1 min-w-0"},_hoisted_15$4={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},_hoisted_16$4={key:2,class:"p-2"},_hoisted_17$4={class:"space-y-1"},_hoisted_18$4=["onClick"],_hoisted_19$4={class:"flex-1 min-w-0"},_hoisted_20$4={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},_hoisted_21$4={key:3,class:"p-4 text-center"},_hoisted_22$4={key:4,class:"p-4 text-center"},_sfc_main$4={__name:"SearchSuggestions",props:{isVisible:{type:Boolean,default:!1},suggestions:{type:Array,default:()=>[]},popularSearches:{type:Array,default:()=>[]},recentSearches:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["select","clearRecent"],setup(e,{emit:t}){const a=t,{getSuggestionIcon:r,getSuggestionColor:o,getSuggestionBgColor:s,clearRecentSearches:i}=useSearchSuggestions(),l=e=>{a("select",e.text)},n=()=>{i(),a("clearRecent")};return(t,a)=>e.isVisible&&(e.suggestions.length>0||e.popularSearches.length>0||e.recentSearches.length>0)?(openBlock(),createElementBlock("div",_hoisted_1$4,[e.suggestions.length>0?(openBlock(),createElementBlock("div",_hoisted_2$4,[a[0]||(a[0]=createBaseVNode("div",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2 px-2"}," Suggestions ",-1)),createBaseVNode("div",_hoisted_3$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.suggestions,e=>(openBlock(),createElementBlock("button",{key:`suggestion-${e.text}`,onClick:t=>l(e),class:"w-full flex items-center px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-secondary-700 rounded-lg transition-colors duration-150 group"},[createBaseVNode("div",_hoisted_5$4,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-4 h-4",unref(o)(e.type)]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:unref(r)(e.type)},null,8,_hoisted_6$4)],2))]),createBaseVNode("div",_hoisted_7$4,[createBaseVNode("div",_hoisted_8$4,toDisplayString(e.text),1),createBaseVNode("div",_hoisted_9$4,toDisplayString(e.category),1)]),createBaseVNode("div",_hoisted_10$4,[createBaseVNode("span",{class:normalizeClass(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",unref(s)(e.type),unref(o)(e.type)])},toDisplayString(e.type),3)])],8,_hoisted_4$4))),128))])])):createCommentVNode("",!0),0===e.suggestions.length&&e.popularSearches.length>0?(openBlock(),createElementBlock("div",_hoisted_11$4,[a[4]||(a[4]=createBaseVNode("div",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2 px-2"}," Popular Searches ",-1)),createBaseVNode("div",_hoisted_12$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.popularSearches,e=>(openBlock(),createElementBlock("button",{key:`popular-${e.text}`,onClick:t=>l(e),class:"w-full flex items-center px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-secondary-700 rounded-lg transition-colors duration-150 group"},[a[2]||(a[2]=createBaseVNode("div",{class:"flex-shrink-0 mr-3"},[createBaseVNode("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1)),createBaseVNode("div",_hoisted_14$4,[createBaseVNode("div",_hoisted_15$4,toDisplayString(e.text),1),a[1]||(a[1]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Popular Search ",-1))]),a[3]||(a[3]=createBaseVNode("div",{class:"flex-shrink-0 ml-2"},[createBaseVNode("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-50 text-yellow-600"}," Popular ")],-1))],8,_hoisted_13$4))),128))])])):createCommentVNode("",!0),0===e.suggestions.length&&0===e.popularSearches.length&&e.recentSearches.length>0?(openBlock(),createElementBlock("div",_hoisted_16$4,[createBaseVNode("div",{class:"flex items-center justify-between mb-2 px-2"},[a[5]||(a[5]=createBaseVNode("div",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Recent Searches ",-1)),createBaseVNode("button",{onClick:n,class:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Clear recent searches"}," Clear ")]),createBaseVNode("div",_hoisted_17$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.recentSearches,e=>(openBlock(),createElementBlock("button",{key:`recent-${e.text}`,onClick:t=>l(e),class:"w-full flex items-center px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-secondary-700 rounded-lg transition-colors duration-150 group"},[a[7]||(a[7]=createBaseVNode("div",{class:"flex-shrink-0 mr-3"},[createBaseVNode("svg",{class:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),createBaseVNode("div",_hoisted_19$4,[createBaseVNode("div",_hoisted_20$4,toDisplayString(e.text),1),a[6]||(a[6]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Recent Search ",-1))]),a[8]||(a[8]=createBaseVNode("div",{class:"flex-shrink-0 ml-2"},[createBaseVNode("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-50 text-indigo-600"}," Recent ")],-1))],8,_hoisted_18$4))),128))])])):createCommentVNode("",!0),e.isLoading?(openBlock(),createElementBlock("div",_hoisted_21$4,[...a[9]||(a[9]=[createBaseVNode("svg",{class:"animate-spin h-5 w-5 text-primary-600 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Loading suggestions...",-1)])])):createCommentVNode("",!0),e.isLoading||0!==e.suggestions.length||0!==e.popularSearches.length||0!==e.recentSearches.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_22$4,[...a[10]||(a[10]=[createBaseVNode("svg",{class:"w-8 h-8 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"No suggestions found",-1)])]))])):createCommentVNode("",!0)}},_hoisted_1$3={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$3={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$3={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden"},_hoisted_4$3={class:"flex flex-col h-full"},_hoisted_5$3={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$3={key:0,class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_7$3={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_8$3={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},_hoisted_9$3={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_10$3={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},_hoisted_11$3={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_hoisted_12$3={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},_hoisted_13$3={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},_hoisted_14$3={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg"},_hoisted_15$3={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},_hoisted_16$3={class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_17$3={class:"flex flex-col md:flex-row gap-4"},_hoisted_18$3={class:"flex-1"},_hoisted_19$3={class:"flex gap-2"},_hoisted_20$3=["disabled"],_hoisted_21$3={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},_hoisted_22$3={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_23$3={class:"flex-1 overflow-y-auto p-6"},_hoisted_24$3={key:0,class:"text-center py-12"},_hoisted_25$3={key:1,class:"text-center py-12"},_hoisted_26$3={key:2,class:"space-y-4"},_hoisted_27$3={class:"flex flex-col md:flex-row md:items-start md:justify-between mb-4"},_hoisted_28$3={class:"flex items-start space-x-4"},_hoisted_29$3={class:"flex-shrink-0"},_hoisted_30$3=["d"],_hoisted_31$3={class:"flex-1"},_hoisted_32$3={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_33$3={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_34$3={class:"text-sm text-gray-500 dark:text-gray-500"},_hoisted_35$3={class:"flex items-center space-x-2 mt-4 md:mt-0"},_hoisted_36$2={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},_hoisted_37$2={class:"text-center"},_hoisted_38$2={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_39$2={class:"text-center"},_hoisted_40$2={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_41$2={class:"text-center"},_hoisted_42$2={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_43$2={class:"text-center"},_hoisted_44$2={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_45$2={key:0,class:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},_hoisted_46$2={class:"text-sm text-blue-700 dark:text-blue-300"},_hoisted_47$2={key:1,class:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg"},_hoisted_48$2={class:"text-sm text-red-700 dark:text-red-300"},_hoisted_49$2={class:"flex flex-col sm:flex-row gap-2"},_hoisted_50$2=["onClick"],_hoisted_51$2=["onClick"],_sfc_main$3={__name:"SearchHistoryModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","repeatSearch"],setup(e,{emit:t}){const a=e,r=t,{searchStatistics:o,isLoading:s,loadSearchHistory:i,loadSearchStatistics:l,clearSearchHistory:n,deleteSearchHistoryEntry:d,getSearchTypeIcon:c,getPerformanceRating:u,formatDuration:p,formatTimestamp:h,getSuccessStatus:_,filterSearchHistory:m}=useSearchHistory(),g=ref(""),y=ref(""),v=ref(""),f=ref(""),x=computed(()=>{const e={search:g.value,searchType:y.value,isSuccessful:v.value?"true"===v.value:null,hasResults:f.value?"true"===f.value:null};return m(e)}),k=computed(()=>o.value),b=e=>({car_parts:"text-blue-600 dark:text-blue-400",diagnosis:"text-green-600 dark:text-green-400",vehicles:"text-purple-600 dark:text-purple-400",brands:"text-orange-600 dark:text-orange-400",categories:"text-pink-600 dark:text-pink-400"}[e]||"text-gray-600 dark:text-gray-400"),B=e=>{if(!e||0===Object.keys(e).length)return"No filters";const t=[];for(const[a,r]of Object.entries(e))r&&t.push(`${a}: ${r}`);return t.join(", ")},w=()=>__async(null,null,function*(){yield i(),yield l()}),N=()=>__async(null,null,function*(){confirm("Are you sure you want to clear all search history? This action cannot be undone.")&&(yield n())&&(yield w())});return watch(()=>a.isOpen,e=>{e&&w()}),onMounted(()=>{a.isOpen&&w()}),(t,a)=>e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,[a[7]||(a[7]=createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Search History"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"View and manage your search history")],-1)),createBaseVNode("button",{onClick:a[1]||(a[1]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[6]||(a[6]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),k.value?(openBlock(),createElementBlock("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,[createBaseVNode("div",_hoisted_8$3,[createBaseVNode("div",_hoisted_9$3,toDisplayString(k.value.total_searches),1),a[8]||(a[8]=createBaseVNode("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Searches",-1))]),createBaseVNode("div",_hoisted_10$3,[createBaseVNode("div",_hoisted_11$3,toDisplayString(k.value.successful_searches),1),a[9]||(a[9]=createBaseVNode("div",{class:"text-sm text-green-700 dark:text-green-300"},"Successful",-1))]),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("div",_hoisted_13$3,toDisplayString(k.value.unique_queries),1),a[10]||(a[10]=createBaseVNode("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Unique Queries",-1))]),createBaseVNode("div",_hoisted_14$3,[createBaseVNode("div",_hoisted_15$3,toDisplayString(unref(p)(k.value.average_duration)),1),a[11]||(a[11]=createBaseVNode("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Avg Duration",-1))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$3,[createBaseVNode("div",_hoisted_17$3,[createBaseVNode("div",_hoisted_18$3,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),type:"text",placeholder:"Search in history...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,g.value]])]),createBaseVNode("div",_hoisted_19$3,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>y.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[12]||(a[12]=[createStaticVNode('<option value="">All Types</option><option value="car_parts">Car Parts</option><option value="diagnosis">Diagnosis</option><option value="vehicles">Vehicles</option><option value="brands">Brands</option><option value="categories">Categories</option>',6)])],512),[[vModelSelect,y.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>v.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[13]||(a[13]=[createBaseVNode("option",{value:""},"All Results",-1),createBaseVNode("option",{value:"true"},"Successful",-1),createBaseVNode("option",{value:"false"},"Failed",-1)])],512),[[vModelSelect,v.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>f.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[14]||(a[14]=[createBaseVNode("option",{value:""},"All Results",-1),createBaseVNode("option",{value:"true"},"With Results",-1),createBaseVNode("option",{value:"false"},"No Results",-1)])],512),[[vModelSelect,f.value]]),createBaseVNode("button",{onClick:w,disabled:unref(s),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white rounded-lg transition-colors duration-200"},[unref(s)?(openBlock(),createElementBlock("svg",_hoisted_21$3,[...a[15]||(a[15]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_22$3,[...a[16]||(a[16]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],8,_hoisted_20$3),createBaseVNode("button",{onClick:N,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200"},[...a[17]||(a[17]=[createBaseVNode("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])])]),createBaseVNode("div",_hoisted_23$3,[unref(s)?(openBlock(),createElementBlock("div",_hoisted_24$3,[...a[18]||(a[18]=[createBaseVNode("svg",{class:"animate-spin h-8 w-8 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Loading search history...",-1)])])):0===x.value.length?(openBlock(),createElementBlock("div",_hoisted_25$3,[...a[19]||(a[19]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"No search history found",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Your search history will appear here once you start searching.",-1)])])):(openBlock(),createElementBlock("div",_hoisted_26$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(x.value,e=>{return openBlock(),createElementBlock("div",{key:e.id,class:"bg-gray-50 dark:bg-secondary-700 rounded-lg p-6 hover:shadow-md transition-shadow duration-200"},[createBaseVNode("div",_hoisted_27$3,[createBaseVNode("div",_hoisted_28$3,[createBaseVNode("div",_hoisted_29$3,[createBaseVNode("div",{class:normalizeClass(["w-12 h-12 rounded-lg flex items-center justify-center",(s=e.search_type,{car_parts:"bg-blue-100 dark:bg-blue-900/20",diagnosis:"bg-green-100 dark:bg-green-900/20",vehicles:"bg-purple-100 dark:bg-purple-900/20",brands:"bg-orange-100 dark:bg-orange-900/20",categories:"bg-pink-100 dark:bg-pink-900/20"}[s]||"bg-gray-100 dark:bg-gray-900/20")])},[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-6 h-6",b(e.search_type)]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:unref(c)(e.search_type)},null,8,_hoisted_30$3)],2))],2)]),createBaseVNode("div",_hoisted_31$3,[createBaseVNode("h3",_hoisted_32$3,toDisplayString(e.search_query),1),createBaseVNode("p",_hoisted_33$3,toDisplayString(e.search_category||"No category"),1),createBaseVNode("p",_hoisted_34$3,toDisplayString(unref(h)(e.search_timestamp)),1)])]),createBaseVNode("div",_hoisted_35$3,[createBaseVNode("span",{class:normalizeClass([(o=e.is_successful,o?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),"px-3 py-1 rounded-full text-sm font-medium"])},toDisplayString(unref(_)(e.is_successful)),3),createBaseVNode("span",{class:normalizeClass([(t=e.search_duration,{Excellent:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",Good:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",Average:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",Slow:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[u(t)]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"),"px-3 py-1 rounded-full text-sm font-medium"])},toDisplayString(unref(u)(e.search_duration)),3)])]),createBaseVNode("div",_hoisted_36$2,[createBaseVNode("div",_hoisted_37$2,[createBaseVNode("div",_hoisted_38$2,toDisplayString(e.results_count),1),a[20]||(a[20]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Results",-1))]),createBaseVNode("div",_hoisted_39$2,[createBaseVNode("div",_hoisted_40$2,toDisplayString(unref(p)(e.search_duration)),1),a[21]||(a[21]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Duration",-1))]),createBaseVNode("div",_hoisted_41$2,[createBaseVNode("div",_hoisted_42$2,toDisplayString(e.device_type||"Unknown"),1),a[22]||(a[22]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Device",-1))]),createBaseVNode("div",_hoisted_43$2,[createBaseVNode("div",_hoisted_44$2,toDisplayString(e.browser||"Unknown"),1),a[23]||(a[23]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Browser",-1))])]),e.search_filters&&Object.keys(e.search_filters).length>0?(openBlock(),createElementBlock("div",_hoisted_45$2,[createBaseVNode("p",_hoisted_46$2,[a[24]||(a[24]=createBaseVNode("strong",null,"Filters:",-1)),createTextVNode(" "+toDisplayString(B(e.search_filters)),1)])])):createCommentVNode("",!0),e.error_message?(openBlock(),createElementBlock("div",_hoisted_47$2,[createBaseVNode("p",_hoisted_48$2,[a[25]||(a[25]=createBaseVNode("strong",null,"Error:",-1)),createTextVNode(" "+toDisplayString(e.error_message),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_49$2,[createBaseVNode("button",{onClick:t=>(e=>{r("repeatSearch",e.search_query)})(e),class:"flex-1 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[26]||(a[26]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),createTextVNode(" Repeat Search ",-1)])],8,_hoisted_50$2),createBaseVNode("button",{onClick:t=>(e=>__async(null,null,function*(){confirm("Are you sure you want to delete this search history entry?")&&(yield d(e.id))&&(yield w())}))(e),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[27]||(a[27]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),createTextVNode(" Delete ",-1)])],8,_hoisted_51$2)])]);var t,o,s}),128))]))])])])])])):createCommentVNode("",!0)}},_hoisted_1$2={key:0,class:"fixed inset-0 z-50 overflow-hidden"},_hoisted_2$2={class:"absolute inset-0 flex items-center justify-center p-4"},_hoisted_3$2={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden"},_hoisted_4$2={class:"flex flex-col h-full"},_hoisted_5$2={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_6$2={class:"flex items-center space-x-3"},_hoisted_7$2={key:0,class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_8$2={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_9$2={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},_hoisted_10$2={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_11$2={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},_hoisted_12$2={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_hoisted_13$2={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},_hoisted_14$2={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},_hoisted_15$2={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg"},_hoisted_16$2={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},_hoisted_17$2={class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_18$2={class:"flex flex-col md:flex-row gap-4"},_hoisted_19$2={class:"flex-1"},_hoisted_20$2={class:"flex gap-2"},_hoisted_21$2=["disabled"],_hoisted_22$2={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},_hoisted_23$2={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_24$2={class:"flex-1 overflow-y-auto p-6"},_hoisted_25$2={key:0,class:"text-center py-12"},_hoisted_26$2={key:1,class:"text-center py-12"},_hoisted_27$2={key:2,class:"space-y-4"},_hoisted_28$2={class:"flex flex-col md:flex-row md:items-start md:justify-between mb-4"},_hoisted_29$2={class:"flex items-start space-x-4"},_hoisted_30$2={class:"flex-shrink-0"},_hoisted_31$2=["d"],_hoisted_32$2={class:"flex-1"},_hoisted_33$2={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_34$2={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_35$2={key:0,class:"text-sm text-gray-500 dark:text-gray-500 mt-1"},_hoisted_36$1={class:"flex items-center space-x-2 mt-4 md:mt-0"},_hoisted_37$1={key:0,class:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},_hoisted_38$1={key:1,class:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},_hoisted_39$1={key:2,class:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},_hoisted_40$1={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},_hoisted_41$1={class:"text-center"},_hoisted_42$1={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_43$1={class:"text-center"},_hoisted_44$1={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_45$1={class:"text-center"},_hoisted_46$1={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_47$1={class:"text-center"},_hoisted_48$1={class:"text-lg font-bold text-gray-900 dark:text-white"},_hoisted_49$1={key:0,class:"mb-4"},_hoisted_50$1={class:"flex flex-wrap gap-2"},_hoisted_51$1={class:"flex flex-col sm:flex-row gap-2"},_hoisted_52$1=["onClick"],_hoisted_53$1=["onClick"],_hoisted_54$1={class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_55$1=["d"],_hoisted_56$1=["onClick"],_hoisted_57$1=["onClick"],_sfc_main$2={__name:"SavedSearchesModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","executeSearch"],setup(e,{emit:t}){const a=e,r=t,{savedSearchStatistics:o,isLoading:s,loadSavedSearches:i,loadSavedSearchStatistics:l,deleteSavedSearch:n,toggleFavorite:d}=useSavedSearches(),c=ref(""),u=ref(""),p=ref(""),h=ref(""),_=ref(!1),m=computed(()=>{const e={search:c.value,searchType:u.value,isFavorite:p.value?"true"===p.value:null,isPublic:h.value?"true"===h.value:null};return filterSavedSearches(e)}),g=computed(()=>o.value),y=e=>({car_parts:"text-blue-600 dark:text-blue-400",diagnosis:"text-green-600 dark:text-green-400",vehicles:"text-purple-600 dark:text-purple-400",brands:"text-orange-600 dark:text-orange-400",categories:"text-pink-600 dark:text-pink-400"}[e]||"text-gray-600 dark:text-gray-400"),v=()=>__async(null,null,function*(){yield i(),yield l()});return watch(()=>a.isOpen,e=>{e&&v()}),onMounted(()=>{a.isOpen&&v()}),(t,a)=>e.isOpen?(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[a[9]||(a[9]=createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Saved Searches"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Manage your saved searches")],-1)),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("button",{onClick:a[1]||(a[1]=e=>_.value=!0),class:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center"},[...a[7]||(a[7]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Save Search ",-1)])]),createBaseVNode("button",{onClick:a[2]||(a[2]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...a[8]||(a[8]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),g.value?(openBlock(),createElementBlock("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,toDisplayString(g.value.total_saved_searches),1),a[10]||(a[10]=createBaseVNode("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Saved",-1))]),createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$2,toDisplayString(g.value.favorite_saved_searches),1),a[11]||(a[11]=createBaseVNode("div",{class:"text-sm text-green-700 dark:text-green-300"},"Favorites",-1))]),createBaseVNode("div",_hoisted_13$2,[createBaseVNode("div",_hoisted_14$2,toDisplayString(g.value.public_saved_searches),1),a[12]||(a[12]=createBaseVNode("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Public",-1))]),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("div",_hoisted_16$2,toDisplayString(g.value.searches_with_notifications),1),a[13]||(a[13]=createBaseVNode("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"With Alerts",-1))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$2,[createBaseVNode("div",_hoisted_18$2,[createBaseVNode("div",_hoisted_19$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),type:"text",placeholder:"Search saved searches...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,c.value]])]),createBaseVNode("div",_hoisted_20$2,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[14]||(a[14]=[createStaticVNode('<option value="">All Types</option><option value="car_parts">Car Parts</option><option value="diagnosis">Diagnosis</option><option value="vehicles">Vehicles</option><option value="brands">Brands</option><option value="categories">Categories</option>',6)])],512),[[vModelSelect,u.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>p.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[15]||(a[15]=[createBaseVNode("option",{value:""},"All",-1),createBaseVNode("option",{value:"true"},"Favorites",-1),createBaseVNode("option",{value:"false"},"Not Favorites",-1)])],512),[[vModelSelect,p.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>h.value=e),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...a[16]||(a[16]=[createBaseVNode("option",{value:""},"All",-1),createBaseVNode("option",{value:"true"},"Public",-1),createBaseVNode("option",{value:"false"},"Private",-1)])],512),[[vModelSelect,h.value]]),createBaseVNode("button",{onClick:v,disabled:unref(s),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white rounded-lg transition-colors duration-200"},[unref(s)?(openBlock(),createElementBlock("svg",_hoisted_22$2,[...a[17]||(a[17]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_23$2,[...a[18]||(a[18]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],8,_hoisted_21$2)])])]),createBaseVNode("div",_hoisted_24$2,[unref(s)?(openBlock(),createElementBlock("div",_hoisted_25$2,[...a[19]||(a[19]=[createBaseVNode("svg",{class:"animate-spin h-8 w-8 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Loading saved searches...",-1)])])):0===m.value.length?(openBlock(),createElementBlock("div",_hoisted_26$2,[...a[20]||(a[20]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"No saved searches found",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Start saving your searches to access them quickly later.",-1)])])):(openBlock(),createElementBlock("div",_hoisted_27$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,e=>{return openBlock(),createElementBlock("div",{key:e.id,class:"bg-gray-50 dark:bg-secondary-700 rounded-lg p-6 hover:shadow-md transition-shadow duration-200"},[createBaseVNode("div",_hoisted_28$2,[createBaseVNode("div",_hoisted_29$2,[createBaseVNode("div",_hoisted_30$2,[createBaseVNode("div",{class:normalizeClass(["w-12 h-12 rounded-lg flex items-center justify-center",(o=e.search_type,{car_parts:"bg-blue-100 dark:bg-blue-900/20",diagnosis:"bg-green-100 dark:bg-green-900/20",vehicles:"bg-purple-100 dark:bg-purple-900/20",brands:"bg-orange-100 dark:bg-orange-900/20",categories:"bg-pink-100 dark:bg-pink-900/20"}[o]||"bg-gray-100 dark:bg-gray-900/20")])},[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-6 h-6",y(e.search_type)]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.getSearchTypeIcon(e.search_type)},null,8,_hoisted_31$2)],2))],2)]),createBaseVNode("div",_hoisted_32$2,[createBaseVNode("h3",_hoisted_33$2,toDisplayString(e.search_name),1),createBaseVNode("p",_hoisted_34$2,toDisplayString(e.search_query),1),e.search_description?(openBlock(),createElementBlock("p",_hoisted_35$2,toDisplayString(e.search_description),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_36$1,[e.is_favorite?(openBlock(),createElementBlock("span",_hoisted_37$1," Favorite ")):createCommentVNode("",!0),e.is_public?(openBlock(),createElementBlock("span",_hoisted_38$1," Public ")):createCommentVNode("",!0),e.notification_enabled?(openBlock(),createElementBlock("span",_hoisted_39$1," Alerts ")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_40$1,[createBaseVNode("div",_hoisted_41$1,[createBaseVNode("div",_hoisted_42$1,toDisplayString(t.formatSearchCount(e.search_count)),1),a[21]||(a[21]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Searches",-1))]),createBaseVNode("div",_hoisted_43$1,[createBaseVNode("div",_hoisted_44$1,toDisplayString(t.formatResultsCount(e.results_count)),1),a[22]||(a[22]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Avg Results",-1))]),createBaseVNode("div",_hoisted_45$1,[createBaseVNode("div",_hoisted_46$1,toDisplayString(t.formatAverageDuration(e.average_duration)),1),a[23]||(a[23]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Avg Duration",-1))]),createBaseVNode("div",_hoisted_47$1,[createBaseVNode("div",_hoisted_48$1,toDisplayString(t.formatSuccessRate(e.success_rate)),1),a[24]||(a[24]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"Success Rate",-1))])]),e.tags&&e.tags.length>0?(openBlock(),createElementBlock("div",_hoisted_49$1,[createBaseVNode("div",_hoisted_50$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.tags,e=>(openBlock(),createElementBlock("span",{key:e,class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full"},toDisplayString(e),1))),128))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_51$1,[createBaseVNode("button",{onClick:t=>(e=>{r("executeSearch",e.search_query)})(e),class:"flex-1 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[25]||(a[25]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createTextVNode(" Execute Search ",-1)])],8,_hoisted_52$1),createBaseVNode("button",{onClick:t=>(e=>__async(null,null,function*(){(yield d(e.id))&&(yield v())}))(e),class:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[(openBlock(),createElementBlock("svg",_hoisted_54$1,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:(e.is_favorite,"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z")},null,8,_hoisted_55$1)])),createTextVNode(" "+toDisplayString(e.is_favorite?"Unfavorite":"Favorite"),1)],8,_hoisted_53$1),createBaseVNode("button",{onClick:e=>{},class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[26]||(a[26]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),createTextVNode(" Edit ",-1)])],8,_hoisted_56$1),createBaseVNode("button",{onClick:t=>(e=>__async(null,null,function*(){confirm(`Are you sure you want to delete "${e.search_name}"?`)&&(yield n(e.id))&&(yield v())}))(e),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"},[...a[27]||(a[27]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),createTextVNode(" Delete ",-1)])],8,_hoisted_57$1)])]);var o}),128))]))])])])])])):createCommentVNode("",!0)}},_hoisted_1$1={class:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-gray-200 dark:border-secondary-700"},_hoisted_2$1={class:"p-4 border-b border-gray-200 dark:border-secondary-700"},_hoisted_3$1={class:"flex items-center justify-between"},_hoisted_4$1={class:"flex items-center space-x-2"},_hoisted_5$1={key:0,class:"p-4 space-y-6"},_hoisted_6$1={class:"space-y-3"},_hoisted_7$1={class:"flex items-center space-x-4"},_hoisted_8$1={class:"flex-1"},_hoisted_9$1={class:"flex-1"},_hoisted_10$1={class:"flex items-center space-x-2"},_hoisted_11$1={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_12$1={class:"flex items-center space-x-2"},_hoisted_13$1={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_14$1={class:"space-y-2"},_hoisted_15$1={class:"flex items-center space-x-2"},_hoisted_16$1={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_17$1={class:"flex items-center space-x-4"},_hoisted_18$1=["onClick"],_hoisted_19$1={class:"space-y-2"},_hoisted_20$1={class:"max-h-32 overflow-y-auto space-y-1"},_hoisted_21$1=["value"],_hoisted_22$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_23$1={class:"space-y-2"},_hoisted_24$1={class:"max-h-32 overflow-y-auto space-y-1"},_hoisted_25$1=["value"],_hoisted_26$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_27$1={class:"space-y-2"},_hoisted_28$1=["value"],_hoisted_29$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_30$1={class:"space-y-2"},_hoisted_31$1=["onUpdate:modelValue","value"],_hoisted_32$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_33$1={class:"space-y-2"},_hoisted_34$1=["onUpdate:modelValue","value"],_hoisted_35$1={class:"text-sm text-gray-700 dark:text-gray-300"},_sfc_main$1={__name:"AdvancedFilters",props:{isExpanded:{type:Boolean,default:!1},brands:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]}},emits:["update:filters","clear-filters","apply-filters"],setup(e,{emit:t}){const a=e,r=t,o=ref(a.isExpanded),s=ref(""),i=ref(""),l=ref({priceRange:{min:null,max:null},rating:null,brands:[],categories:[],conditions:[],availability:[],shipping:[],sortBy:"relevance"}),n=ref([{value:"new",label:"New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"},{value:"remanufactured",label:"Remanufactured"}]),d=ref([{value:"in_stock",label:"In Stock"},{value:"out_of_stock",label:"Out of Stock"},{value:"pre_order",label:"Pre-order"},{value:"discontinued",label:"Discontinued"}]),c=ref([{value:"free_shipping",label:"Free Shipping"},{value:"fast_shipping",label:"Fast Shipping (1-2 days)"},{value:"standard_shipping",label:"Standard Shipping (3-5 days)"},{value:"express_shipping",label:"Express Shipping (Next day)"}]),u=computed(()=>s.value?a.brands.filter(e=>e.toLowerCase().includes(s.value.toLowerCase())):a.brands),p=computed(()=>i.value?a.categories.filter(e=>e.toLowerCase().includes(i.value.toLowerCase())):a.categories),h=()=>{o.value=!o.value},_=()=>{l.value={priceRange:{min:null,max:null},rating:null,brands:[],categories:[],conditions:[],availability:[],shipping:[],sortBy:"relevance"},r("clear-filters")},m=()=>{r("apply-filters",l.value)};return watch(l,e=>{r("update:filters",e)},{deep:!0}),watch(()=>a.isExpanded,e=>{o.value=e}),(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[t[12]||(t[12]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Advanced Filters",-1)),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("button",{onClick:_,class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}," Clear All "),createBaseVNode("button",{onClick:h,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transition-transform duration-200",{"rotate-180":o.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[11]||(t[11]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])])]),o.value?(openBlock(),createElementBlock("div",_hoisted_5$1,[createBaseVNode("div",null,[t[15]||(t[15]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Price Range ",-1)),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[t[13]||(t[13]=createBaseVNode("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-1"},"Min Price",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.priceRange.min=e),type:"number",min:"0",step:"0.01",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 dark:border-secondary-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,l.value.priceRange.min,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_9$1,[t[14]||(t[14]=createBaseVNode("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-1"},"Max Price",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.value.priceRange.max=e),type:"number",min:"0",step:"0.01",placeholder:"1000",class:"w-full px-3 py-2 border border-gray-300 dark:border-secondary-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,l.value.priceRange.max,void 0,{number:!0}]])])]),createBaseVNode("div",_hoisted_10$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.value.priceRange.min=e),type:"range",min:"0",max:"1000",step:"1",class:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,512),[[vModelText,l.value.priceRange.min]]),createBaseVNode("span",_hoisted_11$1,"$"+toDisplayString(l.value.priceRange.min||0),1)]),createBaseVNode("div",_hoisted_12$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.value.priceRange.max=e),type:"range",min:"0",max:"1000",step:"1",class:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,512),[[vModelText,l.value.priceRange.max]]),createBaseVNode("span",_hoisted_13$1,"$"+toDisplayString(l.value.priceRange.max||1e3),1)])])]),createBaseVNode("div",null,[t[16]||(t[16]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Minimum Rating ",-1)),createBaseVNode("div",_hoisted_14$1,[createBaseVNode("div",_hoisted_15$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.value.rating=e),type:"range",min:"0",max:"5",step:"0.1",class:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,512),[[vModelText,l.value.rating]]),createBaseVNode("span",_hoisted_16$1,toDisplayString(l.value.rating||0)+" ",1)]),createBaseVNode("div",_hoisted_17$1,[(openBlock(),createElementBlock(Fragment,null,renderList([0,1,2,3,4,5],e=>createBaseVNode("button",{key:e,onClick:t=>l.value.rating=e,class:normalizeClass(["px-3 py-1 rounded-full text-sm font-medium transition-colors duration-200",l.value.rating>=e?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},toDisplayString(e)+"+  ",11,_hoisted_18$1)),64))])])]),createBaseVNode("div",null,[t[17]||(t[17]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Brand/Manufacturer ",-1)),createBaseVNode("div",_hoisted_19$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.value=e),type:"text",placeholder:"Search brands...",class:"w-full px-3 py-2 border border-gray-300 dark:border-secondary-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,s.value]]),createBaseVNode("div",_hoisted_20$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,e=>(openBlock(),createElementBlock("label",{key:e,class:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-secondary-700 p-2 rounded"},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.brands=e),value:e,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,_hoisted_21$1),[[vModelCheckbox,l.value.brands]]),createBaseVNode("span",_hoisted_22$1,toDisplayString(e),1)]))),128))])])]),createBaseVNode("div",null,[t[18]||(t[18]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Category ",-1)),createBaseVNode("div",_hoisted_23$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.value=e),type:"text",placeholder:"Search categories...",class:"w-full px-3 py-2 border border-gray-300 dark:border-secondary-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},null,512),[[vModelText,i.value]]),createBaseVNode("div",_hoisted_24$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.value,e=>(openBlock(),createElementBlock("label",{key:e,class:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-secondary-700 p-2 rounded"},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.value.categories=e),value:e,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,_hoisted_25$1),[[vModelCheckbox,l.value.categories]]),createBaseVNode("span",_hoisted_26$1,toDisplayString(e),1)]))),128))])])]),createBaseVNode("div",null,[t[19]||(t[19]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Condition ",-1)),createBaseVNode("div",_hoisted_27$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,e=>(openBlock(),createElementBlock("label",{key:e.value,class:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-secondary-700 p-2 rounded"},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.value.conditions=e),value:e.value,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,_hoisted_28$1),[[vModelCheckbox,l.value.conditions]]),createBaseVNode("span",_hoisted_29$1,toDisplayString(e.label),1)]))),128))])]),createBaseVNode("div",null,[t[20]||(t[20]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Availability ",-1)),createBaseVNode("div",_hoisted_30$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,e=>(openBlock(),createElementBlock("label",{key:e.value,class:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-secondary-700 p-2 rounded"},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e=>l.value.availability=e,value:e.value,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,_hoisted_31$1),[[vModelCheckbox,l.value.availability]]),createBaseVNode("span",_hoisted_32$1,toDisplayString(e.label),1)]))),128))])]),createBaseVNode("div",null,[t[21]||(t[21]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Shipping Options ",-1)),createBaseVNode("div",_hoisted_33$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,e=>(openBlock(),createElementBlock("label",{key:e.value,class:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-secondary-700 p-2 rounded"},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e=>l.value.shipping=e,value:e.value,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,_hoisted_34$1),[[vModelCheckbox,l.value.shipping]]),createBaseVNode("span",_hoisted_35$1,toDisplayString(e.label),1)]))),128))])]),createBaseVNode("div",null,[t[23]||(t[23]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Sort By ",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.value.sortBy=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-secondary-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-700 dark:text-white"},[...t[22]||(t[22]=[createStaticVNode('<option value="relevance">Relevance</option><option value="price_asc">Price: Low to High</option><option value="price_desc">Price: High to Low</option><option value="rating_desc">Rating: High to Low</option><option value="newest">Newest First</option><option value="oldest">Oldest First</option><option value="name_asc">Name: A to Z</option><option value="name_desc">Name: Z to A</option>',8)])],512),[[vModelSelect,l.value.sortBy]])]),createBaseVNode("div",{class:"pt-4 border-t border-gray-200 dark:border-secondary-700"},[createBaseVNode("button",{onClick:m,class:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200"}," Apply Filters ")])])):createCommentVNode("",!0)]))}},_hoisted_1={class:"min-h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50 dark:from-secondary-900 dark:via-secondary-800 dark:to-primary-900"},_hoisted_2={class:"relative"},_hoisted_3={class:"relative overflow-hidden bg-gradient-to-r from-primary-600 via-primary-700 to-secondary-600"},_hoisted_4={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20"},_hoisted_5={class:"text-center text-white"},_hoisted_6={class:"flex flex-col sm:flex-row gap-4 justify-center"},_hoisted_7={class:"mt-6 flex justify-center"},_hoisted_8={class:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-white/90 text-sm"},_hoisted_9={key:0},_hoisted_10={key:1},_hoisted_11={key:2,class:"text-white/70 text-xs"},_hoisted_12={class:"relative -mt-16 z-10"},_hoisted_13={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_hoisted_14={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},_hoisted_15={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-6 text-center"},_hoisted_16={class:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2"},_hoisted_17={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_hoisted_18={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-8 border border-blue-200 dark:border-blue-800"},_hoisted_19={class:"text-center mt-8"},_hoisted_20={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_hoisted_21={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-sm border border-gray-200 dark:border-secondary-700 p-8"},_hoisted_22={class:"flex items-center justify-between mb-6"},_hoisted_23={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_24={class:"flex items-start justify-between mb-4"},_hoisted_25={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_26={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_27={class:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs font-medium rounded-full"},_hoisted_28={class:"mb-4"},_hoisted_29={class:"flex flex-wrap gap-2"},_hoisted_30={class:"flex items-center justify-between"},_hoisted_31={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_32=["onClick"],_hoisted_33={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},_hoisted_34={id:"search-section",class:"bg-gradient-to-r from-white via-blue-50 to-indigo-50 dark:from-secondary-800 dark:via-blue-900/20 dark:to-indigo-900/20 rounded-2xl shadow-xl border border-blue-200/50 dark:border-blue-800/50 mb-8 overflow-hidden"},_hoisted_35={class:"relative p-8"},_hoisted_36={class:"relative"},_hoisted_37={class:"flex flex-col lg:flex-row gap-4 mb-6"},_hoisted_38={class:"flex-1 relative"},_hoisted_39={class:"relative"},_hoisted_40={class:"flex gap-3"},_hoisted_41={class:"flex flex-wrap gap-2 justify-center"},_hoisted_42=["onClick"],_hoisted_43={class:"p-6 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800/50 dark:to-blue-900/20 border-t border-blue-200/50 dark:border-blue-800/50"},_hoisted_44={class:"flex flex-col lg:flex-row gap-6"},_hoisted_45={class:"flex-1"},_hoisted_46={class:"flex gap-3"},_hoisted_47={class:"flex-1 relative"},_hoisted_48={class:"absolute right-3 top-1/2 transform -translate-y-1/2"},_hoisted_49={class:"text-xs text-gray-400 font-mono"},_hoisted_50=["disabled"],_hoisted_51={key:0,class:"lg:w-96"},_hoisted_52={class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 shadow-lg"},_hoisted_53={class:"space-y-2"},_hoisted_54={class:"text-lg font-bold text-green-900 dark:text-green-100"},_hoisted_55={class:"flex items-center gap-4 text-sm text-green-700 dark:text-green-300"},_hoisted_56={class:"flex items-center gap-1"},_hoisted_57={class:"flex items-center gap-1"},_hoisted_58={class:"flex items-center gap-1"},_hoisted_59={key:0,class:"p-4"},_hoisted_60={class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},_hoisted_61={class:"flex items-center justify-between mb-3"},_hoisted_62={class:"flex items-center gap-2"},_hoisted_63={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200"},_hoisted_64={class:"space-y-2 max-h-32 overflow-y-auto"},_hoisted_65={class:"flex-1"},_hoisted_66={class:"text-sm text-gray-800 dark:text-gray-200"},_hoisted_67={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_68=["onClick"],_hoisted_69={key:0,class:"mt-2 text-xs text-yellow-600 dark:text-yellow-400"},_hoisted_70={key:1,class:"p-4"},_hoisted_71={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},_hoisted_72={class:"flex items-center justify-between mb-3"},_hoisted_73={class:"flex items-center gap-2"},_hoisted_74={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200"},_hoisted_75={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},_hoisted_76={class:"space-y-2 max-h-32 overflow-y-auto"},_hoisted_77={class:"flex-1"},_hoisted_78={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_79={class:"flex items-center space-x-1 ml-2"},_hoisted_80=["onClick"],_hoisted_81=["onClick"],_hoisted_82={key:0,class:"mt-2 text-xs text-blue-600 dark:text-blue-400"},_hoisted_83={class:"p-4"},_hoisted_84={class:"p-4"},_hoisted_85={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},_hoisted_86=["value"],_hoisted_87=["value"],_hoisted_88={key:0,class:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},_hoisted_89={class:"flex flex-wrap gap-2"},_hoisted_90={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},_hoisted_91={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},_hoisted_92={key:2,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},_hoisted_93={key:3,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},_hoisted_94={class:"mt-4 flex justify-between items-center"},_hoisted_95={class:"flex gap-2"},_hoisted_96=["disabled"],_hoisted_97={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_98={class:"mt-4 p-4 bg-gray-50 dark:bg-secondary-700 rounded-lg"},_hoisted_99={class:"flex gap-3"},_hoisted_100={key:0,class:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg"},_hoisted_101={class:"text-sm text-green-800 dark:text-green-200"},_hoisted_102={key:0,class:"ml-2 text-green-600 dark:text-green-300"},_hoisted_103={class:"mt-4 flex flex-wrap gap-3"},_hoisted_104=["disabled"],_hoisted_105={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_106={key:1,class:"animate-spin w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_107=["disabled"],_hoisted_108={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_109={key:1,class:"animate-spin w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_110={key:0,class:"mb-8"},_hoisted_111={class:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-gray-200 dark:border-secondary-700 overflow-hidden"},_hoisted_112={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-6 py-4 border-b border-gray-200 dark:border-secondary-700"},_hoisted_113={class:"flex items-center justify-between"},_hoisted_114={class:"flex items-center gap-3"},_hoisted_115={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_116={class:"p-8"},_hoisted_117={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"},_hoisted_118=["onClick"],_hoisted_119={class:"relative aspect-square overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-secondary-700 dark:to-secondary-600"},_hoisted_120=["src","alt"],_hoisted_121={class:"absolute top-3 right-3"},_hoisted_122={class:"flex flex-col gap-2"},_hoisted_123={class:"relative"},_hoisted_124={class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_125=["d"],_hoisted_126={class:"absolute bottom-3 left-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0"},_hoisted_127={class:"flex gap-2"},_hoisted_128=["onClick"],_hoisted_129=["onClick"],_hoisted_130={class:"p-6 space-y-4"},_hoisted_131={class:"flex items-center justify-between"},_hoisted_132={class:"inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-full border border-blue-200/50 dark:border-blue-800/50"},_hoisted_133={class:"text-xs font-semibold text-blue-700 dark:text-blue-300 uppercase tracking-wide"},_hoisted_134={key:0,class:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full"},_hoisted_135={class:"text-lg font-bold text-gray-900 dark:text-white line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors leading-tight"},_hoisted_136={class:"flex items-center justify-between"},_hoisted_137={class:"flex items-center gap-2"},_hoisted_138={class:"flex items-center gap-1"},_hoisted_139={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},_hoisted_140={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_141={class:"text-xs text-gray-400 dark:text-gray-500 font-mono bg-gray-100 dark:bg-secondary-700 px-2 py-1 rounded"},_hoisted_142={class:"bg-gradient-to-r from-gray-50 to-blue-50 dark:from-secondary-700 dark:to-blue-900/20 rounded-xl p-4 border border-gray-200/50 dark:border-secondary-600/50"},_hoisted_143={class:"flex items-center justify-between mb-3"},_hoisted_144={class:"flex flex-col"},_hoisted_145={class:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"},_hoisted_146={key:0,class:"flex items-center text-sm mt-1"},_hoisted_147={key:0,class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_148={key:1,class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_149={class:"flex flex-col items-end space-y-2"},_hoisted_150={class:"flex items-center gap-2"},_hoisted_151={class:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full"},_hoisted_152=["onClick","title"],_hoisted_153={class:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},_hoisted_154={class:"space-y-3"},_hoisted_155=["onClick","disabled"],_hoisted_156=["onClick","disabled","title"],_hoisted_157={key:0,class:"text-center py-12"},_hoisted_158={key:1,class:"mb-12"},_hoisted_159={class:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-gray-200 dark:border-secondary-700 overflow-hidden"},_hoisted_160={class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 px-6 py-4 border-b border-gray-200 dark:border-secondary-700"},_hoisted_161={class:"flex items-center justify-between"},_hoisted_162={class:"flex items-center gap-3"},_hoisted_163={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_164={class:"p-6"},_hoisted_165={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},_hoisted_166=["onClick"],_hoisted_167={class:"relative"},_hoisted_168={class:"absolute top-2 left-2 z-10"},_hoisted_169={class:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-secondary-700"},_hoisted_170=["src","alt"],_hoisted_171={class:"absolute top-2 right-2"},_hoisted_172={class:"px-2 py-1 text-xs font-medium rounded-full shadow-sm bg-white/90 dark:bg-secondary-800/90 text-gray-700 dark:text-gray-300"},_hoisted_173={key:0,class:"absolute bottom-2 right-2"},_hoisted_174={class:"p-4 space-y-3"},_hoisted_175={class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide"},_hoisted_176={class:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},_hoisted_177={class:"flex items-center justify-between"},_hoisted_178={class:"flex items-center gap-1"},_hoisted_179={class:"text-xs text-gray-600 dark:text-gray-400"},_hoisted_180={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_181={class:"flex items-center justify-between"},_hoisted_182={class:"text-lg font-bold text-primary-600 dark:text-primary-400"},_hoisted_183={class:"text-right"},_hoisted_184={key:0,class:"text-xs text-blue-600 dark:text-blue-400 font-medium"},_hoisted_185={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_186={key:2,class:"text-xs text-green-600 dark:text-green-400"},_hoisted_187={class:"space-y-2"},_hoisted_188={key:0,class:"w-full bg-gray-200 dark:bg-secondary-700 rounded-full h-1.5"},_hoisted_189=["onClick","disabled"],_hoisted_190={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_191={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_192=["onClick"],_hoisted_193={key:2,class:"mb-12"},_hoisted_194={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 mb-6"},_hoisted_195={class:"flex items-center justify-between mb-4"},_hoisted_196={class:"flex items-center gap-3"},_hoisted_197={class:"w-12 h-12 bg-white dark:bg-secondary-800 rounded-xl flex items-center justify-center shadow-lg"},_hoisted_198={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_199={class:"text-xl font-bold text-secondary-900 dark:text-white"},_hoisted_200={class:"text-sm text-secondary-600 dark:text-secondary-400"},_hoisted_201={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},_hoisted_202={class:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 dark:from-secondary-700 dark:to-secondary-800"},_hoisted_203={class:"aspect-w-16 aspect-h-12 relative"},_hoisted_204=["src","alt"],_hoisted_205={class:"absolute top-3 left-3 bg-blue-500 text-white px-2 py-1 rounded-lg text-xs font-bold shadow-md"},_hoisted_206={class:"absolute bottom-3 right-3"},_hoisted_207={class:"p-4 space-y-3"},_hoisted_208={class:"flex items-center gap-2 mb-2"},_hoisted_209={class:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-full"},_hoisted_210={class:"text-lg font-bold text-secondary-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2"},_hoisted_211={class:"text-secondary-600 dark:text-secondary-400 text-sm line-clamp-2"},_hoisted_212={class:"flex items-center justify-between"},_hoisted_213={class:"flex items-center gap-1"},_hoisted_214={class:"flex text-yellow-400"},_hoisted_215={class:"text-xs font-medium text-secondary-600 dark:text-secondary-400"},_hoisted_216={class:"text-right"},_hoisted_217={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_218={class:"flex gap-2"},_hoisted_219=["onClick"],_hoisted_220=["onClick"],_hoisted_221=["onClick"],_hoisted_222={key:0,class:"text-center mt-6"},_hoisted_223={class:"btn-secondary border-blue-600 text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-lg font-medium"},_hoisted_224={key:3,class:"mb-12"},_hoisted_225={class:"text-center mb-8"},_hoisted_226={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 mb-6"},_hoisted_227={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_hoisted_228={class:"text-center"},_hoisted_229={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_hoisted_230={class:"text-center"},_hoisted_231={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_hoisted_232={class:"text-center"},_hoisted_233={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},_hoisted_234={class:"text-center"},_hoisted_235={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},_hoisted_236={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg border border-gray-200 dark:border-secondary-700 p-6 mb-8"},_hoisted_237={class:"flex items-center justify-between mb-6"},_hoisted_238={class:"flex items-center space-x-2"},_hoisted_239={class:"relative"},_hoisted_240={key:0,class:"h-full flex items-end justify-between space-x-2"},_hoisted_241={class:"w-full flex flex-col items-center justify-end h-64"},_hoisted_242=["title"],_hoisted_243={class:"absolute -top-8 left-1/2 transform -translate-x-1/2 text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap"},_hoisted_244={key:0,class:"absolute -top-12 left-1/2 transform -translate-x-1/2"},_hoisted_245={key:0,class:"px-2 py-1 text-xs font-bold bg-green-500 text-white rounded-full"},_hoisted_246={key:1,class:"px-2 py-1 text-xs font-bold bg-blue-500 text-white rounded-full"},_hoisted_247={key:2,class:"px-2 py-1 text-xs font-bold bg-yellow-500 text-white rounded-full"},_hoisted_248={class:"mt-2 text-center"},_hoisted_249={class:"text-xs font-medium text-gray-900 dark:text-white truncate max-w-20"},_hoisted_250={class:"text-xs text-gray-500 dark:text-gray-400"},_hoisted_251={key:1,class:"h-full relative"},_hoisted_252={class:"w-full h-full",viewBox:"0 0 800 300"},_hoisted_253={class:"text-xs fill-gray-600 dark:fill-gray-400"},_hoisted_254={x:"10",y:"20","text-anchor":"start"},_hoisted_255={x:"10",y:"80","text-anchor":"start"},_hoisted_256={x:"10",y:"140","text-anchor":"start"},_hoisted_257={x:"10",y:"200","text-anchor":"start"},_hoisted_258=["points"],_hoisted_259=["cx","cy","fill","title"],_hoisted_260=["x","y"],_hoisted_261=["x"],_hoisted_262={key:2,class:"h-full relative"},_hoisted_263={class:"h-full flex flex-col"},_hoisted_264={class:"flex-1 relative"},_hoisted_265={class:"w-full h-full",viewBox:"0 0 800 200"},_hoisted_266={class:"text-xs fill-gray-600 dark:fill-gray-400"},_hoisted_267={x:"10",y:"15","text-anchor":"start"},_hoisted_268={x:"10",y:"60","text-anchor":"start"},_hoisted_269={x:"10",y:"105","text-anchor":"start"},_hoisted_270={x:"10",y:"150","text-anchor":"start"},_hoisted_271=["points","stroke"],_hoisted_272=["cy","fill"],_hoisted_273={class:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_274={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},_hoisted_275={class:"text-sm font-semibold text-gray-900 dark:text-white"},_hoisted_276={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},_hoisted_277={class:"p-6 border-b border-gray-200 dark:border-secondary-700"},_hoisted_278={class:"flex items-center justify-between mb-4"},_hoisted_279={class:"flex items-center"},_hoisted_280={class:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mr-4"},_hoisted_281={class:"text-lg font-bold text-white"},_hoisted_282={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_283={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_284={class:"flex flex-col space-y-1"},_hoisted_285={key:0,class:"px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 rounded-full"},_hoisted_286={key:1,class:"px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full"},_hoisted_287={key:2,class:"px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300 rounded-full"},_hoisted_288={class:"mb-4"},_hoisted_289={class:"text-base font-medium text-gray-900 dark:text-white mb-1"},_hoisted_290={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_291={class:"p-6"},_hoisted_292={class:"mb-6"},_hoisted_293={class:"flex items-center justify-between mb-2"},_hoisted_294={key:0,class:"text-sm text-green-600 dark:text-green-400 font-medium"},_hoisted_295={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1"},_hoisted_296={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_297={class:"grid grid-cols-2 gap-4 mb-6"},_hoisted_298={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_299={class:"flex items-center"},_hoisted_300={class:"flex text-yellow-400 mr-1"},_hoisted_301={class:"text-sm text-gray-600 dark:text-gray-400"},_hoisted_302={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_303={key:0,class:"mb-6"},_hoisted_304={class:"flex flex-wrap gap-1"},_hoisted_305={class:"flex space-x-3"},_hoisted_306=["onClick","disabled"],_hoisted_307=["onClick"],_hoisted_308={class:"sticky top-0 bg-white dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700 px-6 py-4 rounded-t-2xl"},_hoisted_309={class:"flex items-center justify-between"},_hoisted_310={class:"text-2xl font-bold text-secondary-900 dark:text-white"},_hoisted_311={class:"flex items-center space-x-3"},_hoisted_312=["disabled","title"],_hoisted_313={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_hoisted_314={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_315={key:2,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_316={key:0,class:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},_hoisted_317={class:"flex items-start"},_hoisted_318={class:"text-sm text-red-700 dark:text-red-300 space-y-1"},_hoisted_319={class:"font-medium mr-2"},_hoisted_320={class:"p-6"},_hoisted_321={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_hoisted_322={class:"relative"},_hoisted_323=["src","alt"],_hoisted_324={class:"absolute bottom-6 left-1/2 transform -translate-x-1/2"},_hoisted_325=["disabled","title"],_hoisted_326={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_hoisted_327={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_328={key:2,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_329={class:"space-y-6"},_hoisted_330={class:"text-secondary-600 dark:text-secondary-400"},_hoisted_331={class:"mt-6"},_hoisted_332=["disabled","title"],_hoisted_333={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_hoisted_334={key:1,class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_335={key:2,class:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_336={class:"text-lg"},_hoisted_337={class:"mt-3 text-center"},_hoisted_338={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},_hoisted_339={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},_hoisted_340={class:"grid grid-cols-2 gap-4"},_hoisted_341={class:"font-medium"},_hoisted_342={class:"font-medium"},_hoisted_343={class:"font-medium"},_hoisted_344={class:"font-medium"},_hoisted_345={class:"grid grid-cols-2 gap-4"},_hoisted_346={class:"font-medium"},_hoisted_347={class:"font-medium"},_hoisted_348={class:"font-medium"},_hoisted_349={class:"font-medium"},_hoisted_350={class:"space-y-2"},_hoisted_351={class:"font-medium"},_hoisted_352={class:"font-medium"},_hoisted_353={class:"mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700"},_hoisted_354={class:"flex items-center justify-between"},_hoisted_355={class:"text-3xl font-bold text-primary-600 dark:text-primary-400"},_hoisted_356={class:"text-sm text-secondary-500 dark:text-secondary-400"},_hoisted_357={class:"flex space-x-4"},_hoisted_358=["disabled","title"],_hoisted_359={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_hoisted_360={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_361={key:2,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_362={key:0,class:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-center"},_hoisted_363={class:"mt-16 bg-gradient-to-r from-primary-600 via-primary-700 to-secondary-600 rounded-3xl p-8 text-white"},_hoisted_364={class:"max-w-4xl mx-auto text-center"},_hoisted_365={class:"flex flex-col sm:flex-row gap-4 justify-center"},_hoisted_366={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},_hoisted_367={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},_hoisted_368={class:"inline-block align-bottom bg-white dark:bg-secondary-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},_hoisted_369={class:"bg-white dark:bg-secondary-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_hoisted_370={class:"sm:flex sm:items-start"},_hoisted_371={class:"flex-shrink-0 sm:w-1/2"},_hoisted_372={class:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-secondary-700 rounded-lg"},_hoisted_373=["src","alt"],_hoisted_374={class:"absolute top-4 right-4"},_hoisted_375={key:0,class:"absolute bottom-4 left-4"},_hoisted_376={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left sm:w-1/2"},_hoisted_377={class:"text-sm text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"},_hoisted_378={class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"},_hoisted_379={class:"flex items-center justify-center sm:justify-start gap-2 mb-4"},_hoisted_380={class:"flex items-center gap-1"},_hoisted_381={class:"text-lg font-medium text-gray-900 dark:text-white"},_hoisted_382={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_383={class:"mb-6"},_hoisted_384={class:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2"},_hoisted_385={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_386={class:"mb-6"},_hoisted_387={class:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed"},_hoisted_388={key:0,class:"mb-6"},_hoisted_389={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},_hoisted_390={class:"flex gap-3"},_hoisted_391=["disabled"],_hoisted_392={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_393={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_394={key:1,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},_hoisted_395={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},_hoisted_396={class:"inline-block align-bottom bg-white dark:bg-secondary-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full"},_hoisted_397={class:"bg-white dark:bg-secondary-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_hoisted_398={class:"overflow-x-auto"},_hoisted_399={class:"min-w-full divide-y divide-gray-200 dark:divide-secondary-700"},_hoisted_400={class:"bg-gray-50 dark:bg-secondary-700"},_hoisted_401={class:"flex flex-col items-center"},_hoisted_402=["src","alt"],_hoisted_403={class:"text-sm font-medium text-gray-900 dark:text-white"},_hoisted_404=["onClick"],_hoisted_405={class:"bg-white dark:bg-secondary-800 divide-y divide-gray-200 dark:divide-secondary-700"},_hoisted_406={class:"font-bold text-primary-600 dark:text-primary-400"},_hoisted_407={class:"flex items-center justify-center gap-1"},_hoisted_408={class:"flex flex-col gap-2"},_hoisted_409=["onClick"],_hoisted_410=["onClick","disabled"],_sfc_main={__name:"CarParts",setup(e){const{user:t,isAuthenticated:a,logout:r,checkAuth:o}=useAuth(),{cartPreferences:s,setCartPreferences:i,autoSave:l,notifications:n,quantityLimit:d}=useUserPreferences(),{createOrder:c,loadOrders:u,loadOrderStatistics:p}=useOrders(),{isInWishlist:h,toggleWishlist:_,loadWishlist:m}=useWishlist(),{compareList:g,addToCompare:y,removeFromCompare:v,isInCompare:f,clearCompareList:x,maxCompareItems:k}=useCompare(),{loadSuggestions:b,loadPopularSearches:B,saveSearch:w,searchWithDebounce:N,showSuggestions:V,hideSuggestions:$,suggestions:S,popularSearches:C,recentSearches:M,isLoading:D,isVisible:P}=useSearchSuggestions(),{recordSearch:A}=useSearchHistory(),{saveCurrentSearch:E,isSearchSaved:j}=useSavedSearches(),{isConnected:I,stockAlerts:T,lastUpdate:L,getPartStock:O,getStockLevel:z,getStockColor:F,getStockText:R,dismissAlert:q,clearOldAlerts:H,lowStockThreshold:U,criticalStockThreshold:W}=useRealTimeStock(),{priceAlerts:J,activePriceAlerts:G,createPriceAlert:Y,removePriceAlert:Q,updatePartPrice:Z,getPriceTrend:K,markAlertAsRead:X,unreadAlerts:ee,ALERT_TYPES:te}=usePriceAlerts(),{showSuccess:ae,showWarning:re,showError:oe,showInfo:se,showStockAlert:ie}=useNotifications(),{requestNotificationPermission:le}=usePWA();useOffline();const ne=ref([]),de=ref(""),ce=ref(""),ue=ref(""),pe=ref(""),he=ref(0),_e=ref("name"),me=ref([]),ge=ref(null),ye=ref("");ref(!1);const ve=ref({});ref(null);const fe=ref(!1),xe=ref(!0),ke=ref([]),be=ref(!1),Be=ref("bar"),we=ref(null),Ne=ref(null),Ve=ref(!1),$e=ref([]),Se=ref(!1),Ce=ref(!1),Me=ref({}),De=ref([]),Pe=ref(0),Ae=ref([]),Ee=ref(!1),je=ref(!1),Ie=ref(!1),Te=ref([]),Le=ref(0),Oe=ref(0),ze=ref(!1),Fe=ref(!1),Re=ref(!1),qe=ref(!1),He=ref(!1),Ue=ref(!1),We=ref(!1),Je=ref(!1),Ge=ref(!1),Ye=()=>{De.value.length},Qe=e=>{Be.value=e,Ye()};watch(De,e=>{e&&e.length>0&&Ye()},{deep:!0}),watch(a,(e,t)=>{e&&!t?lt():!e&&t&&(Te.value=[],rt())});const Ze=(e,t)=>{const a=[],r=e.total_price,o=t%3==0?1:t%3==1?-1:0;for(let s=0;s<30;s++){const e=30-s,t=e/30,i=r*(1+.1*(Math.random()-.5)+o*t*.05);a.push({day:e,price:Math.max(i,.8*r)})}return a},Ke=e=>{const t=De.value.findIndex(t=>t.id===e.id);return t%3==0?"up":t%3==1?"down":"stable"},Xe=e=>{const t=Ke(e),a=15*Math.random()+5;return"up"===t?`+${a.toFixed(1)}`:"down"===t?`-${a.toFixed(1)}`:`${(3*Math.random()).toFixed(1)}`},et=(e,t=1)=>__async(null,null,function*(){var a,r;try{Fe.value=!0;const o=null!=(r=null==(a=O(e.id))?void 0:a.stock_quantity)?r:e.stock_quantity;if(o<=0)return void oe("Out of Stock","This item is currently out of stock");const s=d.value,i=Te.value.find(t=>t.id===e.id),l=i?i.quantity:0,c=l+t;if(c>o)return void re("Stock Limit",`Cannot add more items. Only ${o} available`);if(c>s)return void(n.value&&alert(`Maximum quantity limit is ${s} items per part. Current: ${l}, Trying to add: ${t}`));if(i)i.quantity+=t,i.total_price=i.quantity*i.price;else{const a={id:e.id,name:e.name,description:e.description,price:e.price,formatted_price:e.formatted_price,image_url:e.image_url,brand:e.brand,part_number:e.part_number,quantity:t,total_price:e.price*t,source:e.source||"carwise",affiliate_url:e.affiliate_url,added_at:(new Date).toISOString()};Te.value.push(a)}rt(),st(),e.affiliate_url&&(yield wa(e)),n.value&&ae("Added to Cart",`${e.name} has been added to your cart!`)}catch(o){n.value&&oe("Cart Error","Error adding item to cart. Please try again.")}finally{Fe.value=!1}}),tt=e=>{const t=Te.value.findIndex(t=>t.id===e);t>-1&&(Te.value.splice(t,1),rt(),st())},at=(e,t)=>{const a=Te.value.find(t=>t.id===e);a&&(t<=0?tt(e):(a.quantity=t,a.total_price=a.quantity*a.price,rt(),st()))},rt=()=>{Le.value=Te.value.reduce((e,t)=>e+t.quantity,0),Oe.value=Te.value.reduce((e,t)=>e+t.total_price,0)},ot=()=>{Te.value=[],rt(),nt()},st=()=>{try{if(!l.value)return;const e=a.value?`carwise_cart_${t.value.id}`:"carwise_cart_guest",r=a.value?`carwise_cart_count_${t.value.id}`:"carwise_cart_count_guest",o=a.value?`carwise_cart_total_${t.value.id}`:"carwise_cart_total_guest",s=a.value?`carwise_cart_timestamp_${t.value.id}`:"carwise_cart_timestamp_guest";localStorage.setItem(e,JSON.stringify(Te.value)),localStorage.setItem(r,Le.value.toString()),localStorage.setItem(o,Oe.value.toString()),localStorage.setItem(s,(new Date).toISOString())}catch(e){}},it=()=>{ze.value=!ze.value},lt=()=>{if(a.value&&t.value)try{const e=localStorage.getItem("carwise_cart_guest");if(!e)return;const a=`carwise_cart_${t.value.id}`,r=localStorage.getItem(a);if(r){const t=JSON.parse(e),a=[...JSON.parse(r)];t.forEach(e=>{const t=a.find(t=>t.id===e.id);t?(t.quantity+=e.quantity,t.total_price=t.price*t.quantity):a.push(e)}),Te.value=a,rt(),st()}else Te.value=JSON.parse(e),rt(),st();localStorage.removeItem("carwise_cart_guest"),localStorage.removeItem("carwise_cart_count_guest"),localStorage.removeItem("carwise_cart_total_guest"),localStorage.removeItem("carwise_cart_timestamp_guest")}catch(e){}},nt=()=>{try{const e=a.value?`carwise_cart_${t.value.id}`:"carwise_cart_guest",r=a.value?`carwise_cart_count_${t.value.id}`:"carwise_cart_count_guest",o=a.value?`carwise_cart_total_${t.value.id}`:"carwise_cart_total_guest",s=a.value?`carwise_cart_timestamp_${t.value.id}`:"carwise_cart_timestamp_guest";localStorage.removeItem(e),localStorage.removeItem(r),localStorage.removeItem(o),localStorage.removeItem(s)}catch(e){}},dt=()=>{0!==Te.value.length?(ze.value=!1,Re.value=!0):alert("Your cart is empty!")},ct=()=>{Re.value=!1},ut=e=>__async(null,null,function*(){try{const t=yield c({items:Te.value,customer_info:e.customer,shipping_address:e.shipping,payment_method:e.paymentMethod,currency:"USD",notes:e.notes||""});if(!t)throw new Error("Failed to create order");n.value&&alert(`Order ${t.order_number} created successfully! Total: $${t.total_amount.toFixed(2)}`),ot(),ct(),yield u(),yield p()}catch(t){n.value&&alert("Error creating order. Please try again.")}}),pt=()=>{window.location.href="/login"},ht=()=>__async(null,null,function*(){try{yield r()}catch(e){}}),_t=()=>{qe.value=!0},mt=()=>{qe.value=!1},gt=e=>__async(null,null,function*(){try{(yield i(e))?n.value&&alert("Preferences saved successfully!"):n.value&&alert("Failed to save preferences. Please try again.")}catch(t){n.value&&alert("Error saving preferences. Please try again.")}}),yt=()=>{He.value=!0},vt=()=>{He.value=!1},ft=e=>{alert(`Viewing order ${e.order_number}`)},xt=e=>{n.value&&alert(`Order ${e.order_number} has been cancelled`)},kt=e=>{e.tracking_number?alert(`Tracking number: ${e.tracking_number}`):alert("No tracking number available for this order")},bt=()=>{Ue.value=!0},Bt=()=>{Ue.value=!1},wt=e=>__async(null,null,function*(){try{yield et(e,1),n.value&&alert(`${e.name} added to cart from wishlist!`)}catch(t){}}),Nt=e=>{alert(`Edit item: ${e.part_name}`)},Vt=e=>{n.value&&alert(`${e.part_name} removed from wishlist`)},$t=e=>{const t=e.target.value;de.value=t,t.length>=2?N(t,e=>__async(null,null,function*(){yield b(e),V()})):$()},St=()=>{de.value.length>=2?V():0===S.value.length&&(B(),V())},Ct=()=>{setTimeout(()=>{$()},200)},Mt=e=>{"Escape"===e.key?$():"Enter"===e.key&&($(),ha())},Dt=e=>{de.value=e,$(),w(e),ha()},Pt=()=>{},At=()=>{We.value=!0},Et=()=>{We.value=!1},jt=e=>{de.value=e,$(),ha()},It=()=>{Je.value=!0},Tt=()=>{Je.value=!1},Lt=e=>{de.value=e,$(),ha()},Ot=()=>__async(null,null,function*(){if(!a.value)return void alert("Please login to save searches");if(!de.value.trim())return void alert("Please enter a search query first");const e=prompt("Enter a name for this saved search:",de.value);if(!e)return;const t={name:e,query:de.value,type:"car_parts",category:ce.value||null,filters:{manufacturer:ue.value||null,category:ce.value||null},description:`Saved search for: ${de.value}`,isPublic:!1,isFavorite:!1,tags:[],notificationEnabled:!1,notificationFrequency:"weekly",source:"web",context:"car_parts_search",additionalData:{vehicle_data:ge.value,search_method:"public_apis"}};(yield E(t))?alert("Search saved successfully!"):alert("Failed to save search. Please try again.")}),zt=computed(()=>!(!a.value||!de.value.trim())&&j(de.value,"car_parts")),Ft=()=>{Ve.value=!1,Ne.value=null,document.body.style.overflow="auto"},Rt=e=>$e.value.some(t=>t.part_id===e),qt=e=>f(e),Ht=()=>{g.value.length<2?oe("Not Enough Items","Add at least 2 items to compare"):(Se.value=!0,document.body.style.overflow="hidden")},Ut=()=>{Se.value=!1,document.body.style.overflow="auto"},Wt=()=>__async(null,null,function*(){try{(yield x())&&ae("Compare list cleared")}catch(e){oe("Error","Failed to clear compare list")}}),Jt=ref({}),Gt=ref(!0),Yt=ref([]),Qt=ref([]),Zt=ref({priceRange:{min:0,max:1e3},rating:0,brand:"",condition:"",availability:"",sortBy:"relevance",sortOrder:"desc"}),Kt=ref(!1);computed(()=>{let e=0;return(Zt.value.priceRange.min>0||Zt.value.priceRange.max<1e3)&&e++,Zt.value.rating>0&&e++,Zt.value.brand&&e++,Zt.value.condition&&e++,Zt.value.availability&&e++,e});const Xt=ref([]),ea=ref([]),ta=ref(["Air Filter","Oil Filter","Brake Pads","Spark Plugs","Battery","Alternator","Starter","Water Pump","Thermostat","Timing Belt"]),aa=e=>{Zt.value=__spreadValues({},e),sa()},ra=()=>{Zt.value={priceRange:{min:0,max:1e3},rating:0,brand:"",condition:"",availability:"",sortBy:"relevance",sortOrder:"desc"},sa()},oa=()=>{sa(),Kt.value=!1},sa=()=>{},ia=()=>{ce.value="",ue.value="",pe.value="",he.value=0,_e.value="name",ra()},la=()=>{if(!a.value)return void alert("Please login to save filters");const e=prompt("Enter a name for these filter settings:","My Car Parts Filters");if(!e)return;const t={name:e,category:ce.value,manufacturer:ue.value,priceRange:pe.value,rating:he.value,sortBy:_e.value,advancedFilters:__spreadValues({},Zt.value),createdAt:(new Date).toISOString()},r=JSON.parse(localStorage.getItem("carPartsFilters")||"[]");r.push(t),localStorage.setItem("carPartsFilters",JSON.stringify(r)),alert("Filter settings saved successfully!")},na=e=>{const{part_id:t,stock_quantity:a,change:r}=e.detail,o=Ae.value.findIndex(e=>e.id===t);-1!==o&&(Ae.value[o].stock_quantity=a),a<=W.value&&r<0?ie("Critical Stock Alert",`Only ${a} left for part ${t}!`,{partId:t,critical:!0,stock:a}):a<=U.value&&r<0?ie("Low Stock Alert",`${a} remaining for part ${t}`,{partId:t,stock:a}):r>0&&ie("Stock Replenished",`${a} available for part ${t}`,{partId:t,stock:a})},da=e=>J.value.some(t=>t.partId===e&&t.isActive),ca=e=>{const{partId:t,newPrice:a,oldPrice:r}=e.detail;Z(t,a,r)},ua=computed(()=>ce.value||ue.value||pe.value||he.value>0||null!==Zt.value.priceRange.min||null!==Zt.value.priceRange.max||null!==Zt.value.rating||Zt.value.brands.length>0||Zt.value.categories.length>0||Zt.value.conditions.length>0),pa=()=>__async(null,null,function*(){if(publicAPI.validateVIN(ye.value))try{const e=yield publicAPI.getVehicleByVIN(ye.value);e.success?(ge.value=publicAPI.formatVehicleData(e.data),de.value=ge.value.searchQuery,yield ha()):alert("Vehicle not found. Please check your VIN.")}catch(e){alert("Error looking up vehicle. Please try again.")}else alert("Please enter a valid 17-character VIN")}),ha=()=>__async(null,null,function*(){if(!de.value.trim())return;const e=Date.now();let t=!1,r=0,o=null;try{const e=yield fetch(`/api/car-parts/search?search=${encodeURIComponent(de.value)}`),a=yield e.json();if(a.success&&a.data.length>0){const e=a.data.map(e=>({id:e.id,name:e.name,description:e.description,price:parseFloat(e.price),formatted_price:e.formatted_price||`$${parseFloat(e.price).toFixed(2)}`,currency:e.currency||"USD",image_url:e.image_url||e.main_image_url||Pa(e,e.category||"general"),condition:"New",brand:e.manufacturer||e.aftermarket_brand||"Unknown",part_number:e.part_number,rating:parseFloat(e.rating||0),review_count:e.review_count||0,stock_quantity:e.stock_quantity||0,source:"carwise",affiliate_url:`/car-parts/${e.id}`,category:e.category,ai_recommended:e.is_featured||!1,shipping_cost:0,estimated_delivery:"2-3 days",seller:e.supplier_name||"CarWise",prime_eligible:!1,availability:e.in_stock?"In Stock":"Out of Stock",created_at:e.created_at}));return Ae.value=e,void(Ce.value=!0)}const o=yield publicAPI.searchAllAPIs(de.value,ge.value);if(o.success){const e=[];if(o.data.ebay&&o.data.ebay.success){const t=publicAPI.formatPartsData(o.data.ebay.data,"ebay");e.push(...t)}if(o.data.amazon&&o.data.amazon.success){const t=publicAPI.formatPartsData(o.data.amazon.data,"amazon");e.push(...t)}Ae.value=e,me.value=e,Ce.value=!0,t=!0,r=e.length}}catch(i){alert("Search failed. Please try again."),t=!1,o=i.message}finally{const l=(Date.now()-e)/1e3;yield(s={query:de.value,type:"car_parts",category:ce.value||null,filters:{manufacturer:ue.value||null,category:ce.value||null},resultsCount:r,duration:l,source:"web",context:"car_parts_search",additionalData:{vehicle_data:ge.value,search_method:"public_apis"},isSuccessful:t,errorMessage:o},__async(null,null,function*(){if(a.value)try{yield A({query:s.query,type:s.type||"car_parts",category:s.category,filters:s.filters,resultsCount:s.resultsCount||0,duration:s.duration,source:s.source||"web",context:s.context,additionalData:s.additionalData,isSuccessful:!1!==s.isSuccessful,errorMessage:s.errorMessage})}catch(i){}}))}var s}),_a=()=>{de.value="",Ae.value=[],ge.value=null,ye.value=""},ma=e=>__async(null,null,function*(){yield publicAPI.trackAffiliateClick(e.id,e.source,e),window.open(e.affiliate_url,"_blank")}),ga=e=>{if(Ne.value=e,Jt.value={},Gt.value=!0,e){const e=va();e.isValid||(Jt.value=e.errors,Gt.value=!1)}},ya=()=>{Ne.value=null,Jt.value={},Gt.value=!0},va=()=>{const e={};if(!Ne.value)return e.part="No part selected",{isValid:!1,errors:e};const t=Ne.value;return t.id&&""!==t.id||(e.id="Part ID is required"),t.name&&""!==t.name.trim()||(e.name="Part name is required"),(!t.price||isNaN(t.price)||t.price<=0)&&(e.price="Valid price is required"),!t.in_stock&&t.stock_quantity<=0&&(e.stock="Part is out of stock"),t.part_number&&""!==t.part_number.trim()||(e.part_number="Part number is required"),t.brand||t.manufacturer||(e.brand="Brand or manufacturer is required"),t.category&&""!==t.category.trim()||(e.category="Category is required"),t.image_url&&""!==t.image_url.trim()||(e.image="Part image is required"),t.description&&""!==t.description.trim()||(e.description="Part description is required"),{isValid:0===Object.keys(e).length,errors:e}};watch(Ne,e=>{if(e){const e=va();e.isValid?(Jt.value={},Gt.value=!0):(Jt.value=e.errors,Gt.value=!1)}},{deep:!0});const fa=e=>{"Escape"===e.key&&Ne.value&&ya()},xa=e=>{e.target===e.currentTarget&&ya()},ka=()=>__async(null,null,function*(){if(Ne.value&&!Ee.value){if(!(()=>{const e=va();if(!e.isValid)return Jt.value=e.errors,Gt.value=!1,!1;const t=Ne.value;return localStorage.getItem("token")?t.in_stock?(Jt.value={},Gt.value=!0,!0):(Jt.value.stock="This part is currently out of stock",Gt.value=!1,!1):(Jt.value.auth="Please log in to add items to cart",Gt.value=!1,!1)})()){const e=document.querySelector(".fixed.inset-0");return void(e&&(e.scrollTop=0))}Ee.value=!0;try{yield et(Ne.value,1),ya()}catch(e){Jt.value.api="Error adding item to cart. Please try again.",Gt.value=!1}finally{Ee.value=!1}}}),ba=()=>{const e=document.getElementById("search-section");e&&e.scrollIntoView({behavior:"smooth"})},Ba=()=>__async(null,null,function*(){try{const e=yield fetch("/api/car-parts"),t=yield e.json();t.success&&t.filters&&(Yt.value=t.filters.categories||[],Qt.value=t.filters.manufacturers||[],Xt.value=t.filters.manufacturers||[],ea.value=t.filters.categories||[])}catch(e){const t=["engine","brakes","electrical","suspension","transmission","exhaust","cooling","fuel","ignition","body","interior","exterior"],a=["BMW","Mercedes-Benz","Audi","Volkswagen","Toyota","Honda","Ford","Chevrolet","Nissan","Hyundai"];Yt.value=t,Qt.value=a,Xt.value=a,ea.value=t}}),wa=e=>__async(null,null,function*(){try{yield fetch("/api/affiliate/track-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_id:e.id,brand:e.brand,category:e.category,user_agent:navigator.userAgent,referrer:document.referrer,timestamp:(new Date).toISOString()})})}catch(t){}}),Na=()=>{De.value=[],fe.value=!1},Va=(e,t=null)=>__async(null,null,function*(){var a,r,o,s,i,l,n,d,c;try{const l=(t||["autozone","oreilly","advance","napa","rockauto","amazon","ebay"]).map(t=>__async(null,null,function*(){try{const a=yield fetch(`/api/partners/${t}/search`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:e,limit:1,sort_by:"price_asc",include_pricing:!0,include_availability:!0})}),r=yield a.json();if(r.success&&r.data&&r.data.length>0){const a=r.data[0];return{partner_id:t,partner_name:$a(t),part_name:a.name||e,part_number:a.part_number||a.sku,brand:a.brand||a.manufacturer,price:parseFloat(a.price||0),formatted_price:a.formatted_price||`$${parseFloat(a.price||0).toFixed(2)}`,currency:a.currency||"USD",shipping_cost:parseFloat(a.shipping_cost||0),formatted_shipping:a.formatted_shipping||`$${parseFloat(a.shipping_cost||0).toFixed(2)}`,total_price:parseFloat(a.price||0)+parseFloat(a.shipping_cost||0),formatted_total:`$${(parseFloat(a.price||0)+parseFloat(a.shipping_cost||0)).toFixed(2)}`,availability:a.availability||"Unknown",in_stock:a.in_stock||!1,stock_quantity:a.stock_quantity||0,rating:parseFloat(a.rating||0),review_count:a.review_count||0,affiliate_url:a.affiliate_url||a.product_url,image_url:a.image_url||a.thumbnail_url,estimated_delivery:a.estimated_delivery||"3-5 days",warranty:a.warranty||"1 year",condition:a.condition||"New",features:a.features||[],specifications:a.specifications||{},commission_rate:a.commission_rate||.05,last_updated:(new Date).toISOString()}}return null}catch(a){return null}})),n=(yield Promise.all(l)).filter(e=>null!==e);return n.length>0?(n.sort((e,t)=>e.total_price-t.total_price),n.length>0&&(n[0].is_best_price=!0,n.reduce((e,t)=>(parseInt(t.estimated_delivery)||999)<(parseInt(e.estimated_delivery)||999)?t:e).is_fastest_shipping=!0,n.reduce((e,t)=>t.rating>e.rating?t:e).is_highest_rated=!0),De.value=n,fe.value=!0,{success:!0,data:n,summary:{total_partners:n.length,best_price:(null==(a=n[0])?void 0:a.formatted_total)||"N/A",best_partner:(null==(r=n[0])?void 0:r.partner_name)||"N/A",price_range:n.length>1?`${null==(o=n[0])?void 0:o.formatted_total} - ${null==(s=n[n.length-1])?void 0:s.formatted_total}`:(null==(i=n[0])?void 0:i.formatted_total)||"N/A"}}):{success:!1,message:"No price comparisons available between partners"}}catch(u){const t=[{id:"comparison_autozone_1",partner_id:"autozone",partner_name:"AutoZone",part_name:e,part_number:"AZ-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:"AutoZone Premium",price:89.99,formatted_price:"$89.99",currency:"USD",shipping_cost:9.99,formatted_shipping:"$9.99",total_price:99.98,formatted_total:"$99.98",availability:"In Stock",in_stock:!0,stock_quantity:15,rating:4.5,review_count:128,affiliate_url:"https://autozone.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"2-3 days",warranty:"2 years",condition:"New",features:["OEM Quality","Easy Installation","Warranty Included"],specifications:{material:"High-grade steel",weight:"2.5 lbs",dimensions:'8" x 6" x 4"'},commission_rate:.08,is_best_price:!0,is_fastest_shipping:!0,is_highest_rated:!0,last_updated:(new Date).toISOString()},{id:"comparison_oreilly_1",partner_id:"oreilly",partner_name:"O'Reilly Auto Parts",part_name:e,part_number:"OR-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:"O'Reilly Professional",price:95.5,formatted_price:"$95.50",currency:"USD",shipping_cost:12.99,formatted_shipping:"$12.99",total_price:108.49,formatted_total:"$108.49",availability:"In Stock",in_stock:!0,stock_quantity:8,rating:4.3,review_count:89,affiliate_url:"https://oreillyauto.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"3-4 days",warranty:"1 year",condition:"New",features:["Professional Grade","Fast Shipping","Expert Support"],specifications:{material:"Premium alloy",weight:"3.2 lbs",dimensions:'9" x 7" x 5"'},commission_rate:.06,is_best_price:!1,is_fastest_shipping:!1,is_highest_rated:!1,last_updated:(new Date).toISOString()},{id:"comparison_advance_1",partner_id:"advance",partner_name:"Advance Auto Parts",part_name:e,part_number:"ADV-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:"Advance Quality",price:102.75,formatted_price:"$102.75",currency:"USD",shipping_cost:8.99,formatted_shipping:"$8.99",total_price:111.74,formatted_total:"$111.74",availability:"In Stock",in_stock:!0,stock_quantity:12,rating:4.1,review_count:67,affiliate_url:"https://advanceautoparts.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"4-5 days",warranty:"1 year",condition:"New",features:["Quality Parts","Good Service","Warranty"],specifications:{material:"Standard steel",weight:"2.8 lbs",dimensions:'8.5" x 6.5" x 4.5"'},commission_rate:.07,is_best_price:!1,is_fastest_shipping:!1,is_highest_rated:!1,last_updated:(new Date).toISOString()}];return De.value=t,fe.value=!0,{success:!0,data:t,summary:{total_partners:t.length,best_price:(null==(l=t[0])?void 0:l.formatted_total)||"N/A",best_partner:(null==(n=t[0])?void 0:n.partner_name)||"N/A",price_range:`${null==(d=t[0])?void 0:d.formatted_total} - ${null==(c=t[t.length-1])?void 0:c.formatted_total}`},isMock:!0}}}),$a=e=>({autozone:"AutoZone",oreilly:"O'Reilly Auto Parts",advance:"Advance Auto Parts",napa:"NAPA Auto Parts",rockauto:"RockAuto",amazon:"Amazon Automotive",ebay:"eBay Motors",carparts:"CarParts.com",partsgeek:"PartsGeek",autopartswarehouse:"AutoPartsWarehouse"}[e]||e),Sa=()=>__async(null,null,function*(){try{const e=yield fetch("/api/partners/stats",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=yield e.json();if(t.success&&t.data){const e={total_partners:t.data.total_partners||0,active_partners:t.data.active_partners||0,total_parts:t.data.total_parts||0,parts_synced:t.data.parts_synced||0,last_sync:t.data.last_sync||null,total_commissions:t.data.total_commissions||0,monthly_commissions:t.data.monthly_commissions||0,total_clicks:t.data.total_clicks||0,total_purchases:t.data.total_purchases||0,conversion_rate:t.data.conversion_rate||0,average_commission_rate:t.data.average_commission_rate||0,top_partners:t.data.top_partners||[],partner_breakdown:t.data.partner_breakdown||{},performance_metrics:t.data.performance_metrics||{},revenue_stats:t.data.revenue_stats||{},sync_status:t.data.sync_status||{},error_count:t.data.error_count||0,success_rate:t.data.success_rate||0,last_updated:t.data.last_updated||(new Date).toISOString()};return Me.value=e,{success:!0,data:e}}return Me.value={},{success:!1,message:"No partner statistics available"}}catch(e){const t={total_partners:12,active_partners:10,total_parts:15420,parts_synced:14850,last_sync:new Date(Date.now()-72e5).toISOString(),total_commissions:2847.5,monthly_commissions:892.3,total_clicks:15420,total_purchases:1247,conversion_rate:8.1,average_commission_rate:6.5,top_partners:[{id:"autozone",name:"AutoZone",parts_count:3240,commission_rate:8,total_commissions:1247.5,clicks:3240,purchases:267,conversion_rate:8.2},{id:"oreilly",name:"O'Reilly Auto Parts",parts_count:2890,commission_rate:6,total_commissions:892.3,clicks:2890,purchases:234,conversion_rate:8.1},{id:"advance",name:"Advance Auto Parts",parts_count:2670,commission_rate:7,total_commissions:707.7,clicks:2670,purchases:198,conversion_rate:7.4}],partner_breakdown:{autozone:{name:"AutoZone",status:"active",parts_count:3240,commission_rate:8,last_sync:new Date(Date.now()-36e5).toISOString(),sync_status:"success",error_count:0},oreilly:{name:"O'Reilly Auto Parts",status:"active",parts_count:2890,commission_rate:6,last_sync:new Date(Date.now()-72e5).toISOString(),sync_status:"success",error_count:0},advance:{name:"Advance Auto Parts",status:"active",parts_count:2670,commission_rate:7,last_sync:new Date(Date.now()-108e5).toISOString(),sync_status:"success",error_count:0},napa:{name:"NAPA Auto Parts",status:"active",parts_count:1890,commission_rate:5.5,last_sync:new Date(Date.now()-144e5).toISOString(),sync_status:"success",error_count:0},rockauto:{name:"RockAuto",status:"active",parts_count:1560,commission_rate:4,last_sync:new Date(Date.now()-18e6).toISOString(),sync_status:"success",error_count:0}},performance_metrics:{average_sync_time:45,sync_success_rate:98.5,api_response_time:1.2,data_freshness:2.5,error_rate:1.5,uptime:99.8},revenue_stats:{total_revenue:2847.5,monthly_revenue:892.3,weekly_revenue:223.1,daily_revenue:31.87,revenue_growth:12.5,average_order_value:45.6,top_selling_categories:[{category:"engine",revenue:1247.5,percentage:43.8},{category:"brakes",revenue:892.3,percentage:31.3},{category:"electrical",revenue:456.2,percentage:16},{category:"suspension",revenue:251.5,percentage:8.9}]},sync_status:{last_full_sync:new Date(Date.now()-72e5).toISOString(),next_scheduled_sync:new Date(Date.now()+792e5).toISOString(),sync_frequency:"daily",auto_sync_enabled:!0,sync_in_progress:!1,failed_syncs:2,successful_syncs:28},error_count:2,success_rate:98.5,last_updated:(new Date).toISOString()};return Me.value=t,{success:!0,data:t,isMock:!0}}}),Ca=e=>{Me.value&&Object.keys(Me.value).length>0&&(Me.value.last_sync=e.completed_at,Me.value.parts_synced=e.total_parts,Me.value.last_updated=(new Date).toISOString()),e.parts_updated,e.parts_added},Ma=(e,t)=>__async(null,null,function*(){try{const a=yield((e,t)=>__async(null,null,function*(){try{const a=yield fetch(`/api/partners/${e}/parts/${t}/affiliate-link`),r=yield a.json();if(r.success)return r.data.affiliate_link}catch(a){}return null}))(e,t);a&&window.open(a,"_blank")}catch(a){}}),Da=(e,t)=>__async(null,null,function*(){const a=[],r={BMW:{"228i":{air_filter:{name:"BMW 228i Air Filter",description:"Genuine BMW air filter for 228i models. Provides superior engine protection and optimal airflow.",price:45.99,brand:"BMW Genuine",part_number:"13717530364",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Genuine BMW quality","Superior filtration","Easy installation","OEM specifications"],specifications:{"Filter Type":"Paper/foam composite",Dimensions:'8.5" x 7.2" x 2.1"',"Filtration Efficiency":"99.5%","Service Interval":"15,000 miles","Compatible Years":"2014-2021"}},oil_filter:{name:"BMW 228i Oil Filter",description:"Premium oil filter designed specifically for BMW 228i engines. Ensures clean oil circulation.",price:28.5,brand:"BMW Genuine",part_number:"11427566409",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Genuine BMW quality","Superior filtration","Anti-drain back valve","Heavy-duty construction"],specifications:{"Filter Type":"Synthetic media","Thread Size":"M18x1.5","Filtration Efficiency":"99.9%","Service Interval":"10,000 miles","Compatible Years":"2014-2021"}}}},Toyota:{Camry:{air_filter:{name:"Toyota Camry Air Filter",description:"High-quality air filter for Toyota Camry. Provides excellent engine protection and fuel efficiency.",price:22.99,brand:"Toyota Genuine",part_number:"17801-31010",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Toyota quality","Excellent filtration","Easy installation","Fuel efficient"],specifications:{"Filter Type":"Paper composite",Dimensions:'9.5" x 8.0" x 1.5"',"Filtration Efficiency":"99.3%","Service Interval":"12,000 miles","Compatible Years":"2018-2024"}},oil_filter:{name:"Toyota Camry Oil Filter",description:"Premium oil filter for Toyota Camry engines. Ensures optimal engine performance.",price:18.75,brand:"Toyota Genuine",part_number:"04152-YZZA1",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Toyota quality","Superior filtration","Anti-drain back valve","Long service life"],specifications:{"Filter Type":"Synthetic media","Thread Size":"M20x1.5","Filtration Efficiency":"99.8%","Service Interval":"10,000 miles","Compatible Years":"2018-2024"}}}},Honda:{Civic:{air_filter:{name:"Honda Civic Air Filter",description:"Genuine Honda air filter for Civic models. Provides superior engine protection.",price:19.99,brand:"Honda Genuine",part_number:"17220-R60-A00",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Honda quality","Superior filtration","Easy installation","OEM specifications"],specifications:{"Filter Type":"Paper/foam composite",Dimensions:'8.0" x 7.5" x 1.8"',"Filtration Efficiency":"99.4%","Service Interval":"15,000 miles","Compatible Years":"2016-2024"}},oil_filter:{name:"Honda Civic Oil Filter",description:"Premium oil filter for Honda Civic engines. Ensures clean oil circulation.",price:15.5,brand:"Honda Genuine",part_number:"15400-R60-A00",image_url:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",features:["Honda quality","Superior filtration","Anti-drain back valve","Heavy-duty construction"],specifications:{"Filter Type":"Synthetic media","Thread Size":"M18x1.5","Filtration Efficiency":"99.7%","Service Interval":"10,000 miles","Compatible Years":"2016-2024"}}}}}[e],o=(a,r)=>{const o=`${e.toLowerCase()}_${t.toLowerCase()}_${r}`.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)&4294967295,0),s=Math.abs(o)%1e3;return{id:`real_${e}_${t}_${r}`,name:a.name,description:a.description,price:a.price,formatted_price:`$${a.price.toFixed(2)}`,currency:"USD",image_url:`https://picsum.photos/seed/${s}/400/400?auto=format&q=80`,condition:"New",brand:a.brand,part_number:a.part_number,rating:4.5+.4*Math.random(),review_count:Math.floor(150*Math.random())+50,stock_quantity:Math.floor(30*Math.random())+15,source:"real_parts",affiliate_url:`https://parts.${e.toLowerCase()}.com/${r}/${a.part_number}`,category:"engine",ai_recommended:!0,shipping_cost:0,estimated_delivery:"2-3 days",seller:`${e} Genuine Parts`,prime_eligible:!0,availability:"In Stock",in_stock:!0,created_at:(new Date).toISOString(),provider_id:"real_parts",provider_name:`${e} Genuine Parts`,commission_rate:8,warranty:"2 years",compatibility:[`${e} ${t}`],features:a.features,specifications:a.specifications}};if(r&&r[t]){const e=r[t];e.air_filter&&a.push(o(e.air_filter,"air_filter")),e.oil_filter&&a.push(o(e.oil_filter,"oil_filter"))}else a.push(o({name:`${e} ${t} Air Filter`,description:`High-quality air filter for ${e} ${t}. Provides excellent engine protection and optimal airflow.`,price:24.99,brand:`${e} Compatible`,part_number:`AF-${e.substring(0,3).toUpperCase()}-${t.substring(0,3).toUpperCase()}`,features:["High filtration efficiency","Easy installation","Long service life","OEM compatible"],specifications:{"Filter Type":"Paper/foam composite","Filtration Efficiency":"99.5%","Service Interval":"12,000 miles",Warranty:"2 years"}},"air_filter")),a.push(o({name:`${e} ${t} Oil Filter`,description:`Premium oil filter for ${e} ${t} engines. Ensures clean oil circulation and optimal engine protection.`,price:16.99,brand:`${e} Compatible`,part_number:`OF-${e.substring(0,3).toUpperCase()}-${t.substring(0,3).toUpperCase()}`,features:["Superior filtration","Anti-drain back valve","Heavy-duty construction","OEM compatible"],specifications:{"Filter Type":"Synthetic media","Filtration Efficiency":"99.8%","Service Interval":"10,000 miles",Warranty:"2 years"}},"oil_filter"));return a}),Pa=(e,t)=>{const a=t||"general",r=(e.name||e.part_name||"unknown").toLowerCase()+a.toLowerCase();let o=0;for(let n=0;n<r.length;n++)o=(o<<5)-o+r.charCodeAt(n)&4294967295;o=Math.abs(o)%1e3;const s={air_filter:{bmw:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",toyota:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",honda:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",mercedes:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",audi:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",ford:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",chevrolet:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",nissan:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",default:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80"},oil_filter:{bmw:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&auto=format&q=80",toyota:`https://picsum.photos/400/400?random=${o+1200}&auto=format&q=80`,honda:`https://picsum.photos/400/400?random=${o+1300}&auto=format&q=80`,mercedes:`https://picsum.photos/400/400?random=${o+1400}&auto=format&q=80`,audi:`https://picsum.photos/400/400?random=${o+1500}&auto=format&q=80`,ford:`https://picsum.photos/400/400?random=${o+1600}&auto=format&q=80`,chevrolet:`https://picsum.photos/400/400?random=${o+1700}&auto=format&q=80`,nissan:`https://picsum.photos/400/400?random=${o+1800}&auto=format&q=80`,default:`https://picsum.photos/400/400?random=${o+1900}&auto=format&q=80`}},i=make.toLowerCase(),l=s[t]||s.air_filter;return l[i]||l.default},Aa=()=>__async(null,null,function*(){try{const t=yield fetch("/api/carapi/status"),a=yield t.json();if(a.success&&a.data.enabled){try{let e="/api/carapi/real-parts?limit=50";selectedMake.value&&selectedModel.value&&selectedYear.value&&(e+=`&make=${selectedMake.value}&model=${selectedModel.value}&year=${selectedYear.value}`);const t=yield fetch(e),a=yield t.json();if(a.success&&a.data&&a.data.length>0){const e=a.data.filter(e=>!0===e.in_stock&&e.image_url&&e.price>0);if(e.length>0)return me.value=e,void(Pe.value=e.length)}}catch(e){}const t=yield fetch("/api/carapi/makes"),a=yield t.json();if(a.success&&a.data.data){const t=["Toyota","Honda","BMW","Mercedes-Benz","Audi","Ford","Chevrolet","Nissan"],a=[];for(const r of t.slice(0,3))try{const e=yield fetch(`/api/carapi/models?make=${r}`),t=yield e.json();if(t.success&&t.data.data){const e=t.data.data.slice(0,2);for(const t of e){const e=yield Da(r,t.name);a.push(...e)}}}catch(e){}if(a.length>0)return me.value=a,Ae.value=a,void(Pe.value=a.length)}}const r=yield fetch("/api/licensed-parts/popular?limit=50"),o=yield r.json();if(o.success&&o.data){const e=[];if(Object.entries(o.data).forEach(([t,a])=>{if(a.parts&&a.parts.length>0){const r=a.parts.map(e=>({id:e.id||`${t}_${e.part_number}`,name:e.name||e.title,description:e.description||e.short_description,price:parseFloat(e.price||0),formatted_price:e.formatted_price||`$${parseFloat(e.price||0).toFixed(2)}`,currency:e.currency||"USD",image_url:e.image_url||e.thumbnail_url||Pa(e,e.category||"general"),condition:e.condition||"New",brand:e.brand||e.manufacturer||a.provider.name,part_number:e.part_number||e.sku,rating:parseFloat(e.rating||0),review_count:e.review_count||0,stock_quantity:e.stock_quantity||0,source:t,affiliate_url:e.affiliate_url||e.product_url||"#",category:e.category||"general",ai_recommended:e.ai_recommended||!1,shipping_cost:parseFloat(e.shipping_cost||0),estimated_delivery:e.estimated_delivery||"3-5 days",seller:e.seller_name||a.provider.name,prime_eligible:e.prime_eligible||!1,availability:e.in_stock?"In Stock":"Out of Stock",in_stock:e.in_stock||!1,created_at:e.created_at||(new Date).toISOString(),provider_id:t,provider_name:a.provider.name,commission_rate:a.provider.commission_rate,warranty:e.warranty||"1 year",compatibility:e.compatibility||[],features:e.features||[],specifications:e.specifications||{}}));e.push(...r)}}),e.length>0)return me.value=e,Ae.value=e,void(Pe.value=e.length)}const s=yield fetch("/api/car-parts"),i=yield s.json();if(i.success){const e=i.data.map(e=>({id:e.id,name:e.name,description:e.description,price:parseFloat(e.price),formatted_price:e.formatted_price||`$${parseFloat(e.price).toFixed(2)}`,currency:e.currency||"USD",image_url:e.image_url||e.main_image_url||Pa(e,e.category||"general"),condition:"New",brand:e.manufacturer||e.aftermarket_brand||"Unknown",part_number:e.part_number,rating:parseFloat(e.rating||0),review_count:e.review_count||0,stock_quantity:e.stock_quantity||0,source:"carwise",affiliate_url:`/car-parts/${e.id}`,category:e.category,ai_recommended:e.is_featured||!1,shipping_cost:0,estimated_delivery:"2-3 days",seller:e.supplier_name||"CarWise",prime_eligible:!1,availability:e.in_stock?"In Stock":"Out of Stock",created_at:e.created_at}));Ae.value=e,Pe.value=e.length,Ea()}}catch(e){Ea()}}),Ea=()=>{me.value=[{id:"ebay-123456",name:"Bosch Premium Air Filter for BMW 3 Series 2012-2018",description:"High-quality air filter with superior filtration performance",price:18.5,formatted_price:"$18.50",currency:"USD",image_url:Pa(part,part.category||"general"),condition:"New",brand:"Bosch",part_number:"F026400123",rating:4.3,review_count:89,stock_quantity:15,source:"ebay",affiliate_url:"https://ebay.com/itm/123456",category:"engine",ai_recommended:!0,shipping_cost:0,estimated_delivery:"2-3 days",seller:"AutoPartsPro",prime_eligible:!1,availability:"In Stock"},{id:"amazon-789012",name:"Optima RedTop Battery 34/78 800 CCA",description:"High-performance AGM battery with superior starting power",price:189.99,formatted_price:"$189.99",currency:"USD",image_url:Pa(part,part.category||"general"),condition:"New",brand:"Optima",part_number:"34/78",rating:4.8,review_count:234,stock_quantity:8,source:"amazon",affiliate_url:"https://amazon.com/dp/789012",category:"electrical",ai_recommended:!0,shipping_cost:0,estimated_delivery:"1 day",seller:"Amazon",prime_eligible:!0,availability:"In Stock"},{id:"ebay-345678",name:"Brembo Ceramic Brake Pads Front Set",description:"Premium ceramic brake pads for superior stopping power",price:89.99,formatted_price:"$89.99",currency:"USD",image_url:Pa(part,part.category||"general"),condition:"New",brand:"Brembo",part_number:"P85020",rating:4.6,review_count:156,stock_quantity:12,source:"ebay",affiliate_url:"https://ebay.com/itm/345678",category:"brakes",ai_recommended:!1,shipping_cost:5.99,estimated_delivery:"3-5 days",seller:"BrakeSpecialist",prime_eligible:!1,availability:"In Stock"}],Pe.value=me.value.length,Ae.value=me.value},ja=()=>__async(null,null,function*(){try{yield Aa(),yield Ba(),yield Sa(),ae("Refreshed","Data has been updated successfully!"),navigator.vibrate&&navigator.vibrate([100,50,100])}catch(e){oe("Refresh Failed","Could not refresh data. Please try again.")}}),{configure:Ia}=useTouch();useMobileLayout(),Ia({swipeThreshold:50,velocityThreshold:.3,preventScroll:!1,enablePullRefresh:!0,enableLongPress:!0}),onMounted(()=>__async(null,null,function*(){try{yield __async(null,null,function*(){try{const e=yield publicAPI.getAPIStatus();e.success&&(ve.value=e.data)}catch(e){}}),yield Ba(),yield Aa(),yield Sa()}catch(e){Ea()}__async(null,null,function*(){try{const e=[{id:1,vehicle:"2018 BMW 3 Series",issue:"Engine knocking sound",diagnosis_date:"2024-01-15",suggested_parts:["Engine Oil Filter","Spark Plugs","Air Filter"],status:"completed"},{id:2,vehicle:"2018 BMW 3 Series",issue:"Brake squeaking",diagnosis_date:"2024-01-10",suggested_parts:["Brake Pads","Brake Rotors"],status:"completed"}];ke.value=e,be.value=e.length>0}catch(e){}}),m(),yield o();try{initializeCartPreferences(),initializeOrders(),initializeWishlist(),initializeCompare()}catch(e){}(()=>{try{const e=a.value?`carwise_cart_${t.value.id}`:"carwise_cart_guest",r=a.value?`carwise_cart_timestamp_${t.value.id}`:"carwise_cart_timestamp_guest",o=localStorage.getItem(e),s=localStorage.getItem(r);if(o&&(Te.value=JSON.parse(o),rt(),s)&&Date.now()-new Date(s).getTime()>2592e6)return void ot()}catch(e){ot()}})(),(()=>{try{const e=a.value?`carwise_cart_${t.value.id}`:"carwise_cart_guest",r=a.value?`carwise_cart_timestamp_${t.value.id}`:"carwise_cart_timestamp_guest",o=a.value?`carwise_cart_count_${t.value.id}`:"carwise_cart_count_guest",s=a.value?`carwise_cart_total_${t.value.id}`:"carwise_cart_total_guest",i=localStorage.getItem(e),l=localStorage.getItem(r),n=localStorage.getItem(o),d=localStorage.getItem(s);return{hasCart:!!i,itemCount:n?parseInt(n):0,total:d?parseFloat(d):0,timestamp:l,age:l?Date.now()-new Date(l).getTime():0}}catch(e){return{hasCart:!1,itemCount:0,total:0,timestamp:null,age:0}}})(),window.addEventListener("stockUpdate",na),window.addEventListener("priceUpdate",ca),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission(),document.addEventListener("keydown",fa)})),onUnmounted(()=>{document.removeEventListener("keydown",fa),window.removeEventListener("stockUpdate",na),window.removeEventListener("priceUpdate",ca)});const Ta=()=>{ae("CarWise.ai installed successfully! You can now access it from your home screen."),"undefined"!=typeof gtag&&gtag("event","pwa_install",{event_category:"PWA",event_label:"Installation"}),le()},La=()=>{},Oa=()=>{ae("CarWise.ai updated to the latest version!"),"undefined"!=typeof gtag&&gtag("event","pwa_update",{event_category:"PWA",event_label:"Update"})},za=()=>{};return(e,r)=>{var o,i,l,d,c,u,p,m,f,x,b,B,w,N,V,$,A,E,j,U,W,Z,re,ie,le,ve,$e,Me,Fe,Ye,rt,st,lt,nt,Zt,Kt,na,ca,va;const wa=resolveComponent("router-link");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createVNode(_sfc_main$f,{count:Le.value,onToggle:it},null,8,["count"]),createBaseVNode("div",{class:normalizeClass(["fixed top-20 z-40 transition-all duration-300",{"right-20":!ze.value,"right-4 sm:right-80 md:right-96":ze.value}])},[createVNode(NotificationCenter)],2),createVNode(LiveChatWidget,{"is-cart-open":ze.value},null,8,["is-cart-open"]),createVNode(PWAInstallPrompt,{"auto-show":!0,delay:5e3,"max-dismissals":3,onInstall:Ta,onDismiss:La}),createVNode(PWAUpdateNotification,{"auto-show":!0,delay:2e3,"auto-update":!1,onUpdate:Oa,onDismiss:za}),createVNode(OfflineIndicator,{"show-panel":!0}),createVNode(PullToRefresh,{"on-refresh":ja,threshold:80,class:"min-h-screen"},{default:withCtx(()=>{var e,o,i,l,d;return[createBaseVNode("div",_hoisted_2,[createVNode(_sfc_main$e,{"is-open":ze.value,cart:Te.value,total:Oe.value,"is-authenticated":unref(a),user:unref(t),onClose:it,onUpdateQuantity:at,onRemoveItem:tt,onCheckout:dt,onClearCart:ot,onLogin:pt,onLogout:ht,onOpenPreferences:_t,onOpenPurchaseHistory:yt,onOpenWishlist:bt,onOpenSearchHistory:At,onOpenSavedSearches:It},null,8,["is-open","cart","total","is-authenticated","user"]),createVNode(_sfc_main$d,{"is-open":Re.value,cart:Te.value,"cart-total":Oe.value,onClose:ct,onOrderComplete:ut},null,8,["is-open","cart","cart-total"]),createVNode(_sfc_main$c,{"is-open":qe.value,preferences:unref(s),onClose:mt,onSave:gt},null,8,["is-open","preferences"]),createVNode(_sfc_main$b,{"is-open":He.value,onClose:vt,onViewOrder:ft,onCancelOrder:xt,onTrackOrder:kt},null,8,["is-open"]),createVNode(_sfc_main$5,{"is-open":Ue.value,onClose:Bt,onMoveToCart:wt,onEditItem:Nt,onRemoveItem:Vt},null,8,["is-open"]),createVNode(_sfc_main$3,{"is-open":We.value,onClose:Et,onRepeatSearch:jt},null,8,["is-open"]),createVNode(_sfc_main$2,{"is-open":Je.value,onClose:Tt,onExecuteSearch:Lt},null,8,["is-open"]),createBaseVNode("div",_hoisted_3,[r[31]||(r[31]=createBaseVNode("div",{class:"absolute inset-0 bg-black/20"},null,-1)),r[32]||(r[32]=createBaseVNode("div",{class:"absolute inset-0"},[createBaseVNode("div",{class:"absolute top-0 left-0 w-full h-full"},[createBaseVNode("div",{class:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full"}),createBaseVNode("div",{class:"absolute top-32 right-20 w-16 h-16 bg-white/5 rounded-full"}),createBaseVNode("div",{class:"absolute bottom-20 left-1/4 w-12 h-12 bg-white/10 rounded-full"})])],-1)),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[r[28]||(r[28]=createBaseVNode("div",{class:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full mb-8 shadow-2xl"},[createBaseVNode("svg",{class:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])],-1)),r[29]||(r[29]=createBaseVNode("h1",{class:"text-5xl md:text-6xl font-bold mb-6"}," AI-Powered Parts Discovery ",-1)),r[30]||(r[30]=createBaseVNode("p",{class:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto mb-8"}," Get personalized car parts recommendations based on your AI diagnosis. Find the exact parts you need to fix your vehicle issues. ",-1)),createBaseVNode("div",_hoisted_6,[createVNode(wa,{to:"/diagnose",class:"btn-primary bg-white text-primary-600 hover:bg-white/90 px-8 py-3 text-lg font-semibold inline-flex items-center justify-center gap-2"},{default:withCtx(()=>[...r[26]||(r[26]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),createTextVNode(" Start AI Diagnosis ",-1)])]),_:1}),createBaseVNode("button",{onClick:ba,class:"btn-secondary border-white text-white hover:bg-white hover:text-primary-600 px-8 py-3 text-lg font-semibold"}," Browse Parts "),unref(g).length>0?(openBlock(),createElementBlock("button",{key:0,onClick:Ht,class:"btn-secondary border-white text-white hover:bg-white hover:text-primary-600 px-8 py-3 text-lg font-semibold inline-flex items-center justify-center gap-2"},[r[27]||(r[27]=createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),createTextVNode(" Compare ("+toDisplayString(unref(g).length)+") ",1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("div",{class:normalizeClass(["w-2 h-2 rounded-full",unref(I)?"bg-green-400 animate-pulse":"bg-red-400"])},null,2),unref(I)?(openBlock(),createElementBlock("span",_hoisted_9,"Live Stock Updates Active")):(openBlock(),createElementBlock("span",_hoisted_10,"Stock Updates Offline")),unref(L)?(openBlock(),createElementBlock("span",_hoisted_11," (Last: "+toDisplayString(new Date(unref(L)).toLocaleTimeString())+") ",1)):createCommentVNode("",!0)])])])])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,toDisplayString(Pe.value)+"+",1),r[33]||(r[33]=createBaseVNode("div",{class:"text-secondary-600 dark:text-secondary-400"},"Available Parts",-1))]),r[34]||(r[34]=createBaseVNode("div",{class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-6 text-center"},[createBaseVNode("div",{class:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2"},"12"),createBaseVNode("div",{class:"text-secondary-600 dark:text-secondary-400"},"Categories")],-1)),r[35]||(r[35]=createBaseVNode("div",{class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-6 text-center"},[createBaseVNode("div",{class:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2"},"50+"),createBaseVNode("div",{class:"text-secondary-600 dark:text-secondary-400"},"Brands")],-1)),r[36]||(r[36]=createBaseVNode("div",{class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-6 text-center"},[createBaseVNode("div",{class:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2"},"24/7"),createBaseVNode("div",{class:"text-secondary-600 dark:text-secondary-400"},"Support")],-1))])])]),createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[r[38]||(r[38]=createBaseVNode("div",{class:"text-center mb-8"},[createBaseVNode("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4"},[createBaseVNode("svg",{class:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])]),createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-4"}," Get Personalized Parts Recommendations "),createBaseVNode("p",{class:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"}," Upload photos of your car issues or describe symptoms to get AI-powered diagnosis and exact parts recommendations. ")],-1)),r[39]||(r[39]=createBaseVNode("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[createBaseVNode("div",{class:"text-center"},[createBaseVNode("div",{class:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold"},"1"),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Upload Photos"),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Take photos of your car issues or symptoms")]),createBaseVNode("div",{class:"text-center"},[createBaseVNode("div",{class:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold"},"2"),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"AI Analysis"),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Get instant diagnosis and problem identification")]),createBaseVNode("div",{class:"text-center"},[createBaseVNode("div",{class:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold"},"3"),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Find Parts"),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Get exact parts recommendations with purchase links")])],-1)),createBaseVNode("div",_hoisted_19,[createVNode(wa,{to:"/diagnose",class:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200"},{default:withCtx(()=>[...r[37]||(r[37]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),createTextVNode(" Start AI Diagnosis Now ",-1)])]),_:1})])])]),be.value?(openBlock(),createElementBlock("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,[r[41]||(r[41]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Your Recent Diagnoses"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Find parts for your diagnosed issues")])],-1)),createVNode(wa,{to:"/diagnose",class:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium"},{default:withCtx(()=>[...r[40]||(r[40]=[createTextVNode(" View All Diagnoses  ",-1)])]),_:1})]),createBaseVNode("div",_hoisted_23,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ke.value,e=>(openBlock(),createElementBlock("div",{key:e.id,class:"border border-gray-200 dark:border-secondary-700 rounded-lg p-6 hover:shadow-md transition-shadow duration-200"},[createBaseVNode("div",_hoisted_24,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_25,toDisplayString(e.vehicle),1),createBaseVNode("p",_hoisted_26,toDisplayString(e.issue),1)]),createBaseVNode("span",_hoisted_27,toDisplayString(e.status),1)]),createBaseVNode("div",_hoisted_28,[r[42]||(r[42]=createBaseVNode("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"},"Suggested Parts:",-1)),createBaseVNode("div",_hoisted_29,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.suggested_parts,e=>(openBlock(),createElementBlock("span",{key:e,class:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full"},toDisplayString(e),1))),128))])]),createBaseVNode("div",_hoisted_30,[createBaseVNode("span",_hoisted_31,toDisplayString(e.diagnosis_date),1),createBaseVNode("button",{onClick:t=>(e=>{de.value=e.issue,ce.value="",ue.value="",ba(),ha()})(e),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors duration-200"}," Find Parts ",8,_hoisted_32)])]))),128))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33,[createBaseVNode("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,[r[48]||(r[48]=createBaseVNode("div",{class:"absolute inset-0 opacity-20",style:{"background-image":'url(\'data:image/svg+xml,%3Csvg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23e0e7ff" fill-opacity="0.3"%3E%3Cpath d="M20 20c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10zm10 0c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10z"/%3E%3C/g%3E%3C/svg%3E\')'}},null,-1)),createBaseVNode("div",_hoisted_36,[r[47]||(r[47]=createBaseVNode("div",{class:"text-center mb-6"},[createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Find Your Perfect Parts "),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"}," AI-powered search with real-time stock and compatibility checks ")],-1)),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[createBaseVNode("div",_hoisted_39,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>de.value=e),onInput:$t,onFocus:St,onBlur:Ct,onKeydown:Mt,type:"text",class:"w-full h-14 pl-16 pr-4 border-2 border-blue-200 dark:border-blue-700 rounded-2xl bg-white/80 dark:bg-secondary-700/80 backdrop-blur-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 text-lg shadow-lg",placeholder:"Search by part name, brand, or part number..."},null,544),[[vModelText,de.value]]),r[43]||(r[43]=createBaseVNode("div",{class:"absolute left-5 top-1/2 transform -translate-y-1/2"},[createBaseVNode("svg",{class:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),r[44]||(r[44]=createBaseVNode("div",{class:"absolute right-4 top-1/2 transform -translate-y-1/2"},[createBaseVNode("div",{class:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-medium"},[createBaseVNode("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),createTextVNode(" AI ")])],-1)),createVNode(_sfc_main$4,{"is-visible":unref(P),suggestions:unref(S),"popular-searches":unref(C),"recent-searches":unref(M),"is-loading":unref(D),onSelect:Dt,onClearRecent:Pt},null,8,["is-visible","suggestions","popular-searches","recent-searches","is-loading"])])]),createBaseVNode("div",_hoisted_40,[createBaseVNode("button",{onClick:ha,class:"h-14 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-2xl font-semibold transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105"},[...r[45]||(r[45]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createTextVNode(" Search ",-1)])]),unref(a)&&de.value.trim()&&!zt.value?(openBlock(),createElementBlock("button",{key:0,onClick:Ot,class:"h-14 px-6 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-2xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105",title:"Save this search"},[...r[46]||(r[46]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),createTextVNode(" Save ",-1)])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_41,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ta.value,e=>(openBlock(),createElementBlock("button",{key:e,onClick:t=>{de.value=e,ha()},class:"px-4 py-2 bg-white/60 dark:bg-secondary-700/60 hover:bg-white/80 dark:hover:bg-secondary-700/80 text-gray-700 dark:text-gray-300 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 hover:border-blue-300 dark:hover:border-blue-600"},toDisplayString(e),9,_hoisted_42))),128))])])]),createBaseVNode("div",_hoisted_43,[createBaseVNode("div",_hoisted_44,[createBaseVNode("div",_hoisted_45,[r[50]||(r[50]=createBaseVNode("div",{class:"flex items-center gap-3 mb-4"},[createBaseVNode("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),createBaseVNode("div",null,[createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"VIN Lookup"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Get vehicle-specific parts instantly")])],-1)),createBaseVNode("div",_hoisted_46,[createBaseVNode("div",_hoisted_47,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>ye.value=e),type:"text",placeholder:"Enter 17-character VIN number",class:"w-full h-12 px-4 border-2 border-blue-200 dark:border-blue-700 rounded-xl bg-white/80 dark:bg-secondary-700/80 backdrop-blur-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 font-mono tracking-wider",maxlength:"17"},null,512),[[vModelText,ye.value]]),createBaseVNode("div",_hoisted_48,[createBaseVNode("span",_hoisted_49,toDisplayString(ye.value.length)+"/17",1)])]),createBaseVNode("button",{onClick:pa,disabled:17!==ye.value.length,class:"h-12 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed"},[...r[49]||(r[49]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createTextVNode(" Lookup ",-1)])],8,_hoisted_50)])]),ge.value?(openBlock(),createElementBlock("div",_hoisted_51,[createBaseVNode("div",_hoisted_52,[r[54]||(r[54]=createBaseVNode("div",{class:"flex items-center gap-3 mb-3"},[createBaseVNode("div",{class:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),createBaseVNode("h4",{class:"font-semibold text-green-800 dark:text-green-200"},"Vehicle Found")],-1)),createBaseVNode("div",_hoisted_53,[createBaseVNode("div",_hoisted_54,toDisplayString(ge.value.displayName),1),createBaseVNode("div",_hoisted_55,[createBaseVNode("span",_hoisted_56,[r[51]||(r[51]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),createTextVNode(" "+toDisplayString(ge.value.year),1)]),createBaseVNode("span",_hoisted_57,[r[52]||(r[52]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),createTextVNode(" "+toDisplayString(ge.value.engine),1)]),createBaseVNode("span",_hoisted_58,[r[53]||(r[53]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),createTextVNode(" "+toDisplayString(ge.value.transmission),1)])])])])])):createCommentVNode("",!0)])]),unref(T).length>0?(openBlock(),createElementBlock("div",_hoisted_59,[createBaseVNode("div",_hoisted_60,[createBaseVNode("div",_hoisted_61,[createBaseVNode("div",_hoisted_62,[r[55]||(r[55]=createBaseVNode("svg",{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),r[56]||(r[56]=createBaseVNode("h3",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},"Stock Alerts",-1)),createBaseVNode("span",_hoisted_63,toDisplayString(unref(T).length),1)]),createBaseVNode("button",{onClick:r[2]||(r[2]=(...e)=>unref(H)&&unref(H)(...e)),class:"text-xs text-yellow-600 dark:text-yellow-400 hover:text-yellow-800 dark:hover:text-yellow-200"}," Clear All ")]),createBaseVNode("div",_hoisted_64,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(T).slice(0,3),e=>(openBlock(),createElementBlock("div",{key:e.id,class:"flex items-center justify-between p-2 bg-white dark:bg-secondary-800 rounded border"},[createBaseVNode("div",_hoisted_65,[createBaseVNode("p",_hoisted_66,toDisplayString(e.message),1),createBaseVNode("p",_hoisted_67,toDisplayString(e.timestamp.toLocaleTimeString()),1)]),createBaseVNode("button",{onClick:t=>unref(q)(e.id),class:"ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},[...r[57]||(r[57]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_hoisted_68)]))),128))]),unref(T).length>3?(openBlock(),createElementBlock("div",_hoisted_69," +"+toDisplayString(unref(T).length-3)+" more alerts ",1)):createCommentVNode("",!0)])])):createCommentVNode("",!0),unref(G).length>0?(openBlock(),createElementBlock("div",_hoisted_70,[createBaseVNode("div",_hoisted_71,[createBaseVNode("div",_hoisted_72,[createBaseVNode("div",_hoisted_73,[r[58]||(r[58]=createBaseVNode("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})],-1)),r[59]||(r[59]=createBaseVNode("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"},"Price Alerts",-1)),unref(ee).length>0?(openBlock(),createElementBlock("span",_hoisted_74,toDisplayString(unref(ee).length)+" new ",1)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_75,toDisplayString(unref(G).length)+" total ",1)]),createBaseVNode("button",{onClick:r[3]||(r[3]=e=>unref(G).splice(0)),class:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"}," Clear All ")]),createBaseVNode("div",_hoisted_76,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(G).slice(0,3),e=>(openBlock(),createElementBlock("div",{key:e.id,class:normalizeClass(["flex items-center justify-between p-2 rounded border",e.isRead?"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700":"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700"])},[createBaseVNode("div",_hoisted_77,[createBaseVNode("p",{class:normalizeClass([e.isRead?"text-gray-600 dark:text-gray-400":"text-blue-800 dark:text-blue-200","text-sm"])},toDisplayString(e.message),3),createBaseVNode("p",_hoisted_78,toDisplayString(new Date(e.timestamp).toLocaleString()),1)]),createBaseVNode("div",_hoisted_79,[e.isRead?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:t=>unref(X)(e.id),class:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-200",title:"Mark as read"},[...r[60]||(r[60]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,_hoisted_80)),createBaseVNode("button",{onClick:t=>unref(G).splice(unref(G).indexOf(e),1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Dismiss"},[...r[61]||(r[61]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_hoisted_81)])],2))),128))]),unref(G).length>3?(openBlock(),createElementBlock("div",_hoisted_82," +"+toDisplayString(unref(G).length-3)+" more alerts ",1)):createCommentVNode("",!0)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_83,[createVNode(_sfc_main$1,{"is-expanded":Ge.value,brands:Xt.value,categories:ea.value,"onUpdate:filters":aa,onClearFilters:ra,onApplyFilters:oa},null,8,["is-expanded","brands","categories"])]),createBaseVNode("div",_hoisted_84,[createBaseVNode("div",_hoisted_85,[createBaseVNode("div",null,[r[63]||(r[63]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Category",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[4]||(r[4]=e=>ce.value=e),onChange:sa,class:"w-full h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[r[62]||(r[62]=createBaseVNode("option",{value:""},"All Categories",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Yt.value,e=>(openBlock(),createElementBlock("option",{key:e,value:e},toDisplayString(e.charAt(0).toUpperCase()+e.slice(1)),9,_hoisted_86))),128))],544),[[vModelSelect,ce.value]])]),createBaseVNode("div",null,[r[65]||(r[65]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Brand",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[5]||(r[5]=e=>ue.value=e),onChange:sa,class:"w-full h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[r[64]||(r[64]=createBaseVNode("option",{value:""},"All Brands",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Qt.value,e=>(openBlock(),createElementBlock("option",{key:e,value:e},toDisplayString(e),9,_hoisted_87))),128))],544),[[vModelSelect,ue.value]])]),createBaseVNode("div",null,[r[67]||(r[67]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Price Range",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[6]||(r[6]=e=>pe.value=e),onChange:sa,class:"w-full h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...r[66]||(r[66]=[createBaseVNode("option",{value:""},"Any Price",-1),createBaseVNode("option",{value:"0-50"},"$0 - $50",-1),createBaseVNode("option",{value:"50-100"},"$50 - $100",-1),createBaseVNode("option",{value:"100-200"},"$100 - $200",-1),createBaseVNode("option",{value:"200-500"},"$200 - $500",-1),createBaseVNode("option",{value:"500+"},"$500+",-1)])],544),[[vModelSelect,pe.value]])]),createBaseVNode("div",null,[r[69]||(r[69]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Minimum Rating",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[7]||(r[7]=e=>he.value=e),onChange:sa,class:"w-full h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...r[68]||(r[68]=[createBaseVNode("option",{value:"0"},"Any Rating",-1),createBaseVNode("option",{value:"1"},"1+ ",-1),createBaseVNode("option",{value:"2"},"2+ ",-1),createBaseVNode("option",{value:"3"},"3+ ",-1),createBaseVNode("option",{value:"4"},"4+ ",-1),createBaseVNode("option",{value:"5"},"5 ",-1)])],544),[[vModelSelect,he.value]])]),createBaseVNode("div",null,[r[71]||(r[71]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Sort By",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[8]||(r[8]=e=>_e.value=e),onChange:sa,class:"w-full h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...r[70]||(r[70]=[createBaseVNode("option",{value:"name"},"Name",-1),createBaseVNode("option",{value:"price_low"},"Price: Low to High",-1),createBaseVNode("option",{value:"price_high"},"Price: High to Low",-1),createBaseVNode("option",{value:"rating"},"Rating",-1),createBaseVNode("option",{value:"newest"},"Newest",-1)])],544),[[vModelSelect,_e.value]])]),ua.value?(openBlock(),createElementBlock("div",_hoisted_88,[createBaseVNode("div",{class:"flex items-center justify-between mb-2"},[r[72]||(r[72]=createBaseVNode("span",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"},"Active Filters:",-1)),createBaseVNode("button",{onClick:ia,class:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"}," Clear All ")]),createBaseVNode("div",_hoisted_89,[ce.value?(openBlock(),createElementBlock("span",_hoisted_90,[createTextVNode(" Category: "+toDisplayString(ce.value)+" ",1),createBaseVNode("button",{onClick:r[9]||(r[9]=e=>{ce.value="",sa()}),class:"ml-1 text-blue-600 hover:text-blue-800"},"")])):createCommentVNode("",!0),ue.value?(openBlock(),createElementBlock("span",_hoisted_91,[createTextVNode(" Brand: "+toDisplayString(ue.value)+" ",1),createBaseVNode("button",{onClick:r[10]||(r[10]=e=>{ue.value="",sa()}),class:"ml-1 text-blue-600 hover:text-blue-800"},"")])):createCommentVNode("",!0),pe.value?(openBlock(),createElementBlock("span",_hoisted_92,[createTextVNode(" Price: $"+toDisplayString(pe.value.replace("-"," - $"))+" ",1),createBaseVNode("button",{onClick:r[11]||(r[11]=e=>{pe.value="",sa()}),class:"ml-1 text-blue-600 hover:text-blue-800"},"")])):createCommentVNode("",!0),he.value>0?(openBlock(),createElementBlock("span",_hoisted_93,[createTextVNode(" Rating: "+toDisplayString(he.value)+"+  ",1),createBaseVNode("button",{onClick:r[12]||(r[12]=e=>{he.value=0,sa()}),class:"ml-1 text-blue-600 hover:text-blue-800"},"")])):createCommentVNode("",!0)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_94,[createBaseVNode("div",_hoisted_95,[createBaseVNode("button",{onClick:ia,disabled:!ua.value,class:normalizeClass(["px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200",ua.value?"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-secondary-700 hover:bg-gray-200 dark:hover:bg-secondary-600":"text-gray-400 dark:text-gray-600 bg-gray-50 dark:bg-secondary-800 cursor-not-allowed"])}," Clear All Filters ",10,_hoisted_96),ua.value&&unref(a)?(openBlock(),createElementBlock("button",{key:0,onClick:la,class:"px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 bg-primary-50 dark:bg-primary-900/20 hover:bg-primary-100 dark:hover:bg-primary-900/30 rounded-lg transition-colors duration-200"}," Save Filters ")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_97,toDisplayString(Ae.value.length)+" "+toDisplayString(1===Ae.value.length?"part":"parts")+" found ",1)])]),createBaseVNode("div",_hoisted_98,[r[75]||(r[75]=createBaseVNode("div",{class:"flex items-center gap-3 mb-3"},[createBaseVNode("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),createBaseVNode("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Vehicle Lookup")],-1)),createBaseVNode("div",_hoisted_99,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[13]||(r[13]=e=>ye.value=e),type:"text",placeholder:"Enter 17-character VIN (e.g., 1HGBH41JXMN109186)",class:"flex-1 h-10 px-3 border border-gray-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",maxlength:"17"},null,512),[[vModelText,ye.value]]),createBaseVNode("button",{onClick:pa,class:"h-10 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors duration-200 flex items-center gap-2"},[...r[73]||(r[73]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createTextVNode(" Lookup ",-1)])])]),ge.value?(openBlock(),createElementBlock("div",_hoisted_100,[createBaseVNode("div",_hoisted_101,[r[74]||(r[74]=createBaseVNode("strong",null,"Vehicle Found:",-1)),createTextVNode(" "+toDisplayString(ge.value.displayName)+" ",1),ge.value.engine?(openBlock(),createElementBlock("span",_hoisted_102,"("+toDisplayString(ge.value.engine)+")",1)):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_103,[createBaseVNode("button",{onClick:ha,class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2"},[...r[76]||(r[76]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),createTextVNode(" Search Public APIs ",-1)])]),createBaseVNode("button",{onClick:r[14]||(r[14]=e=>((e,t=null,a=null)=>__async(null,null,function*(){var r,o,s,i,l,n,d,c,u;if(!e||""===e.trim())return null;try{Ie.value=!0;const n=yield fetch("/api/partners/compare-prices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({part_name:e.trim(),brand:t||null,part_number:a||null,category:ce.value||null,limit:20,sort_by:"price_asc",include_shipping:!0,include_tax:!1,currency:"USD",compare_all_partners:!0,include_availability:!0,include_ratings:!0,include_warranty:!0,include_features:!0})}),d=yield n.json();if(d.success&&d.data&&d.data.price_comparison){const n=d.data.price_comparison.map(r=>({id:r.id||`comparison_${r.partner_id}_${r.part_number}`,partner_id:r.partner_id,partner_name:r.partner_name,part_name:r.part_name||e,part_number:r.part_number||a,brand:r.brand||t,price:parseFloat(r.price||0),formatted_price:r.formatted_price||`$${parseFloat(r.price||0).toFixed(2)}`,currency:r.currency||"USD",shipping_cost:parseFloat(r.shipping_cost||0),formatted_shipping:r.formatted_shipping||`$${parseFloat(r.shipping_cost||0).toFixed(2)}`,total_price:parseFloat(r.total_price||r.price||0)+parseFloat(r.shipping_cost||0),formatted_total:`$${(parseFloat(r.total_price||r.price||0)+parseFloat(r.shipping_cost||0)).toFixed(2)}`,availability:r.availability||"Unknown",in_stock:r.in_stock||!1,stock_quantity:r.stock_quantity||0,rating:parseFloat(r.rating||0),review_count:r.review_count||0,affiliate_url:r.affiliate_url||r.product_url,image_url:r.image_url||r.thumbnail_url||Pa(part,part.category||"general"),estimated_delivery:r.estimated_delivery||"3-5 days",warranty:r.warranty||"1 year",condition:r.condition||"New",features:r.features||[],specifications:r.specifications||{},commission_rate:r.commission_rate||.05,savings:r.savings||0,formatted_savings:r.formatted_savings||"$0.00",is_best_price:r.is_best_price||!1,is_fastest_shipping:r.is_fastest_shipping||!1,is_highest_rated:r.is_highest_rated||!1,last_updated:r.last_updated||(new Date).toISOString()}));return n.sort((e,t)=>e.total_price-t.total_price),n.length>0&&(n[0].is_best_price=!0,n.reduce((e,t)=>(parseInt(t.estimated_delivery)||999)<(parseInt(e.estimated_delivery)||999)?t:e).is_fastest_shipping=!0,n.reduce((e,t)=>t.rating>e.rating?t:e).is_highest_rated=!0),De.value=n,fe.value=!0,n.length>0&&n[0],{success:!0,data:n,summary:{total_options:n.length,best_price:(null==(r=n[0])?void 0:r.formatted_total)||"N/A",best_partner:(null==(o=n[0])?void 0:o.partner_name)||"N/A",price_range:n.length>1?`${null==(s=n[0])?void 0:s.formatted_total} - ${null==(i=n[n.length-1])?void 0:i.formatted_total}`:(null==(l=n[0])?void 0:l.formatted_total)||"N/A"}}}return De.value=[],fe.value=!1,{success:!1,message:"No price comparisons available for this part"}}catch(p){const r=[{id:"comparison_autozone_1",partner_id:"autozone",partner_name:"AutoZone",part_name:e,part_number:a||"AZ-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:t||"Generic",price:89.99,formatted_price:"$89.99",currency:"USD",shipping_cost:9.99,formatted_shipping:"$9.99",total_price:99.98,formatted_total:"$99.98",availability:"In Stock",in_stock:!0,stock_quantity:15,rating:4.5,review_count:128,affiliate_url:"https://autozone.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"2-3 days",warranty:"2 years",condition:"New",features:["OEM Quality","Easy Installation","Warranty Included"],specifications:{material:"High-grade steel",weight:"2.5 lbs",dimensions:'8" x 6" x 4"'},commission_rate:.08,savings:15,formatted_savings:"$15.00",is_best_price:!0,is_fastest_shipping:!0,is_highest_rated:!0,last_updated:(new Date).toISOString()},{id:"comparison_oreilly_1",partner_id:"oreilly",partner_name:"O'Reilly Auto Parts",part_name:e,part_number:a||"OR-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:t||"Generic",price:95.5,formatted_price:"$95.50",currency:"USD",shipping_cost:12.99,formatted_shipping:"$12.99",total_price:108.49,formatted_total:"$108.49",availability:"In Stock",in_stock:!0,stock_quantity:8,rating:4.3,review_count:89,affiliate_url:"https://oreillyauto.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"3-4 days",warranty:"1 year",condition:"New",features:["Professional Grade","Fast Shipping","Expert Support"],specifications:{material:"Premium alloy",weight:"3.2 lbs",dimensions:'9" x 7" x 5"'},commission_rate:.06,savings:8.5,formatted_savings:"$8.50",is_best_price:!1,is_fastest_shipping:!1,is_highest_rated:!1,last_updated:(new Date).toISOString()},{id:"comparison_advance_1",partner_id:"advance",partner_name:"Advance Auto Parts",part_name:e,part_number:a||"ADV-"+Math.random().toString(36).substr(2,6).toUpperCase(),brand:t||"Generic",price:102.75,formatted_price:"$102.75",currency:"USD",shipping_cost:8.99,formatted_shipping:"$8.99",total_price:111.74,formatted_total:"$111.74",availability:"In Stock",in_stock:!0,stock_quantity:12,rating:4.1,review_count:67,affiliate_url:"https://advanceautoparts.com/parts/"+e.replace(/\s+/g,"-").toLowerCase(),image_url:Pa(part,part.category||"general"),estimated_delivery:"4-5 days",warranty:"1 year",condition:"New",features:["Quality Parts","Good Service","Warranty"],specifications:{material:"Standard steel",weight:"2.8 lbs",dimensions:'8.5" x 6.5" x 4.5"'},commission_rate:.07,savings:5.25,formatted_savings:"$5.25",is_best_price:!1,is_fastest_shipping:!1,is_highest_rated:!1,last_updated:(new Date).toISOString()}];return De.value=r,fe.value=!0,{success:!0,data:r,summary:{total_options:r.length,best_price:(null==(n=r[0])?void 0:n.formatted_total)||"N/A",best_partner:(null==(d=r[0])?void 0:d.partner_name)||"N/A",price_range:`${null==(c=r[0])?void 0:c.formatted_total} - ${null==(u=r[r.length-1])?void 0:u.formatted_total}`}}}finally{Ie.value=!1}}))(de.value,ue.value)),class:"px-4 py-2 border border-green-600 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2",disabled:!de.value.trim()||Ie.value},[Ie.value?(openBlock(),createElementBlock("svg",_hoisted_106,[...r[78]||(r[78]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_105,[...r[77]||(r[77]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])])),createTextVNode(" "+toDisplayString(Ie.value?"Comparing...":"Compare Prices"),1)],8,_hoisted_104),createBaseVNode("button",{onClick:r[15]||(r[15]=e=>{return t=de.value,__async(null,null,function*(){if(t&&""!==t.trim())try{je.value=!0;const e=yield fetch(`/api/licensed-parts/search?query=${encodeURIComponent(t.trim())}&limit=50`),a=yield e.json();if(a.success&&a.data){const e=[];if(Object.entries(a.data).forEach(([t,a])=>{if(a.parts&&a.parts.length>0){const r=a.parts.map(e=>({id:e.id||`${t}_${e.part_number}`,name:e.name||e.title,description:e.description||e.short_description,price:parseFloat(e.price||0),formatted_price:e.formatted_price||`$${parseFloat(e.price||0).toFixed(2)}`,currency:e.currency||"USD",image_url:e.image_url||e.thumbnail_url||Pa(e,e.category||"general"),condition:e.condition||"New",brand:e.brand||e.manufacturer||a.provider.name,part_number:e.part_number||e.sku,rating:parseFloat(e.rating||0),review_count:e.review_count||0,stock_quantity:e.stock_quantity||0,source:t,affiliate_url:e.affiliate_url||e.product_url||"#",category:e.category||"general",ai_recommended:e.ai_recommended||!1,shipping_cost:parseFloat(e.shipping_cost||0),estimated_delivery:e.estimated_delivery||"3-5 days",seller:e.seller_name||a.provider.name,prime_eligible:e.prime_eligible||!1,availability:e.in_stock?"In Stock":"Out of Stock",in_stock:e.in_stock||!1,created_at:e.created_at||(new Date).toISOString(),provider_id:t,provider_name:a.provider.name,commission_rate:a.provider.commission_rate,warranty:e.warranty||"1 year",compatibility:e.compatibility||[],features:e.features||[],specifications:e.specifications||{}}));e.push(...r)}}),e.length>0)return ne.value=e,Ce.value=!0,void(Ae.value=[...Ae.value,...e])}const r=yield fetch("/api/partners/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:t.trim(),category:ce.value||null,brand:ue.value||null,in_stock:!0,limit:50,sort_by:_e.value||"relevance",price_min:priceRange.value.min||null,price_max:priceRange.value.max||null})}),o=yield r.json();if(o.success&&o.data&&o.data.length>0){const e=o.data.map(e=>({id:e.id||`partner_${e.partner_id}_${e.part_number}`,name:e.name||e.part_name,description:e.description||e.short_description,price:parseFloat(e.price||0),formatted_price:e.formatted_price||`$${parseFloat(e.price||0).toFixed(2)}`,currency:e.currency||"USD",image_url:e.image_url||e.thumbnail_url||Pa(e,e.category||"general"),condition:e.condition||"New",brand:e.brand||e.manufacturer||"Unknown",part_number:e.part_number||e.sku,rating:parseFloat(e.rating||0),review_count:e.review_count||0,stock_quantity:e.stock_quantity||0,source:e.partner_name||"Partner",affiliate_url:e.affiliate_url||e.product_url,category:e.category||"general",ai_recommended:e.ai_recommended||!1,shipping_cost:parseFloat(e.shipping_cost||0),estimated_delivery:e.estimated_delivery||"3-5 days",seller:e.seller_name||e.partner_name||"Partner Store",prime_eligible:e.prime_eligible||!1,availability:e.in_stock?"In Stock":"Out of Stock",in_stock:e.in_stock||!1,created_at:e.created_at||(new Date).toISOString(),partner_id:e.partner_id,partner_name:e.partner_name,commission_rate:e.commission_rate||.05,warranty:e.warranty||"1 year",compatibility:e.compatibility||[],features:e.features||[],specifications:e.specifications||{}}));ne.value=e,Ce.value=!0,Ae.value=[...Ae.value,...e],e.length}else ne.value=[],Ce.value=!1}catch(e){const a=[{id:"partner_autozone_1",name:`${t} - AutoZone Premium`,description:`High-quality ${t} from AutoZone with warranty`,price:89.99,formatted_price:"$89.99",currency:"USD",image_url:Pa(part,part.category||"general"),condition:"New",brand:"AutoZone",part_number:"AZ-"+Math.random().toString(36).substr(2,6).toUpperCase(),rating:4.5,review_count:128,stock_quantity:15,source:"AutoZone",affiliate_url:"https://autozone.com/parts/"+t.replace(/\s+/g,"-").toLowerCase(),category:ce.value||"general",ai_recommended:!0,shipping_cost:9.99,estimated_delivery:"2-3 days",seller:"AutoZone",prime_eligible:!1,availability:"In Stock",in_stock:!0,created_at:(new Date).toISOString(),partner_id:"autozone",partner_name:"AutoZone",commission_rate:.08,warranty:"2 years",compatibility:["BMW","Mercedes","Audi"],features:["OEM Quality","Easy Installation","Warranty Included"],specifications:{material:"High-grade steel",weight:"2.5 lbs",dimensions:'8" x 6" x 4"'}},{id:"partner_oreilly_1",name:`${t} - O'Reilly Auto Parts`,description:`Professional grade ${t} from O'Reilly Auto Parts`,price:95.5,formatted_price:"$95.50",currency:"USD",image_url:Pa(part,part.category||"general"),condition:"New",brand:"O'Reilly",part_number:"OR-"+Math.random().toString(36).substr(2,6).toUpperCase(),rating:4.3,review_count:89,stock_quantity:8,source:"O'Reilly Auto Parts",affiliate_url:"https://oreillyauto.com/parts/"+t.replace(/\s+/g,"-").toLowerCase(),category:ce.value||"general",ai_recommended:!1,shipping_cost:12.99,estimated_delivery:"3-4 days",seller:"O'Reilly Auto Parts",prime_eligible:!1,availability:"In Stock",in_stock:!0,created_at:(new Date).toISOString(),partner_id:"oreilly",partner_name:"O'Reilly Auto Parts",commission_rate:.06,warranty:"1 year",compatibility:["Toyota","Honda","Nissan"],features:["Professional Grade","Fast Shipping","Expert Support"],specifications:{material:"Premium alloy",weight:"3.2 lbs",dimensions:'9" x 7" x 5"'}}];ne.value=a,Ce.value=!0,Ae.value=[...Ae.value,...a]}finally{je.value=!1}});var t}),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2",disabled:!de.value.trim()||je.value},[je.value?(openBlock(),createElementBlock("svg",_hoisted_109,[...r[80]||(r[80]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_108,[...r[79]||(r[79]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),createTextVNode(" "+toDisplayString(je.value?"Searching Partners...":"Search Partners"),1)],8,_hoisted_107),createBaseVNode("button",{onClick:r[16]||(r[16]=e=>xe.value=!xe.value),class:"px-4 py-2 border border-purple-600 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2"},[r[81]||(r[81]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),createTextVNode(" "+toDisplayString(xe.value?"Hide":"Show")+" Demo Products ",1)]),createBaseVNode("button",{onClick:r[17]||(r[17]=e=>((e=null,t=!1)=>__async(null,null,function*(){try{const a=document.querySelector("[data-sync-partners]");a&&(a.disabled=!0,a.innerHTML='<svg class="animate-spin h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Syncing...');const r={partner_id:e||null,force_sync:t,sync_type:e?"single_partner":"all_partners",include_metadata:!0,update_pricing:!0,update_availability:!0,update_inventory:!0,sync_frequency:"manual"},o=yield fetch("/api/partners/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)}),s=yield o.json();if(s.success&&s.data){const t={sync_id:s.data.sync_id||`sync_${Date.now()}`,partner_id:s.data.partner_id||e,sync_type:s.data.sync_type||"all_partners",status:s.data.status||"completed",started_at:s.data.started_at||(new Date).toISOString(),completed_at:s.data.completed_at||(new Date).toISOString(),duration:s.data.duration||0,total_partners:s.data.total_partners||0,partners_synced:s.data.partners_synced||0,total_parts:s.data.total_parts||0,parts_updated:s.data.parts_updated||0,parts_added:s.data.parts_added||0,parts_removed:s.data.parts_removed||0,errors:s.data.errors||[],warnings:s.data.warnings||[],success_rate:s.data.success_rate||100,partner_results:s.data.partner_results||{},performance_metrics:s.data.performance_metrics||{},next_sync:s.data.next_sync||null};return t.parts_updated>0||t.parts_added,yield Promise.all([Aa(),Sa(),Ba()]),Ca(t),{success:!0,data:t}}return{success:!1,message:s.message||"No changes made during sync"}}catch(a){const t={sync_id:`mock_sync_${Date.now()}`,partner_id:e||null,sync_type:e?"single_partner":"all_partners",status:"completed",started_at:new Date(Date.now()-3e4).toISOString(),completed_at:(new Date).toISOString(),duration:30,total_partners:e?1:12,partners_synced:e?1:10,total_parts:15420,parts_updated:Math.floor(500*Math.random())+100,parts_added:Math.floor(50*Math.random())+10,parts_removed:Math.floor(20*Math.random())+5,errors:[],warnings:["Some partners had minor API delays"],success_rate:98.5,partner_results:{autozone:{status:"success",parts_updated:245,parts_added:12,parts_removed:3,duration:8.5,last_sync:(new Date).toISOString()},oreilly:{status:"success",parts_updated:189,parts_added:8,parts_removed:2,duration:6.2,last_sync:(new Date).toISOString()},advance:{status:"success",parts_updated:156,parts_added:6,parts_removed:1,duration:5.8,last_sync:(new Date).toISOString()}},performance_metrics:{average_sync_time:6.8,fastest_partner:"advance",slowest_partner:"autozone",total_api_calls:45,failed_api_calls:1,cache_hits:23,cache_misses:22},next_sync:new Date(Date.now()+864e5).toISOString()};return yield new Promise(e=>setTimeout(e,2e3)),Ca(t),{success:!0,data:t,isMock:!0}}finally{const e=document.querySelector("[data-sync-partners]");e&&(e.disabled=!1,e.innerHTML='<svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>Sync Partners')}}))()),"data-sync-partners":"",class:"px-4 py-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2"},[...r[82]||(r[82]=[createBaseVNode("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),createTextVNode(" Sync Partners ",-1)])]),createBaseVNode("button",{onClick:r[18]||(r[18]=e=>Va(de.value||"Air Filter")),class:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2"},[...r[83]||(r[83]=[createBaseVNode("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),createTextVNode(" Compare All Partners ",-1)])])])])]),Ae.value.length>0?(openBlock(),createElementBlock("div",_hoisted_110,[createBaseVNode("div",_hoisted_111,[createBaseVNode("div",_hoisted_112,[createBaseVNode("div",_hoisted_113,[createBaseVNode("div",_hoisted_114,[r[85]||(r[85]=createBaseVNode("div",{class:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),createBaseVNode("div",null,[r[84]||(r[84]=createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"CarWise Parts",-1)),createBaseVNode("p",_hoisted_115,toDisplayString(Ae.value.length)+" parts available from CarWise inventory",1)])]),createBaseVNode("div",{class:"flex items-center gap-2"},[createBaseVNode("button",{onClick:_a,class:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-secondary-600 rounded-lg hover:bg-gray-50 dark:hover:bg-secondary-700 transition-colors duration-200"}," Clear Search ")])])]),createBaseVNode("div",_hoisted_116,[createBaseVNode("div",_hoisted_117,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ae.value,e=>{var t,o,s,i,l,d,c,u,p,h,m,v,f,x,b;return openBlock(),createElementBlock("div",{key:`search-${e.id}`,class:"group cursor-pointer bg-white dark:bg-secondary-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200/50 dark:border-secondary-700/50 overflow-hidden transform hover:scale-105 hover:-translate-y-2",onClick:t=>ga(e)},[createBaseVNode("div",_hoisted_119,[createBaseVNode("img",{src:e.image_url||"/images/parts/placeholder.jpg",alt:e.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"},null,8,_hoisted_120),r[88]||(r[88]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),createBaseVNode("div",_hoisted_121,[createBaseVNode("div",_hoisted_122,[createBaseVNode("div",_hoisted_123,[createBaseVNode("span",{class:normalizeClass(["px-3 py-1.5 text-xs font-bold rounded-full shadow-lg backdrop-blur-sm border",unref(F)(null!=(o=null==(t=unref(O)(e.id))?void 0:t.stock_quantity)?o:e.stock_quantity)])},toDisplayString(unref(R)(null!=(i=null==(s=unref(O)(e.id))?void 0:s.stock_quantity)?i:e.stock_quantity)),3),(null!=(d=null==(l=unref(O)(e.id))?void 0:l.stock_quantity)?d:e.stock_quantity)<5?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["absolute inset-0 rounded-full animate-ping opacity-75",unref(F)(null!=(u=null==(c=unref(O)(e.id))?void 0:c.stock_quantity)?u:e.stock_quantity).replace("text-","bg-").replace("dark:text-","dark:bg-")])},null,2)):createCommentVNode("",!0)]),(null==(p=unref(O)(e.id))?void 0:p.change)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["flex items-center justify-center px-2 py-1 text-xs rounded-full backdrop-blur-sm border shadow-lg",unref(O)(e.id).change>0?"bg-green-100/90 text-green-800 dark:bg-green-900/40 dark:text-green-400 border-green-200 dark:border-green-800":"bg-red-100/90 text-red-800 dark:bg-red-900/40 dark:text-red-400 border-red-200 dark:border-red-800"])},[(openBlock(),createElementBlock("svg",_hoisted_124,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:unref(O)(e.id).change>0?"M7 17l9.2-9.2M17 17V7M17 7H7":"M17 7l-9.2 9.2M7 7v10M7 7h10"},null,8,_hoisted_125)])),createTextVNode(" "+toDisplayString(Math.abs(unref(O)(e.id).change)),1)],2)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_126,[createBaseVNode("div",_hoisted_127,[createBaseVNode("button",{onClick:withModifiers(t=>ga(e),["stop"]),class:"flex-1 bg-blue-600/90 hover:bg-blue-700/90 backdrop-blur-sm text-white px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-200 flex items-center justify-center gap-1"},[...r[86]||(r[86]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),createTextVNode(" View Details ",-1)])],8,_hoisted_128),createBaseVNode("button",{onClick:withModifiers(t=>(e=>__async(null,null,function*(){if(a.value)try{const t=yield _(e);if(n.value&&t){const t=Rt(e.id);alert(t?`${e.name} added to wishlist!`:`${e.name} removed from wishlist`)}}catch(t){}else n.value&&alert("Please sign in to manage your wishlist")}))(e),["stop"]),class:normalizeClass(["flex-1 backdrop-blur-sm px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-200 flex items-center justify-center gap-1",Rt(e.id)?"bg-red-600/90 text-white":"bg-white/90 dark:bg-secondary-800/90 text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-secondary-800"])},[r[87]||(r[87]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),createTextVNode(" "+toDisplayString(Rt(e.id)?"In Wishlist":"Wishlist"),1)],10,_hoisted_129)])])]),createBaseVNode("div",_hoisted_130,[createBaseVNode("div",_hoisted_131,[createBaseVNode("div",_hoisted_132,[r[89]||(r[89]=createBaseVNode("div",{class:"w-2 h-2 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"},null,-1)),createBaseVNode("span",_hoisted_133,toDisplayString(e.brand||"Premium"),1)]),e.ai_recommended?(openBlock(),createElementBlock("div",_hoisted_134,[...r[90]||(r[90]=[createBaseVNode("svg",{class:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),createBaseVNode("span",{class:"text-xs font-medium text-purple-700 dark:text-purple-300"},"AI",-1)])])):createCommentVNode("",!0)]),createBaseVNode("h3",_hoisted_135,toDisplayString(e.name),1),createBaseVNode("div",_hoisted_136,[createBaseVNode("div",_hoisted_137,[createBaseVNode("div",_hoisted_138,[r[91]||(r[91]=createBaseVNode("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),createBaseVNode("span",_hoisted_139,toDisplayString(parseFloat(e.rating||0).toFixed(1)),1)]),createBaseVNode("div",_hoisted_140," ("+toDisplayString(e.review_count||0)+") ",1)]),createBaseVNode("div",_hoisted_141,toDisplayString(e.part_number||"N/A"),1)]),createBaseVNode("div",_hoisted_142,[createBaseVNode("div",_hoisted_143,[createBaseVNode("div",_hoisted_144,[createBaseVNode("div",_hoisted_145,toDisplayString(e.formatted_price||"$0.00"),1),"stable"!==unref(K)(e.id)?(openBlock(),createElementBlock("div",_hoisted_146,[createBaseVNode("div",{class:normalizeClass(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium","decreasing"===unref(K)(e.id)?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},["decreasing"===unref(K)(e.id)?(openBlock(),createElementBlock("svg",_hoisted_147,[...r[92]||(r[92]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)])])):"increasing"===unref(K)(e.id)?(openBlock(),createElementBlock("svg",_hoisted_148,[...r[93]||(r[93]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString("decreasing"===unref(K)(e.id)?"Dropping":"Rising"),1)],2)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_149,[createBaseVNode("div",_hoisted_150,[createBaseVNode("span",_hoisted_151,toDisplayString(e.condition||"New"),1),createBaseVNode("button",{onClick:withModifiers(t=>(e=>{var t;da(e.id)?(t=e.id,J.value.filter(e=>e.partId===t).forEach(e=>{Q(e.id)}),se("Price Alert Removed","Price alert has been removed for this part.")):(e=>{const t=prompt(`Set price alert for ${e.name}:\n\n1. Price Drop Alert (5% or more)\n2. Target Price Alert\n3. Significant Change Alert (15% or more)\n\nEnter 1, 2, or 3:`);if("1"===t)Y(e.id,te.PRICE_DROP,null,5),ae("Price Alert Set","You'll be notified when price drops by 5% or more.");else if("2"===t){const t=prompt(`Enter target price for ${e.name} (current: ${e.formatted_price}):`);t&&!isNaN(parseFloat(t))&&(Y(e.id,te.TARGET_PRICE,parseFloat(t)),ae("Target Price Alert Set",`You'll be notified when price reaches $${parseFloat(t).toFixed(2)}`))}else"3"===t&&(Y(e.id,te.SIGNIFICANT_CHANGE,null,15),ae("Significant Change Alert Set","You'll be notified of major price changes."))})(e)})(e),["stop"]),class:normalizeClass(["p-2 rounded-full transition-all duration-200 shadow-sm",da(e.id)?"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 hover:bg-yellow-200 dark:hover:bg-yellow-900/40 shadow-lg":"text-gray-400 hover:text-yellow-500 hover:bg-yellow-50 dark:hover:bg-yellow-900/10"]),title:da(e.id)?"Remove price alert":"Set price alert"},[...r[94]||(r[94]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.868 19.132l13.132-13.132a2.5 2.5 0 00-3.536-3.536L1.332 15.596 4.868 19.132z"})],-1)])],10,_hoisted_152)]),createBaseVNode("div",_hoisted_153,[r[95]||(r[95]=createBaseVNode("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),createTextVNode(" "+toDisplayString(e.estimated_delivery||"2-3 days"),1)])])])]),createBaseVNode("div",_hoisted_154,[createBaseVNode("button",{onClick:withModifiers(t=>et(e),["stop"]),disabled:(null!=(m=null==(h=unref(O)(e.id))?void 0:h.stock_quantity)?m:e.stock_quantity)<=0,class:normalizeClass(["w-full text-sm font-semibold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105",(null!=(f=null==(v=unref(O)(e.id))?void 0:v.stock_quantity)?f:e.stock_quantity)>0?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed transform-none shadow-none"])},[r[96]||(r[96]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1)),createTextVNode(" "+toDisplayString((null!=(b=null==(x=unref(O)(e.id))?void 0:x.stock_quantity)?b:e.stock_quantity)>0?"Add to Cart":"Out of Stock"),1)],10,_hoisted_155),createBaseVNode("button",{onClick:withModifiers(t=>(e=>__async(null,null,function*(){if(e&&e.id)try{(yield y(e))?ae(`Added to compare (${g.value.length}/${k})`):g.value.length>=k?oe("Compare List Full",`You can compare up to ${k} items. Remove an item first.`):oe("Already in Compare","This item is already in your compare list")}catch(t){oe("Error","Failed to add item to compare list")}}))(e),["stop"]),disabled:qt(e.id)||unref(g).length>=unref(k),class:normalizeClass(["w-full text-sm font-semibold py-3 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 border",qt(e.id)?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white border-blue-600":unref(g).length>=unref(k)?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed transform-none shadow-none border-gray-300 dark:border-gray-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-300 dark:border-gray-600"]),title:qt(e.id)?"In compare list":unref(g).length>=unref(k)?"Compare list full":"Add to compare"},[r[97]||(r[97]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),createTextVNode(" "+toDisplayString(qt(e.id)?"Comparing":"Compare"),1)],10,_hoisted_156)])])],8,_hoisted_118)}),128))]),0===Ae.value.length?(openBlock(),createElementBlock("div",_hoisted_157,[...r[98]||(r[98]=[createBaseVNode("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"No Results Found",-1),createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400"},"Try searching for a different part or check back later.",-1)])])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),me.value.length>0&&xe.value?(openBlock(),createElementBlock("div",_hoisted_158,[createBaseVNode("div",_hoisted_159,[createBaseVNode("div",_hoisted_160,[createBaseVNode("div",_hoisted_161,[createBaseVNode("div",_hoisted_162,[r[100]||(r[100]=createBaseVNode("div",{class:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),createBaseVNode("div",null,[r[99]||(r[99]=createBaseVNode("div",{class:"flex items-center gap-2 mb-1"},[createBaseVNode("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Public API Results"),createBaseVNode("span",{class:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium rounded-full"}," DEMO ")],-1)),createBaseVNode("p",_hoisted_163,toDisplayString(me.value.length)+" parts found from eBay & Amazon",1)])]),r[101]||(r[101]=createBaseVNode("div",{class:"flex items-center gap-2"},[createBaseVNode("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Live data"),createBaseVNode("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})],-1))])]),createBaseVNode("div",_hoisted_164,[createBaseVNode("div",_hoisted_165,[(openBlock(!0),createElementBlock(Fragment,null,renderList(me.value,e=>{var t,a,o,s,i,l,n,d,c,u,p,h,_,m,g,y;return openBlock(),createElementBlock("div",{key:`${e.source}-${e.id}`,class:"group cursor-pointer bg-white dark:bg-secondary-800 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-secondary-700 overflow-hidden",onClick:t=>ma(e)},[createBaseVNode("div",_hoisted_167,[createBaseVNode("div",_hoisted_168,[createBaseVNode("span",{class:normalizeClass(["px-2 py-1 text-xs font-medium rounded-full shadow-sm","ebay"===e.source?"bg-blue-500 text-white":"bg-orange-500 text-white"])},toDisplayString(e.source.toUpperCase()),3)]),createBaseVNode("div",_hoisted_169,[createBaseVNode("img",{src:e.image_url||"/images/parts/placeholder.jpg",alt:e.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"},null,8,_hoisted_170),createBaseVNode("div",_hoisted_171,[createBaseVNode("span",_hoisted_172,toDisplayString(e.condition||"New"),1)]),e.ai_recommended?(openBlock(),createElementBlock("div",_hoisted_173,[...r[102]||(r[102]=[createBaseVNode("span",{class:"px-2 py-1 text-xs font-medium rounded-full shadow-sm bg-gradient-to-r from-blue-500 to-purple-500 text-white"}," AI Recommended ",-1)])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_174,[createBaseVNode("div",_hoisted_175,toDisplayString(e.brand||"Unknown Brand"),1),createBaseVNode("h3",_hoisted_176,toDisplayString(e.name),1),createBaseVNode("div",_hoisted_177,[createBaseVNode("div",_hoisted_178,[r[103]||(r[103]=createBaseVNode("svg",{class:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),createBaseVNode("span",_hoisted_179,toDisplayString(e.rating.toFixed(1)),1)]),createBaseVNode("div",_hoisted_180,toDisplayString(e.review_count)+" reviews ",1)]),createBaseVNode("div",_hoisted_181,[createBaseVNode("div",_hoisted_182,toDisplayString(e.formatted_price),1),createBaseVNode("div",_hoisted_183,[e.prime_eligible?(openBlock(),createElementBlock("div",_hoisted_184," Prime  ")):e.shipping_cost?(openBlock(),createElementBlock("div",_hoisted_185," +$"+toDisplayString(e.shipping_cost)+" shipping ",1)):(openBlock(),createElementBlock("div",_hoisted_186," Free shipping "))])]),createBaseVNode("div",_hoisted_187,[(null!=(a=null==(t=unref(O)(e.id))?void 0:t.stock_quantity)?a:e.stock_quantity)>0?(openBlock(),createElementBlock("div",_hoisted_188,[createBaseVNode("div",{class:normalizeClass(["h-1.5 rounded-full transition-all duration-300","critical"===unref(z)(null!=(s=null==(o=unref(O)(e.id))?void 0:o.stock_quantity)?s:e.stock_quantity)?"bg-red-500":"low"===unref(z)(null!=(l=null==(i=unref(O)(e.id))?void 0:i.stock_quantity)?l:e.stock_quantity)?"bg-yellow-500":"bg-green-500"]),style:normalizeStyle({width:Math.min((null!=(d=null==(n=unref(O)(e.id))?void 0:n.stock_quantity)?d:e.stock_quantity)/20*100,100)+"%"})},null,6)])):createCommentVNode("",!0),"carwise"===e.source?(openBlock(),createElementBlock("button",{key:1,onClick:withModifiers(t=>et(e),["stop"]),disabled:(null!=(u=null==(c=unref(O)(e.id))?void 0:c.stock_quantity)?u:e.stock_quantity)<=0,class:normalizeClass(["w-full text-sm font-medium py-2 px-3 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",(null!=(h=null==(p=unref(O)(e.id))?void 0:p.stock_quantity)?h:e.stock_quantity)>0?"bg-primary-600 hover:bg-primary-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[(null!=(m=null==(_=unref(O)(e.id))?void 0:_.stock_quantity)?m:e.stock_quantity)>0?(openBlock(),createElementBlock("svg",_hoisted_190,[...r[104]||(r[104]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_191,[...r[105]||(r[105]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18 12M6 6l12 12"},null,-1)])])),createTextVNode(" "+toDisplayString((null!=(y=null==(g=unref(O)(e.id))?void 0:g.stock_quantity)?y:e.stock_quantity)>0?"Add to Cart":"Out of Stock"),1)],10,_hoisted_189)):(openBlock(),createElementBlock("button",{key:2,onClick:withModifiers(t=>ma(e),["stop"]),class:"w-full bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"},[r[106]||(r[106]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),createTextVNode(" View on "+toDisplayString("ebay"===e.source?"eBay":"Amazon"),1)],8,_hoisted_192))])])],8,_hoisted_166)}),128))])])])])):createCommentVNode("",!0),Ce.value&&Object.keys(ne.value).length>0?(openBlock(),createElementBlock("div",_hoisted_193,[r[113]||(r[113]=createBaseVNode("div",{class:"text-center mb-8"},[createBaseVNode("h2",{class:"text-3xl font-bold text-secondary-900 dark:text-white mb-4"},"Partner Results"),createBaseVNode("p",{class:"text-lg text-secondary-600 dark:text-secondary-400"},"Parts from authorized global partners")],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(ne.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"mb-8"},[createBaseVNode("div",_hoisted_194,[createBaseVNode("div",_hoisted_195,[createBaseVNode("div",_hoisted_196,[createBaseVNode("div",_hoisted_197,[createBaseVNode("span",_hoisted_198,toDisplayString(e.partner.name.charAt(0)),1)]),createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_199,toDisplayString(e.partner.name),1),createBaseVNode("p",_hoisted_200,toDisplayString(e.count)+" parts found  "+toDisplayString(e.partner.commission_rate)+"% commission ",1)])]),r[107]||(r[107]=createBaseVNode("div",{class:"text-right"},[createBaseVNode("div",{class:"text-sm text-green-600 dark:text-green-400 font-medium"},"Authorized Partner"),createBaseVNode("div",{class:"text-xs text-secondary-500 dark:text-secondary-500"},"Global Shipping")],-1))])]),createBaseVNode("div",_hoisted_201,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.parts.slice(0,8),a=>{return openBlock(),createElementBlock("div",{key:`${t}-${a.partner_part_id}`,class:"group cursor-pointer bg-white dark:bg-secondary-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden border border-gray-100 dark:border-secondary-700"},[createBaseVNode("div",_hoisted_202,[createBaseVNode("div",_hoisted_203,[createBaseVNode("img",{src:a.image_url||(o=a.brand,{BMW:"/images/brands/bmw-parts.jpg","Mercedes-Benz":"/images/brands/mercedes-parts.jpg",Audi:"/images/brands/audi-parts.jpg",Volkswagen:"/images/brands/vw-parts.jpg",Toyota:"/images/brands/toyota-parts.jpg",Honda:"/images/brands/honda-parts.jpg",Ford:"/images/brands/ford-parts.jpg",Chevrolet:"/images/brands/chevrolet-parts.jpg",Nissan:"/images/brands/nissan-parts.jpg",Hyundai:"/images/brands/hyundai-parts.jpg",Kia:"/images/brands/kia-parts.jpg",Mazda:"/images/brands/mazda-parts.jpg",Subaru:"/images/brands/subaru-parts.jpg",Lexus:"/images/brands/lexus-parts.jpg",Infiniti:"/images/brands/infiniti-parts.jpg",Acura:"/images/brands/acura-parts.jpg",Genesis:"/images/brands/genesis-parts.jpg",Volvo:"/images/brands/volvo-parts.jpg",Saab:"/images/brands/saab-parts.jpg",Jaguar:"/images/brands/jaguar-parts.jpg","Land Rover":"/images/brands/landrover-parts.jpg",Porsche:"/images/brands/porsche-parts.jpg",Ferrari:"/images/brands/ferrari-parts.jpg",Lamborghini:"/images/brands/lamborghini-parts.jpg",Maserati:"/images/brands/maserati-parts.jpg",Bentley:"/images/brands/bentley-parts.jpg","Rolls-Royce":"/images/brands/rollsroyce-parts.jpg","Aston Martin":"/images/brands/astonmartin-parts.jpg",McLaren:"/images/brands/mclaren-parts.jpg",Bugatti:"/images/brands/bugatti-parts.jpg"}[o]||"/images/parts/default-part.jpg"),alt:a.name,class:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"},null,8,_hoisted_204),r[108]||(r[108]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"},null,-1)),createBaseVNode("div",_hoisted_205,toDisplayString(e.partner.name),1),createBaseVNode("div",_hoisted_206,[createBaseVNode("span",{class:normalizeClass(["px-2 py-1 rounded-full text-xs font-semibold shadow-md",a.stock_quantity>0?"bg-green-500 text-white":"bg-red-500 text-white"])},toDisplayString(a.stock_quantity>0?"In Stock":"Out of Stock"),3)])])]),createBaseVNode("div",_hoisted_207,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_208,[createBaseVNode("span",_hoisted_209,toDisplayString(a.category.charAt(0).toUpperCase()+a.category.slice(1)),1)]),createBaseVNode("h3",_hoisted_210,toDisplayString(a.name),1),createBaseVNode("p",_hoisted_211,toDisplayString(a.description),1)]),createBaseVNode("div",_hoisted_212,[createBaseVNode("div",_hoisted_213,[createBaseVNode("div",_hoisted_214,[(openBlock(),createElementBlock(Fragment,null,renderList(5,e=>createBaseVNode("svg",{key:e,class:normalizeClass(["w-3 h-3",e<=Math.floor(parseFloat(a.rating))?"text-yellow-400":"text-gray-300"]),fill:"currentColor",viewBox:"0 0 20 20"},[...r[109]||(r[109]=[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),createBaseVNode("span",_hoisted_215,toDisplayString(parseFloat(a.rating).toFixed(1)),1)]),createBaseVNode("div",_hoisted_216,[createBaseVNode("div",_hoisted_217," $"+toDisplayString(parseFloat(a.price).toFixed(2)),1),r[110]||(r[110]=createBaseVNode("div",{class:"text-xs text-green-600 dark:text-green-400 font-medium"}," Free Shipping ",-1))])]),createBaseVNode("div",_hoisted_218,[createBaseVNode("button",{onClick:e=>Ma(t,a.partner_part_id),class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg transition-all duration-300 hover:shadow-lg text-sm"}," Buy Now ",8,_hoisted_219),createBaseVNode("button",{onClick:e=>Va(a.name),class:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all duration-300 hover:shadow-lg",title:"Compare prices across all partners"},[...r[111]||(r[111]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])],8,_hoisted_220),createBaseVNode("button",{onClick:e=>ga(a),class:"px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all duration-300 hover:shadow-lg"},[...r[112]||(r[112]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,_hoisted_221)])])]);var o}),128))]),e.parts.length>8?(openBlock(),createElementBlock("div",_hoisted_222,[createBaseVNode("button",_hoisted_223," View All "+toDisplayString(e.count)+" Parts from "+toDisplayString(e.partner.name),1)])):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0),De.value.length>0?(openBlock(),createElementBlock("div",_hoisted_224,[createBaseVNode("div",_hoisted_225,[r[118]||(r[118]=createBaseVNode("div",{class:"flex items-center justify-center mb-4"},[createBaseVNode("div",{class:"p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl mr-4"},[createBaseVNode("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-3xl font-bold text-secondary-900 dark:text-white"},"Price Comparison"),createBaseVNode("p",{class:"text-lg text-secondary-600 dark:text-secondary-400"},"Compare prices across all partners")])],-1)),createBaseVNode("div",_hoisted_226,[createBaseVNode("div",_hoisted_227,[createBaseVNode("div",_hoisted_228,[createBaseVNode("div",_hoisted_229,toDisplayString(De.value.length),1),r[114]||(r[114]=createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Options Found",-1))]),createBaseVNode("div",_hoisted_230,[createBaseVNode("div",_hoisted_231,toDisplayString((null==(e=De.value[0])?void 0:e.formatted_total)||"$0.00"),1),r[115]||(r[115]=createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Best Price",-1))]),createBaseVNode("div",_hoisted_232,[createBaseVNode("div",_hoisted_233,toDisplayString(Math.round(100*(1-((null==(o=De.value[0])?void 0:o.total_price)||0)/((null==(i=De.value[De.value.length-1])?void 0:i.total_price)||1))))+"% ",1),r[116]||(r[116]=createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Savings",-1))]),createBaseVNode("div",_hoisted_234,[createBaseVNode("div",_hoisted_235,toDisplayString(De.value.filter(e=>e.in_stock).length),1),r[117]||(r[117]=createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"In Stock",-1))])])])]),createBaseVNode("div",_hoisted_236,[createBaseVNode("div",_hoisted_237,[r[119]||(r[119]=createBaseVNode("div",null,[createBaseVNode("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Price Trend Analysis"),createBaseVNode("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Compare prices across all partners")],-1)),createBaseVNode("div",_hoisted_238,[createBaseVNode("button",{onClick:r[19]||(r[19]=e=>Qe("bar")),class:normalizeClass(["bar"===Be.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300","px-3 py-1 rounded-lg text-sm font-medium transition-colors duration-200"])}," Bar Chart ",2),createBaseVNode("button",{onClick:r[20]||(r[20]=e=>Qe("line")),class:normalizeClass(["line"===Be.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300","px-3 py-1 rounded-lg text-sm font-medium transition-colors duration-200"])}," Line Chart ",2),createBaseVNode("button",{onClick:r[21]||(r[21]=e=>Qe("trend")),class:normalizeClass(["trend"===Be.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300","px-3 py-1 rounded-lg text-sm font-medium transition-colors duration-200"])}," Price Trend ",2)])]),createBaseVNode("div",_hoisted_239,[createBaseVNode("div",{ref_key:"priceChart",ref:we,class:"w-full h-80 bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},["bar"===Be.value?(openBlock(),createElementBlock("div",_hoisted_240,[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"flex-1 flex flex-col items-center"},[createBaseVNode("div",_hoisted_241,[createBaseVNode("div",{class:normalizeClass(["w-full rounded-t-lg transition-all duration-500 hover:opacity-80 cursor-pointer relative group",{"bg-gradient-to-t from-green-500 to-green-400":e.is_best_price,"bg-gradient-to-t from-blue-500 to-blue-400":e.is_fastest_shipping,"bg-gradient-to-t from-yellow-500 to-yellow-400":e.is_highest_rated,"bg-gradient-to-t from-gray-500 to-gray-400":!e.is_best_price&&!e.is_fastest_shipping&&!e.is_highest_rated}]),style:normalizeStyle({height:e.total_price/Math.max(...De.value.map(e=>e.total_price))*100+"%"}),title:`${e.partner_name}: ${e.formatted_total}`},[createBaseVNode("div",_hoisted_243,toDisplayString(e.formatted_total),1),e.is_best_price||e.is_fastest_shipping||e.is_highest_rated?(openBlock(),createElementBlock("div",_hoisted_244,[e.is_best_price?(openBlock(),createElementBlock("span",_hoisted_245," Best ")):e.is_fastest_shipping?(openBlock(),createElementBlock("span",_hoisted_246," Fast ")):e.is_highest_rated?(openBlock(),createElementBlock("span",_hoisted_247," Top ")):createCommentVNode("",!0)])):createCommentVNode("",!0)],14,_hoisted_242)]),createBaseVNode("div",_hoisted_248,[createBaseVNode("div",_hoisted_249,toDisplayString(e.partner_name),1),createBaseVNode("div",_hoisted_250,toDisplayString(e.rating.toFixed(1))+" ",1)])]))),128))])):"line"===Be.value?(openBlock(),createElementBlock("div",_hoisted_251,[(openBlock(),createElementBlock("svg",_hoisted_252,[r[121]||(r[121]=createBaseVNode("defs",null,[createBaseVNode("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse"},[createBaseVNode("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#e5e7eb","stroke-width":"1",opacity:"0.3"})])],-1)),r[122]||(r[122]=createBaseVNode("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1)),createBaseVNode("g",_hoisted_253,[createBaseVNode("text",_hoisted_254,"$"+toDisplayString(Math.max(...De.value.map(e=>e.total_price)).toFixed(0)),1),createBaseVNode("text",_hoisted_255,"$"+toDisplayString((.75*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),createBaseVNode("text",_hoisted_256,"$"+toDisplayString((.5*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),createBaseVNode("text",_hoisted_257,"$"+toDisplayString((.25*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),r[120]||(r[120]=createBaseVNode("text",{x:"10",y:"260","text-anchor":"start"},"$0",-1))]),createBaseVNode("polyline",{points:De.value.map((e,t)=>`${60+t*(700/(De.value.length-1))},${260-e.total_price/Math.max(...De.value.map(e=>e.total_price))*240}`).join(" "),fill:"none",stroke:"#3b82f6","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_258),(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,(e,t)=>(openBlock(),createElementBlock("g",{key:t},[createBaseVNode("circle",{cx:60+t*(700/(De.value.length-1)),cy:260-e.total_price/Math.max(...De.value.map(e=>e.total_price))*240,r:"6",fill:e.is_best_price?"#10b981":e.is_fastest_shipping?"#3b82f6":e.is_highest_rated?"#f59e0b":"#6b7280",stroke:"white","stroke-width":"2",class:"cursor-pointer hover:r-8 transition-all duration-200",title:`${e.partner_name}: ${e.formatted_total}`},null,8,_hoisted_259),createBaseVNode("text",{x:60+t*(700/(De.value.length-1)),y:260-e.total_price/Math.max(...De.value.map(e=>e.total_price))*240-15,"text-anchor":"middle",class:"text-xs font-semibold fill-gray-700 dark:fill-gray-300"},toDisplayString(e.formatted_total),9,_hoisted_260),createBaseVNode("text",{x:60+t*(700/(De.value.length-1)),y:"290","text-anchor":"middle",class:"text-xs fill-gray-600 dark:fill-gray-400"},toDisplayString(e.partner_name.split(" ")[0]),9,_hoisted_261)]))),128))]))])):"trend"===Be.value?(openBlock(),createElementBlock("div",_hoisted_262,[createBaseVNode("div",_hoisted_263,[r[127]||(r[127]=createBaseVNode("div",{class:"flex items-center justify-between mb-4"},[createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Price Trend Over Time "),createBaseVNode("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Last 30 Days ")],-1)),createBaseVNode("div",_hoisted_264,[(openBlock(),createElementBlock("svg",_hoisted_265,[r[124]||(r[124]=createBaseVNode("defs",null,[createBaseVNode("pattern",{id:"trendGrid",width:"40",height:"20",patternUnits:"userSpaceOnUse"},[createBaseVNode("path",{d:"M 40 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb","stroke-width":"0.5",opacity:"0.3"})])],-1)),r[125]||(r[125]=createBaseVNode("rect",{width:"100%",height:"100%",fill:"url(#trendGrid)"},null,-1)),createBaseVNode("g",_hoisted_266,[createBaseVNode("text",_hoisted_267,"$"+toDisplayString(Math.max(...De.value.map(e=>e.total_price)).toFixed(0)),1),createBaseVNode("text",_hoisted_268,"$"+toDisplayString((.75*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),createBaseVNode("text",_hoisted_269,"$"+toDisplayString((.5*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),createBaseVNode("text",_hoisted_270,"$"+toDisplayString((.25*Math.max(...De.value.map(e=>e.total_price))).toFixed(0)),1),r[123]||(r[123]=createBaseVNode("text",{x:"10",y:"195","text-anchor":"start"},"$0",-1))]),r[126]||(r[126]=createBaseVNode("g",{class:"text-xs fill-gray-600 dark:fill-gray-400"},[createBaseVNode("text",{x:"60",y:"210","text-anchor":"middle"},"30d"),createBaseVNode("text",{x:"200",y:"210","text-anchor":"middle"},"20d"),createBaseVNode("text",{x:"340",y:"210","text-anchor":"middle"},"10d"),createBaseVNode("text",{x:"480",y:"210","text-anchor":"middle"},"5d"),createBaseVNode("text",{x:"620",y:"210","text-anchor":"middle"},"2d"),createBaseVNode("text",{x:"760",y:"210","text-anchor":"middle"},"Now")],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,(e,t)=>(openBlock(),createElementBlock("g",{key:t},[createBaseVNode("polyline",{points:Ze(e,t).map((e,t)=>`${60+t*(700/29)},${190-e.price/Math.max(...De.value.map(e=>e.total_price))*180}`).join(" "),fill:"none",stroke:e.is_best_price?"#10b981":e.is_fastest_shipping?"#3b82f6":e.is_highest_rated?"#f59e0b":"#6b7280","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",opacity:"0.7"},null,8,_hoisted_271),createBaseVNode("circle",{cx:"760",cy:190-e.total_price/Math.max(...De.value.map(e=>e.total_price))*180,r:"4",fill:e.is_best_price?"#10b981":e.is_fastest_shipping?"#3b82f6":e.is_highest_rated?"#f59e0b":"#6b7280",stroke:"white","stroke-width":"2"},null,8,_hoisted_272)]))),128))]))]),createBaseVNode("div",_hoisted_273,[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value.slice(0,4),(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"text-center"},[createBaseVNode("div",_hoisted_274,toDisplayString(e.partner_name),1),createBaseVNode("div",_hoisted_275,toDisplayString(e.formatted_total),1),createBaseVNode("div",{class:normalizeClass(["text-xs","up"===Ke(e)?"text-red-500":"down"===Ke(e)?"text-green-500":"text-gray-500"])},toDisplayString("up"===Ke(e)?"":"down"===Ke(e)?"":"")+" "+toDisplayString(Xe(e))+"% ",3)]))),128))])])])):createCommentVNode("",!0)],512),r[128]||(r[128]=createBaseVNode("div",{class:"mt-4 flex flex-wrap justify-center gap-4"},[createBaseVNode("div",{class:"flex items-center space-x-2"},[createBaseVNode("div",{class:"w-3 h-3 bg-green-500 rounded-full"}),createBaseVNode("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Best Price")]),createBaseVNode("div",{class:"flex items-center space-x-2"},[createBaseVNode("div",{class:"w-3 h-3 bg-blue-500 rounded-full"}),createBaseVNode("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Fastest Shipping")]),createBaseVNode("div",{class:"flex items-center space-x-2"},[createBaseVNode("div",{class:"w-3 h-3 bg-yellow-500 rounded-full"}),createBaseVNode("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Highest Rated")]),createBaseVNode("div",{class:"flex items-center space-x-2"},[createBaseVNode("div",{class:"w-3 h-3 bg-gray-500 rounded-full"}),createBaseVNode("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Other Options")])],-1))])]),createBaseVNode("div",_hoisted_276,[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:normalizeClass(["bg-white dark:bg-secondary-800 rounded-2xl shadow-lg border border-gray-200 dark:border-secondary-700 overflow-hidden hover:shadow-xl transition-all duration-300",{"ring-2 ring-green-500 ring-opacity-50":e.is_best_price,"ring-2 ring-blue-500 ring-opacity-50":e.is_fastest_shipping,"ring-2 ring-yellow-500 ring-opacity-50":e.is_highest_rated}])},[createBaseVNode("div",_hoisted_277,[createBaseVNode("div",_hoisted_278,[createBaseVNode("div",_hoisted_279,[createBaseVNode("div",_hoisted_280,[createBaseVNode("span",_hoisted_281,toDisplayString(e.partner_name.charAt(0)),1)]),createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_282,toDisplayString(e.partner_name),1),createBaseVNode("p",_hoisted_283,toDisplayString(e.brand),1)])]),createBaseVNode("div",_hoisted_284,[e.is_best_price?(openBlock(),createElementBlock("span",_hoisted_285," Best Price ")):createCommentVNode("",!0),e.is_fastest_shipping?(openBlock(),createElementBlock("span",_hoisted_286," Fastest ")):createCommentVNode("",!0),e.is_highest_rated?(openBlock(),createElementBlock("span",_hoisted_287," Top Rated ")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_288,[createBaseVNode("h4",_hoisted_289,toDisplayString(e.part_name),1),createBaseVNode("p",_hoisted_290,toDisplayString(e.part_number),1)])]),createBaseVNode("div",_hoisted_291,[createBaseVNode("div",_hoisted_292,[createBaseVNode("div",_hoisted_293,[r[129]||(r[129]=createBaseVNode("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Price",-1)),e.savings>0?(openBlock(),createElementBlock("span",_hoisted_294," Save "+toDisplayString(e.formatted_savings),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_295,toDisplayString(e.formatted_total),1),createBaseVNode("div",_hoisted_296,toDisplayString(e.formatted_price)+" + "+toDisplayString(e.formatted_shipping)+" shipping ",1)]),createBaseVNode("div",_hoisted_297,[createBaseVNode("div",null,[r[130]||(r[130]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Stock Status",-1)),createBaseVNode("span",{class:normalizeClass(["px-2 py-1 text-xs font-semibold rounded-full",e.in_stock?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"])},toDisplayString(e.in_stock?"In Stock":"Out of Stock"),3)]),createBaseVNode("div",null,[r[131]||(r[131]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Delivery",-1)),createBaseVNode("div",_hoisted_298,toDisplayString(e.estimated_delivery),1)]),createBaseVNode("div",null,[r[133]||(r[133]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Rating",-1)),createBaseVNode("div",_hoisted_299,[createBaseVNode("div",_hoisted_300,[(openBlock(),createElementBlock(Fragment,null,renderList(5,t=>createBaseVNode("svg",{key:t,class:normalizeClass(["w-3 h-3",t<=Math.floor(e.rating)?"text-yellow-400":"text-gray-300"]),fill:"currentColor",viewBox:"0 0 20 20"},[...r[132]||(r[132]=[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),createBaseVNode("span",_hoisted_301,toDisplayString(e.rating.toFixed(1))+" ("+toDisplayString(e.review_count)+")",1)])]),createBaseVNode("div",null,[r[134]||(r[134]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Warranty",-1)),createBaseVNode("div",_hoisted_302,toDisplayString(e.warranty),1)])]),e.features&&e.features.length>0?(openBlock(),createElementBlock("div",_hoisted_303,[r[135]||(r[135]=createBaseVNode("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Key Features",-1)),createBaseVNode("div",_hoisted_304,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.features.slice(0,3),e=>(openBlock(),createElementBlock("span",{key:e,class:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full"},toDisplayString(e),1))),128))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_305,[createBaseVNode("button",{onClick:t=>Ma(e.partner_id,e.id),disabled:!e.in_stock,class:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg disabled:cursor-not-allowed flex items-center justify-center"},[r[136]||(r[136]=createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1)),createTextVNode(" "+toDisplayString(e.in_stock?"Buy Now":"Out of Stock"),1)],8,_hoisted_306),createBaseVNode("button",{onClick:t=>(e=>{const t={id:e.id,name:e.part_name,description:`High-quality ${e.part_name} from ${e.partner_name}. ${e.features?e.features.join(", "):""}`,price:e.price,formatted_price:e.formatted_price,currency:e.currency,image_url:e.image_url||Pa(e,e.category||"general"),condition:e.condition||"New",brand:e.brand,part_number:e.part_number,rating:e.rating,review_count:e.review_count,stock_quantity:e.stock_quantity||(e.in_stock?10:0),source:e.partner_name,affiliate_url:e.affiliate_url,category:"general",ai_recommended:!1,shipping_cost:e.shipping_cost,estimated_delivery:e.estimated_delivery,seller:e.partner_name,prime_eligible:!1,availability:e.in_stock?"In Stock":"Out of Stock",in_stock:e.in_stock,created_at:e.last_updated||(new Date).toISOString(),partner_id:e.partner_id,partner_name:e.partner_name,commission_rate:e.commission_rate||.05,warranty:e.warranty,compatibility:[],features:e.features||[],specifications:e.specifications||{}};ga(t)})(e),class:"px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl font-medium transition-colors duration-200"},[...r[137]||(r[137]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,_hoisted_307)])])],2))),128))]),createBaseVNode("div",{class:"text-center mt-8"},[createBaseVNode("button",{onClick:Na,class:"px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium transition-colors duration-200 flex items-center mx-auto"},[...r[138]||(r[138]=[createBaseVNode("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),createTextVNode(" Clear Comparison ",-1)])])])])):createCommentVNode("",!0),Ne.value?(openBlock(),createElementBlock("div",{key:4,class:"fixed inset-0 bg-black/50 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",onClick:xa,onKeydown:fa,tabindex:"0"},[createBaseVNode("div",{class:"relative bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:r[22]||(r[22]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_308,[createBaseVNode("div",_hoisted_309,[createBaseVNode("h3",_hoisted_310,toDisplayString(Ne.value.name),1),createBaseVNode("div",_hoisted_311,[createBaseVNode("button",{class:"flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",disabled:!Ne.value.in_stock||Ee.value||!Gt.value,onClick:ka,title:Ne.value.in_stock?Gt.value?"Add this part to your cart":"Please fix validation errors first":"Part is out of stock"},[Ee.value?(openBlock(),createElementBlock("svg",_hoisted_313,[...r[139]||(r[139]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):!Ee.value&&Gt.value&&Ne.value.in_stock?(openBlock(),createElementBlock("svg",_hoisted_314,[...r[140]||(r[140]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_315,[...r[141]||(r[141]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),createTextVNode(" "+toDisplayString(Ee.value?"Adding...":Gt.value?Ne.value.in_stock?"Add to Cart":"Out of Stock":"Fix Issues"),1)],8,_hoisted_312),createBaseVNode("button",{onClick:ya,class:"p-2 rounded-lg text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors duration-200","aria-label":"Close modal"},[...r[142]||(r[142]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),!Gt.value&&Object.keys(Jt.value).length>0?(openBlock(),createElementBlock("div",_hoisted_316,[createBaseVNode("div",_hoisted_317,[r[144]||(r[144]=createBaseVNode("svg",{class:"w-5 h-5 text-red-400 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),createBaseVNode("div",null,[r[143]||(r[143]=createBaseVNode("h4",{class:"text-sm font-medium text-red-800 dark:text-red-200 mb-2"},"Please fix the following issues:",-1)),createBaseVNode("ul",_hoisted_318,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Jt.value,(e,t)=>(openBlock(),createElementBlock("li",{key:t,class:"flex items-start"},[createBaseVNode("span",_hoisted_319,toDisplayString(t)+":",1),createBaseVNode("span",null,toDisplayString(e),1)]))),128))])])])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_320,[createBaseVNode("div",_hoisted_321,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_322,[createBaseVNode("img",{src:Ne.value.image_url||"/images/parts/placeholder.jpg",alt:Ne.value.name,class:"w-full h-64 object-cover rounded-lg mb-4"},null,8,_hoisted_323),createBaseVNode("div",_hoisted_324,[createBaseVNode("button",{class:"flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",disabled:!Ne.value.in_stock||Ee.value||!Gt.value,onClick:ka,title:Ne.value.in_stock?Gt.value?"Add this part to your cart":"Please fix validation errors first":"Part is out of stock"},[Ee.value?(openBlock(),createElementBlock("svg",_hoisted_326,[...r[145]||(r[145]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):!Ee.value&&Gt.value&&Ne.value.in_stock?(openBlock(),createElementBlock("svg",_hoisted_327,[...r[146]||(r[146]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_328,[...r[147]||(r[147]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),createTextVNode(" "+toDisplayString(Ee.value?"Adding...":Gt.value?Ne.value.in_stock?"Add to Cart":"Out of Stock":"Fix Issues"),1)],8,_hoisted_325)])])]),createBaseVNode("div",_hoisted_329,[createBaseVNode("div",null,[r[148]||(r[148]=createBaseVNode("h4",{class:"text-lg font-semibold text-secondary-900 dark:text-white mb-2"}," Description ",-1)),createBaseVNode("p",_hoisted_330,toDisplayString(Ne.value.description),1)]),createBaseVNode("div",_hoisted_331,[createBaseVNode("button",{class:"w-full flex items-center justify-center px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",disabled:!Ne.value.in_stock||Ee.value||!Gt.value,onClick:ka,title:Ne.value.in_stock?Gt.value?"Add this part to your cart":"Please fix validation errors first":"Part is out of stock"},[Ee.value?(openBlock(),createElementBlock("svg",_hoisted_333,[...r[149]||(r[149]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):!Ee.value&&Gt.value&&Ne.value.in_stock?(openBlock(),createElementBlock("svg",_hoisted_334,[...r[150]||(r[150]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_335,[...r[151]||(r[151]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),createBaseVNode("span",_hoisted_336,toDisplayString(Ee.value?"Adding to Cart...":Gt.value?Ne.value.in_stock?"Add to Cart":"Out of Stock":"Fix Issues First"),1)],8,_hoisted_332),createBaseVNode("div",_hoisted_337,[Ne.value.in_stock?(openBlock(),createElementBlock("span",_hoisted_338,[...r[152]||(r[152]=[createBaseVNode("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),createTextVNode(" In Stock ",-1)])])):(openBlock(),createElementBlock("span",_hoisted_339,[...r[153]||(r[153]=[createBaseVNode("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),createTextVNode(" Out of Stock ",-1)])]))])]),createBaseVNode("div",_hoisted_340,[createBaseVNode("div",null,[r[154]||(r[154]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Part Number:",-1)),createBaseVNode("p",_hoisted_341,toDisplayString(Ne.value.part_number),1)]),createBaseVNode("div",null,[r[155]||(r[155]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Manufacturer:",-1)),createBaseVNode("p",_hoisted_342,toDisplayString(Ne.value.manufacturer),1)]),createBaseVNode("div",null,[r[156]||(r[156]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Category:",-1)),createBaseVNode("p",_hoisted_343,toDisplayString(Ne.value.category.charAt(0).toUpperCase()+Ne.value.category.slice(1)),1)]),createBaseVNode("div",null,[r[157]||(r[157]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Quality:",-1)),createBaseVNode("p",_hoisted_344,toDisplayString(Ne.value.quality_display),1)])]),createBaseVNode("div",null,[r[162]||(r[162]=createBaseVNode("h4",{class:"text-lg font-semibold text-secondary-900 dark:text-white mb-2"}," Installation Information ",-1)),createBaseVNode("div",_hoisted_345,[createBaseVNode("div",null,[r[158]||(r[158]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Difficulty:",-1)),createBaseVNode("p",_hoisted_346,toDisplayString(Ne.value.difficulty_level.charAt(0).toUpperCase()+Ne.value.difficulty_level.slice(1)),1)]),createBaseVNode("div",null,[r[159]||(r[159]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Installation Time:",-1)),createBaseVNode("p",_hoisted_347,toDisplayString(Ne.value.installation_time_display),1)]),createBaseVNode("div",null,[r[160]||(r[160]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Warranty:",-1)),createBaseVNode("p",_hoisted_348,toDisplayString(Ne.value.warranty_display),1)]),createBaseVNode("div",null,[r[161]||(r[161]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Weight:",-1)),createBaseVNode("p",_hoisted_349,toDisplayString(Ne.value.weight||"Not specified"),1)])])]),createBaseVNode("div",null,[r[165]||(r[165]=createBaseVNode("h4",{class:"text-lg font-semibold text-secondary-900 dark:text-white mb-2"}," Compatibility ",-1)),createBaseVNode("div",_hoisted_350,[createBaseVNode("div",null,[r[163]||(r[163]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Compatible Brands:",-1)),createBaseVNode("p",_hoisted_351,toDisplayString((null==(l=Ne.value.compatible_brands)?void 0:l.join(", "))||"Not specified"),1)]),createBaseVNode("div",null,[r[164]||(r[164]=createBaseVNode("span",{class:"text-sm text-secondary-500 dark:text-secondary-400"},"Compatible Models:",-1)),createBaseVNode("p",_hoisted_352,toDisplayString((null==(d=Ne.value.compatible_models)?void 0:d.join(", "))||"Not specified"),1)])])])])]),createBaseVNode("div",_hoisted_353,[createBaseVNode("div",_hoisted_354,[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_355,toDisplayString(Ne.value.formatted_price),1),createBaseVNode("p",_hoisted_356,toDisplayString(Ne.value.in_stock?"In Stock":"Out of Stock"),1)]),createBaseVNode("div",_hoisted_357,[createBaseVNode("button",{class:"btn-ghost",onClick:ya}," Close "),createBaseVNode("button",{class:"btn-primary flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors duration-200 min-w-[140px]",disabled:!Ne.value.in_stock||Ee.value||!Gt.value,onClick:ka,title:Ne.value.in_stock?Gt.value?"Add this part to your cart":"Please fix validation errors first":"Part is out of stock"},[Ee.value?(openBlock(),createElementBlock("svg",_hoisted_359,[...r[166]||(r[166]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):!Ee.value&&Gt.value&&Ne.value.in_stock?(openBlock(),createElementBlock("svg",_hoisted_360,[...r[167]||(r[167]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_361,[...r[168]||(r[168]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),createTextVNode(" "+toDisplayString(Ee.value?"Adding...":Gt.value?Ne.value.in_stock?"Add to Cart":"Out of Stock":"Fix Issues First"),1)],8,_hoisted_358),Gt.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_362,[r[169]||(r[169]=createBaseVNode("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),createTextVNode(" "+toDisplayString(Object.keys(Jt.value).length)+" issue(s) need to be fixed ",1)]))])])])])])],32)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_363,[createBaseVNode("div",_hoisted_364,[r[172]||(r[172]=createBaseVNode("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full mb-6"},[createBaseVNode("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])],-1)),r[173]||(r[173]=createBaseVNode("h2",{class:"text-3xl md:text-4xl font-bold mb-4"}," Need Help Finding the Right Parts? ",-1)),r[174]||(r[174]=createBaseVNode("p",{class:"text-xl text-white/90 mb-8 max-w-2xl mx-auto"}," Get AI-powered recommendations based on your vehicle's diagnosis. Our smart system analyzes your car's issues and suggests the perfect parts for your specific needs. ",-1)),createBaseVNode("div",_hoisted_365,[createVNode(wa,{to:"/diagnose",class:"bg-white text-primary-600 hover:bg-white/90 px-8 py-3 text-lg font-semibold rounded-xl transition-colors duration-300"},{default:withCtx(()=>[...r[170]||(r[170]=[createTextVNode(" Get AI Diagnosis ",-1)])]),_:1}),r[171]||(r[171]=createBaseVNode("button",{class:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-3 text-lg font-semibold rounded-xl transition-colors duration-300"}," Contact Support ",-1))]),r[175]||(r[175]=createBaseVNode("div",{class:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 text-center"},[createBaseVNode("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},[createBaseVNode("div",{class:"text-2xl font-bold mb-2"},"95%"),createBaseVNode("div",{class:"text-white/80"},"Accuracy Rate")]),createBaseVNode("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},[createBaseVNode("div",{class:"text-2xl font-bold mb-2"},"24/7"),createBaseVNode("div",{class:"text-white/80"},"AI Support")]),createBaseVNode("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},[createBaseVNode("div",{class:"text-2xl font-bold mb-2"},"Free"),createBaseVNode("div",{class:"text-white/80"},"Diagnosis")])],-1))])])])])]}),_:1})]),Ve.value?(openBlock(),createElementBlock("div",_hoisted_366,[createBaseVNode("div",_hoisted_367,[createBaseVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:Ft}),createBaseVNode("div",_hoisted_368,[createBaseVNode("div",_hoisted_369,[createBaseVNode("div",_hoisted_370,[createBaseVNode("div",_hoisted_371,[createBaseVNode("div",_hoisted_372,[createBaseVNode("img",{src:(null==(o=Ne.value)?void 0:o.image_url)||"/images/parts/placeholder.jpg",alt:null==(i=Ne.value)?void 0:i.name,class:"w-full h-full object-cover",loading:"lazy"},null,8,_hoisted_373),createBaseVNode("div",_hoisted_374,[createBaseVNode("span",{class:normalizeClass(["px-3 py-1 text-sm font-medium rounded-full shadow-sm",unref(F)(null!=(u=null==(d=unref(O)(null==(l=Ne.value)?void 0:l.id))?void 0:d.stock_quantity)?u:null==(c=Ne.value)?void 0:c.stock_quantity)])},toDisplayString(unref(R)(null!=(x=null==(m=unref(O)(null==(p=Ne.value)?void 0:p.id))?void 0:m.stock_quantity)?x:null==(f=Ne.value)?void 0:f.stock_quantity)),3)]),(null==(b=Ne.value)?void 0:b.ai_recommended)?(openBlock(),createElementBlock("div",_hoisted_375,[...r[176]||(r[176]=[createBaseVNode("span",{class:"px-3 py-1 text-sm font-medium rounded-full shadow-sm bg-gradient-to-r from-blue-500 to-purple-500 text-white"}," AI Recommended ",-1)])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_376,[createBaseVNode("div",_hoisted_377,toDisplayString((null==(B=Ne.value)?void 0:B.brand)||"Unknown Brand"),1),createBaseVNode("h3",_hoisted_378,toDisplayString(null==(w=Ne.value)?void 0:w.name),1),createBaseVNode("div",_hoisted_379,[createBaseVNode("div",_hoisted_380,[r[177]||(r[177]=createBaseVNode("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),createBaseVNode("span",_hoisted_381,toDisplayString(parseFloat((null==(N=Ne.value)?void 0:N.rating)||0).toFixed(1)),1)]),createBaseVNode("div",_hoisted_382," ("+toDisplayString((null==(V=Ne.value)?void 0:V.review_count)||0)+" reviews) ",1)]),createBaseVNode("div",_hoisted_383,[createBaseVNode("div",_hoisted_384,toDisplayString((null==($=Ne.value)?void 0:$.formatted_price)||"$0.00"),1),createBaseVNode("div",_hoisted_385,toDisplayString((null==(A=Ne.value)?void 0:A.condition)||"New")+"  Part #"+toDisplayString((null==(E=Ne.value)?void 0:E.part_number)||"N/A"),1)]),createBaseVNode("div",_hoisted_386,[r[178]||(r[178]=createBaseVNode("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Description",-1)),createBaseVNode("p",_hoisted_387,toDisplayString((null==(j=Ne.value)?void 0:j.description)||"No description available."),1)]),(null==(U=Ne.value)?void 0:U.features)&&Ne.value.features.length>0?(openBlock(),createElementBlock("div",_hoisted_388,[r[180]||(r[180]=createBaseVNode("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Features",-1)),createBaseVNode("ul",_hoisted_389,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ne.value.features,e=>(openBlock(),createElementBlock("li",{key:e,class:"flex items-center gap-2"},[r[179]||(r[179]=createBaseVNode("svg",{class:"w-4 h-4 text-green-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),createTextVNode(" "+toDisplayString(e),1)]))),128))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_390,["carwise"===(null==(W=Ne.value)?void 0:W.source)?(openBlock(),createElementBlock("button",{key:0,onClick:r[23]||(r[23]=e=>et(Ne.value)),disabled:(null!=(le=null==(re=unref(O)(null==(Z=Ne.value)?void 0:Z.id))?void 0:re.stock_quantity)?le:null==(ie=Ne.value)?void 0:ie.stock_quantity)<=0,class:normalizeClass(["flex-1 text-sm font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",(null!=(Fe=null==($e=unref(O)(null==(ve=Ne.value)?void 0:ve.id))?void 0:$e.stock_quantity)?Fe:null==(Me=Ne.value)?void 0:Me.stock_quantity)>0?"bg-primary-600 hover:bg-primary-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[(null!=(lt=null==(rt=unref(O)(null==(Ye=Ne.value)?void 0:Ye.id))?void 0:rt.stock_quantity)?lt:null==(st=Ne.value)?void 0:st.stock_quantity)>0?(openBlock(),createElementBlock("svg",_hoisted_392,[...r[181]||(r[181]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_393,[...r[182]||(r[182]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18 12M6 6l12 12"},null,-1)])])),createTextVNode(" "+toDisplayString((null!=(na=null==(Zt=unref(O)(null==(nt=Ne.value)?void 0:nt.id))?void 0:Zt.stock_quantity)?na:null==(Kt=Ne.value)?void 0:Kt.stock_quantity)>0?"Add to Cart":"Out of Stock"),1)],10,_hoisted_391)):(openBlock(),createElementBlock("button",{key:1,onClick:r[24]||(r[24]=e=>ma(Ne.value)),class:"flex-1 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"},[r[183]||(r[183]=createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),createTextVNode(" View on "+toDisplayString("ebay"===(null==(ca=Ne.value)?void 0:ca.source)?"eBay":"Amazon"),1)])),createBaseVNode("button",{onClick:r[25]||(r[25]=e=>unref(_)(Ne.value)),class:normalizeClass(["px-4 py-3 rounded-lg transition-colors duration-200 flex items-center justify-center",unref(h)(null==(va=Ne.value)?void 0:va.id)?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-400"])},[...r[184]||(r[184]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)])],2)])])])]),createBaseVNode("div",{class:"bg-gray-50 dark:bg-secondary-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[createBaseVNode("button",{onClick:Ft,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):createCommentVNode("",!0),Se.value?(openBlock(),createElementBlock("div",_hoisted_394,[createBaseVNode("div",_hoisted_395,[createBaseVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:Ut}),createBaseVNode("div",_hoisted_396,[createBaseVNode("div",_hoisted_397,[createBaseVNode("div",{class:"flex items-center justify-between mb-6"},[r[186]||(r[186]=createBaseVNode("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Compare Parts",-1)),createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("button",{onClick:Wt,class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}," Clear All "),createBaseVNode("button",{onClick:Ut,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},[...r[185]||(r[185]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),createBaseVNode("div",_hoisted_398,[createBaseVNode("table",_hoisted_399,[createBaseVNode("thead",_hoisted_400,[createBaseVNode("tr",null,[r[187]||(r[187]=createBaseVNode("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Feature",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("th",{key:e.id,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},[createBaseVNode("div",_hoisted_401,[createBaseVNode("img",{src:e.image_url||"/images/parts/placeholder.jpg",alt:e.name,class:"w-16 h-16 object-cover rounded-lg mb-2"},null,8,_hoisted_402),createBaseVNode("span",_hoisted_403,toDisplayString(e.name),1),createBaseVNode("button",{onClick:t=>{return a=e.id,__async(null,null,function*(){try{(yield v(a))&&ae("Removed from compare")}catch(e){oe("Error","Failed to remove item from compare list")}});var a},class:"mt-1 text-red-500 hover:text-red-700 text-xs"}," Remove ",8,_hoisted_404)])]))),128))])]),createBaseVNode("tbody",_hoisted_405,[createBaseVNode("tr",null,[r[188]||(r[188]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Brand",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},toDisplayString(e.brand||"Unknown"),1))),128))]),createBaseVNode("tr",null,[r[189]||(r[189]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Price",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},[createBaseVNode("span",_hoisted_406,toDisplayString(e.formatted_price||"$0.00"),1)]))),128))]),createBaseVNode("tr",null,[r[191]||(r[191]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Rating",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},[createBaseVNode("div",_hoisted_407,[r[190]||(r[190]=createBaseVNode("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),createBaseVNode("span",null,toDisplayString(parseFloat(e.rating||0).toFixed(1)),1)])]))),128))]),createBaseVNode("tr",null,[r[192]||(r[192]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Reviews",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},toDisplayString(e.review_count||0),1))),128))]),createBaseVNode("tr",null,[r[193]||(r[193]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Condition",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},toDisplayString(e.condition||"New"),1))),128))]),createBaseVNode("tr",null,[r[194]||(r[194]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Stock",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>{var t,a,r,o;return openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},[createBaseVNode("span",{class:normalizeClass([unref(F)(null!=(a=null==(t=unref(O)(e.id))?void 0:t.stock_quantity)?a:e.stock_quantity),"px-2 py-1 text-xs font-medium rounded-full"])},toDisplayString(unref(R)(null!=(o=null==(r=unref(O)(e.id))?void 0:r.stock_quantity)?o:e.stock_quantity)),3)])}),128))]),createBaseVNode("tr",null,[r[195]||(r[195]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Part Number",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>(openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},toDisplayString(e.part_number||"N/A"),1))),128))]),createBaseVNode("tr",null,[r[196]||(r[196]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},"Actions",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),e=>{var t,a,r,o,s,i;return openBlock(),createElementBlock("td",{key:e.id,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"},[createBaseVNode("div",_hoisted_408,[createBaseVNode("button",{onClick:t=>(e=>{Ne.value=e,Ve.value=!0,document.body.style.overflow="hidden"})(e),class:"px-3 py-1 bg-primary-600 text-white text-xs rounded hover:bg-primary-700"}," Quick View ",8,_hoisted_409),createBaseVNode("button",{onClick:t=>et(e),disabled:(null!=(a=null==(t=unref(O)(e.id))?void 0:t.stock_quantity)?a:e.stock_quantity)<=0,class:normalizeClass(["px-3 py-1 text-xs rounded",(null!=(o=null==(r=unref(O)(e.id))?void 0:r.stock_quantity)?o:e.stock_quantity)>0?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},toDisplayString((null!=(i=null==(s=unref(O)(e.id))?void 0:s.stock_quantity)?i:e.stock_quantity)>0?"Add to Cart":"Out of Stock"),11,_hoisted_410)])])}),128))])])])])]),createBaseVNode("div",{class:"bg-gray-50 dark:bg-secondary-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[createBaseVNode("button",{onClick:Ut,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):createCommentVNode("",!0)],64)}}},CarParts=_export_sfc(_sfc_main,[["__scopeId","data-v-07cbebfb"]]);export{CarParts as default};
