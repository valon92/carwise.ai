var e=(e,t,a)=>new Promise((s,r)=>{var o=e=>{try{n(a.next(e))}catch(t){r(t)}},i=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,i);n((a=a.apply(e,t)).next())});import{b as t,i as a,f as s,t as r,F as o,q as i,n,s as l,g as d,m as c,u,v as m,x as p,y as g,z as y,e as x,p as v,h,r as k,A as b,c as f,o as w,B as C,C as _,D as M}from"./vendor-DY_W8Gir.js";import{c as S,d as T}from"./api-Czr0-LeR.js";import{a as I}from"./utils-D0uvFI5R.js";import{t as F}from"./translations-CMR8tjFW.js";import{_ as j}from"./app-CHHlXeKT.js";const R={class:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-secondary-900 dark:to-secondary-800"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},z={class:"text-center mb-12"},A={class:"text-4xl font-bold text-secondary-900 dark:text-white mb-4"},B={class:"text-xl text-secondary-600 dark:text-secondary-400 max-w-3xl mx-auto"},L={class:"mb-8"},P={class:"hidden md:flex items-center justify-center space-x-4"},V={key:0,class:"w-6 h-6 text-secondary-400 mx-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={class:"md:hidden"},U={class:"text-center mb-4"},H={class:"text-lg font-semibold text-secondary-900 dark:text-white"},q={class:"text-sm text-secondary-600 dark:text-secondary-400"},$={class:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2 mb-4"},G={class:"flex justify-center space-x-2"},N={class:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8"},W={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8 order-2 xl:order-1"},O={class:"text-2xl font-semibold text-secondary-900 dark:text-white mb-6"},Y={class:"space-y-6"},J={class:"space-y-4"},Q={class:"flex items-center justify-between"},K={class:"text-lg font-medium text-secondary-900 dark:text-white"},X={key:0,class:"flex items-center text-sm text-green-600 dark:text-green-400"},Z={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ee={class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},te=["disabled"],ae={value:""},se=["value"],re={class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},oe=["disabled"],ie={value:""},ne=["value"],le={key:0,class:"text-sm text-secondary-500 dark:text-secondary-400 mt-1"},de=["max","disabled"],ce=["disabled"],ue={class:"space-y-4"},me={class:"flex items-center justify-between"},pe={key:0,class:"flex items-center text-sm text-green-600 dark:text-green-400"},ge={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ye=["disabled"],xe=["disabled"],ve={class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},he={class:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-1 mb-3 bg-secondary-100 dark:bg-secondary-700 rounded-lg p-1"},ke={key:0},be=["placeholder"],fe={key:1,class:"space-y-4"},we={key:0,class:"p-4 bg-warning-50 dark:bg-warning-900/20 border border-warning-200 dark:border-warning-800 rounded-lg"},Ce={class:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 p-6 bg-secondary-50 dark:bg-secondary-700 rounded-lg"},_e=["disabled"],Me={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},Te={class:"text-center"},Ie={class:"text-sm font-medium text-secondary-700 dark:text-secondary-300"},Fe={key:0,class:"text-xs text-secondary-500 dark:text-secondary-500"},je={key:1,class:"text-xs text-secondary-400 dark:text-secondary-500"},Re={key:1,class:"p-4 bg-secondary-50 dark:bg-secondary-700 rounded-lg"},De={class:"flex items-center space-x-4"},ze=["src"],Ae=["disabled"],Be={key:2,class:"p-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800"},Le={class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3"},Pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Ve=["value"],Ee={class:"ml-2 text-sm text-secondary-700 dark:text-secondary-300"},Ue={key:0,class:"p-4 bg-danger-50 dark:bg-danger-900/20 border border-danger-200 dark:border-danger-800 rounded-lg"},He={class:"flex items-start space-x-3"},qe={class:"mt-2 text-sm text-danger-700 dark:text-danger-300 list-disc list-inside space-y-1"},$e={class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},Ge={class:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-1 mb-4 bg-secondary-100 dark:bg-secondary-700 rounded-lg p-1"},Ne={class:"mt-2 text-sm text-secondary-600 dark:text-secondary-400"},We={class:"text-xs text-secondary-500 dark:text-secondary-500 mt-1"},Oe={class:"mt-2 text-sm text-secondary-600 dark:text-secondary-400"},Ye={class:"text-xs text-secondary-500 dark:text-secondary-500 mt-1"},Je={class:"mt-2 text-sm text-secondary-600 dark:text-secondary-400"},Qe={class:"text-xs text-secondary-500 dark:text-secondary-500 mt-1"},Ke={key:3,class:"mt-4"},Xe={class:"flex flex-wrap gap-2"},Ze={key:0,class:"relative"},et=["src"],tt={key:1,class:"relative"},at=["src"],st={key:2,class:"relative"},rt=["onClick"],ot=["disabled"],it={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},nt={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lt={class:"bg-white dark:bg-secondary-800 rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8 order-1 xl:order-2"},dt={class:"text-2xl font-semibold text-secondary-900 dark:text-white mb-6"},ct={key:0,class:"text-center py-12"},ut={key:1,class:"space-y-6"},mt={class:"flex justify-between items-center mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},pt={class:"text-sm text-yellow-800"},gt={class:"flex space-x-2"},yt={class:"bg-gradient-to-r from-primary-50 to-secondary-50 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-lg p-6"},xt={class:"flex items-center justify-between mb-4"},vt={class:"text-lg font-semibold text-secondary-900 dark:text-white"},ht={class:"flex items-center space-x-4"},kt={class:"flex items-center"},bt={class:"text-sm text-secondary-600 dark:text-secondary-400"},ft={class:"text-xl font-semibold text-secondary-900 dark:text-white mb-2"},wt={class:"text-secondary-700 dark:text-secondary-300"},Ct={key:0,class:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-400"},_t={class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},Mt={class:"text-lg font-semibold text-secondary-900 dark:text-white mb-3"},St={class:"space-y-3"},Tt={class:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mr-3 mt-0.5"},It={class:"text-xs font-medium text-primary-600 dark:text-primary-400"},Ft={class:"font-medium text-secondary-900 dark:text-white"},jt={class:"text-sm text-secondary-600 dark:text-secondary-400"},Rt={class:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 rounded"},Dt={class:"text-lg font-semibold text-secondary-900 dark:text-white mb-3"},zt={class:"space-y-3"},At={class:"font-medium text-secondary-900 dark:text-white"},Bt={class:"text-sm text-secondary-600 dark:text-secondary-400"},Lt={class:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-success-100 dark:bg-success-900 text-success-600 dark:text-success-400 rounded"},Pt={key:0,class:"bg-warning-50 dark:bg-warning-900/20 rounded-lg p-6"},Vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Et={class:"text-secondary-700 dark:text-secondary-300 font-medium"},Ut={class:"font-semibold text-warning-700 dark:text-warning-300"},Ht={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-6"},qt={class:"pt-4 border-t border-secondary-200 dark:border-secondary-700"},$t={key:2,class:"text-center py-12"},Gt=j({name:"Diagnose",setup(){const t=C(),a=_(),s=k(0),r=k(!1),o=k(null),i=k(null),n=k(null),l=k(null),d=k(null),c=k([]),u=k(null),m=k([]),p=k([]),g=k("photos"),y=k("text"),x=k(!1),v=k(!1),h=k(null),M=k(""),j=k(0),R=k(null),D=k([]),z=k(null),A=k(!1),B=k([]),L=[F("vehicle_info"),F("symptoms"),F("ai_analysis"),F("results")],P=b({make:"",model:"",year:"",mileage:"",engineType:"",engineSize:"",description:"",symptoms:[]}),V=[F("engine_wont_start"),F("rough_idle"),F("stalling"),F("poor_acceleration"),F("strange_noises"),F("warning_lights_on"),F("smoke_from_exhaust"),F("overheating"),F("poor_fuel_economy"),F("transmission_issues"),F("brake_problems"),F("steering_issues"),F("electrical_problems"),F("ac_not_working"),F("suspension_problems")],E=t=>e(null,null,function*(){try{if(!t)return void(p.value=[]);const e=m.value.find(e=>e.name===t);if(!e)return void(p.value=[]);const a=yield I.get(`/api/car-models/brand/${e.id}`);a.data.success&&(p.value=a.data.data)}catch(e){p.value=[]}}),U=e=>{e.forEach(e=>{const t=e.type;let a=5,s=10485760;if(t.startsWith("video/")?(a=2,s=52428800):t.startsWith("audio/")&&(a=3,s=20971520),e.size>s)alert(`File ${e.name} is too large. Maximum size is ${Math.round(s/1048576)}MB.`);else if(c.value.length>=a)alert(`Maximum ${a} files allowed.`);else if(t.startsWith("image/")||t.startsWith("video/")||t.startsWith("audio/")){const a=new FileReader;a.onload=a=>{c.value.push({file:e,preview:a.target.result,type:t.startsWith("image/")?"image":t.startsWith("video/")?"video":"audio"})},a.readAsDataURL(e)}})},H=()=>e(null,null,function*(){try{if(!navigator.permissions)return void(A.value=!1);const e=yield navigator.permissions.query({name:"microphone"});A.value="granted"===e.state,e.onchange=()=>{A.value="granted"===e.state}}catch(e){A.value=!1}}),q=()=>(B.value=[],P.make||B.value.push("Please select a car make"),P.model||B.value.push("Please select a car model"),P.year?(P.year<1990||P.year>(new Date).getFullYear()+1)&&B.value.push("Please enter a valid year (1990 - "+((new Date).getFullYear()+1)+")"):B.value.push("Please enter the car year"),P.description.trim()||B.value.push("Please describe the problem or symptoms"),0===B.value.length),$=f(()=>"undefined"==typeof window?{cacheStatus:"Unknown",authStatus:"Unknown"}:{cacheStatus:localStorage.getItem("diagnosisCache")?"Cached":"Fresh",authStatus:localStorage.getItem("token")?"Logged In":"Not Logged In"});return w(()=>{e(null,null,function*(){try{const e=yield I.get("/api/car-brands/popular");e.data.success&&(m.value=e.data.data)}catch(e){}}),H();const a=t.query.car;a&&(t=>{e(null,null,function*(){var e;try{r.value=!0;const a=yield S.getById(t);a.data.success&&(u.value=a.data.car,P.make=u.value.brand,P.model=u.value.model,P.year=u.value.year.toString(),P.mileage=u.value.mileage?u.value.mileage.toString():"",P.engineType=u.value.fuel_type||"",P.engineSize=(null==(e=u.value.specifications)?void 0:e.engine_size)||"",E(u.value.brand))}catch(a){alert("Error loading car data. Please try again.")}finally{r.value=!1}})})(a)}),{currentStep:s,steps:L,diagnosisForm:P,commonSymptoms:V,isLoading:r,diagnosisResult:o,fileInput:i,photoInput:n,videoInput:l,audioInput:d,uploadedFiles:c,selectedCar:u,carBrands:m,carModels:p,activeMediaType:g,activeInputType:y,isRecording:x,isProcessingAudio:v,recordedAudio:h,transcribedText:M,recordingTime:j,microphonePermissionGranted:A,formErrors:B,triggerFileUpload:(e="photos")=>{"photos"===e?n.value.click():"videos"===e?l.value.click():"audio"===e&&d.value.click()},handleFileSelect:e=>{const t=Array.from(e.target.files);U(t)},handleFileDrop:e=>{const t=Array.from(e.dataTransfer.files);U(t)},removeFile:e=>{c.value.splice(e,1)},toggleRecording:()=>e(null,null,function*(){x.value?R.value&&x.value&&(R.value.stop(),x.value=!1,clearInterval(z.value)):e(null,null,function*(){try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");if(navigator.permissions&&"denied"===(yield navigator.permissions.query({name:"microphone"})).state)throw new Error("Microphone permission denied. Please enable microphone access in your browser settings.");const e=yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});R.value=new MediaRecorder(e),D.value=[],R.value.ondataavailable=e=>{D.value.push(e.data)},R.value.onstop=()=>{const t=new Blob(D.value,{type:"audio/wav"});h.value=URL.createObjectURL(t),e.getTracks().forEach(e=>e.stop())},R.value.start(),x.value=!0,j.value=0,A.value=!0,z.value=setInterval(()=>{j.value++},1e3)}catch(e){let t="Could not access microphone. ";"NotAllowedError"===e.name?t+="Please allow microphone access and try again.":"NotFoundError"===e.name?t+="No microphone found. Please connect a microphone and try again.":"NotSupportedError"===e.name?t+="Microphone access is not supported in this browser.":"NotReadableError"===e.name?t+="Microphone is being used by another application.":e.message.includes("permission denied")?t+="Microphone permission denied. Please enable microphone access in your browser settings.":t+="Please check your microphone permissions and try again.",alert(t)}})}),clearRecording:()=>{h.value=null,M.value="",j.value=0},transcribeAudio:()=>e(null,null,function*(){if(h.value){v.value=!0;try{const e=yield fetch(h.value),t=yield e.blob(),a=new FormData;a.append("audio",t,"recording.wav");const s=yield I.post("/api/transcribe-audio",a,{headers:{"Content-Type":"multipart/form-data"}});if(!s.data.success)throw new Error(s.data.message||"Transcription failed");M.value=s.data.text}catch(e){M.value="Transcription failed. Please try typing your description instead."}finally{v.value=!1}}}),useTranscribedText:()=>{P.description=M.value,y.value="text"},formatTime:e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},checkMicrophonePermission:H,validateForm:q,submitDiagnosis:()=>e(null,null,function*(){var e,t;if(!q())return void window.scrollTo({top:0,behavior:"smooth"});if(r.value)return;const i=localStorage.getItem("token"),n=localStorage.getItem("user");if(o.value=null,s.value=0,localStorage.removeItem("lastDiagnosisResult"),localStorage.removeItem("lastDiagnosisSession"),localStorage.removeItem("diagnosisCache"),sessionStorage.removeItem("diagnosisCache"),i&&localStorage.setItem("token",i),n&&localStorage.setItem("user",n),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{(e.includes("diagnosis")||e.includes("carwise"))&&caches.delete(e)})}),!(P.make&&P.model&&P.year&&P.description))return void alert("Ju lutem plotësoni të gjitha fushat e detyrueshme!");const l=localStorage.getItem("token");if(localStorage.getItem("user"),!l)return alert("Ju duhet të hyni në llogari për të dërguar diagnozën!"),void a.push("/login");r.value=!0,s.value=2;try{const a=new FormData;a.append("make",P.make),a.append("model",P.model),a.append("year",P.year),a.append("mileage",P.mileage),a.append("engine_type",P.engineType),a.append("engine_size",P.engineSize),a.append("description",P.description),P.symptoms.forEach((e,t)=>{a.append(`symptoms[${t}]`,e)});for(let[e,t]of a.entries());c.value.forEach((e,t)=>{a.append(`photos[${t}]`,e.file)});const i={make:P.make,model:P.model,year:P.year,mileage:P.mileage,engine_type:P.engineType,engine_size:P.engineSize,description:P.description,symptoms:P.symptoms||[]},n=yield T.startDiagnosis(i);try{const a=null==(e=n.data.data)?void 0:e.session_id,i=null==(t=(yield T.getResult(a)).data.data)?void 0:t.result;o.value=i,s.value=3,r.value=!1,window.$notify&&window.$notify.success("Diagnosis Complete","AI analysis has been completed successfully")}catch(d){r.value=!1,window.$notify&&window.$notify.error("Error","Failed to get diagnosis result. Please try again."),s.value=1}}catch(u){r.value=!1,s.value=1,window.$notify&&window.$notify.error("Error","Failed to submit diagnosis. Please try again.")}}),getSeverityColor:e=>{switch(e.toLowerCase()){case"low":return"bg-success-500";case"medium":return"bg-warning-500";case"high":return"bg-danger-500";default:return"bg-secondary-500"}},getSeverityTextColor:e=>{switch(e.toLowerCase()){case"low":return"text-success-600 dark:text-success-400";case"medium":return"text-warning-600 dark:text-warning-400";case"high":return"text-danger-600 dark:text-danger-400";default:return"text-secondary-600 dark:text-secondary-400"}},getSeverityText:e=>({low:F("low_priority"),medium:F("medium_priority"),high:F("high_priority"),critical:F("critical_priority")}[null==e?void 0:e.toLowerCase()]||F("medium_priority")),refreshResults:()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");localStorage.removeItem("lastDiagnosisResult"),localStorage.removeItem("lastDiagnosisSession"),localStorage.removeItem("diagnosisCache"),sessionStorage.removeItem("diagnosisCache"),e&&localStorage.setItem("token",e),t&&localStorage.setItem("user",t),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{(e.includes("diagnosis")||e.includes("carwise"))&&caches.delete(e)})}),o.value=null,window.location.href=window.location.href.split("?")[0]+"?t="+Date.now()},forceRefreshResults:()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");o.value=null,s.value=0,r.value=!1,localStorage.clear(),sessionStorage.clear(),e&&localStorage.setItem("token",e),t&&localStorage.setItem("user",t),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)})}),"indexedDB"in window&&indexedDB.databases().then(e=>{e.forEach(e=>{indexedDB.deleteDatabase(e.name)})});const a=new URL(window.location);a.searchParams.set("_t",Date.now()),a.searchParams.set("_r",Math.random()),window.location.href=a.toString()},quickLogin:()=>e(null,null,function*(){try{const e=yield fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:"test@example.com",password:"password",remember:!0})}),t=yield e.json();t.success?(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),alert("Login successful! You can now submit diagnosis."),window.location.reload()):alert("Login failed: "+t.message)}catch(e){alert("Login error: "+e.message)}}),onMakeChange:()=>{P.model="",E(P.make)},debugInfo:$,t:F}}},[["render",function(e,k,b,f,w,C){var _;const S=h("router-link");return a(),t("div",R,[s("div",D,[s("div",z,[k[34]||(k[34]=s("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full mb-6"},[s("svg",{class:"w-8 h-8 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])],-1)),s("h1",A,r(f.t("ai_powered_car_diagnosis")),1),s("p",B,r(f.t("get_instant_accurate_diagnosis")),1)]),s("div",L,[s("div",P,[(a(!0),t(o,null,i(f.steps,(e,o)=>(a(),t("div",{key:o,class:"flex items-center"},[s("div",{class:n(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300",f.currentStep>=o?"bg-primary-600 text-white":"bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-400"])},r(o+1),3),s("span",{class:n(["ml-2 text-sm font-medium transition-colors duration-300",f.currentStep>=o?"text-primary-600 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400"])},r(e),3),o<f.steps.length-1?(a(),t("svg",V,[...k[35]||(k[35]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])])):d("",!0)]))),128))]),s("div",E,[s("div",U,[s("div",{class:n(["inline-flex items-center justify-center w-12 h-12 rounded-full mb-2",f.currentStep>=0?"bg-primary-600 text-white":"bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-400"])},r(f.currentStep+1),3),s("h3",H,r(f.steps[f.currentStep]),1),s("p",q,r(f.t("step"))+" "+r(f.currentStep+1)+" "+r(f.t("of"))+" "+r(f.steps.length),1)]),s("div",$,[s("div",{class:"bg-primary-600 h-2 rounded-full transition-all duration-500 ease-out",style:l({width:(f.currentStep+1)/f.steps.length*100+"%"})},null,4)]),s("div",G,[(a(!0),t(o,null,i(f.steps,(e,s)=>(a(),t("div",{key:s,class:n(["w-2 h-2 rounded-full transition-all duration-300",f.currentStep>=s?"bg-primary-600":"bg-secondary-300 dark:bg-secondary-600"])},null,2))),128))])])]),s("div",N,[s("div",W,[s("h2",O,r(f.t("vehicle_information_symptoms")),1),s("div",Y,[s("div",J,[s("div",Q,[s("h3",K,r(f.t("vehicle_details")),1),f.selectedCar?(a(),t("div",X,[k[36]||(k[36]=s("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),c(" "+r(f.t("pre_filled_from_your_car")),1)])):d("",!0)]),s("div",Z,[s("div",null,[s("label",ee,r(f.t("make"))+" * ",1),u(s("select",{"onUpdate:modelValue":k[0]||(k[0]=e=>f.diagnosisForm.make=e),class:"input",disabled:f.selectedCar,required:"",onChange:k[1]||(k[1]=(...e)=>f.onMakeChange&&f.onMakeChange(...e))},[s("option",ae,r(f.t("select_make")),1),(a(!0),t(o,null,i(f.carBrands,e=>(a(),t("option",{key:e.id,value:e.name},r(e.name)+" ("+r(e.country)+") ",9,se))),128))],40,te),[[m,f.diagnosisForm.make]])]),s("div",null,[s("label",re,r(f.t("model"))+" * ",1),u(s("select",{"onUpdate:modelValue":k[2]||(k[2]=e=>f.diagnosisForm.model=e),class:"input",disabled:f.selectedCar||!f.diagnosisForm.make,required:""},[s("option",ie,r(f.t("select_model")),1),(a(!0),t(o,null,i(f.carModels,e=>(a(),t("option",{key:e.id,value:e.name},r(e.name)+" "+r(e.generation?`(${e.generation})`:""),9,ne))),128))],8,oe),[[m,f.diagnosisForm.model]]),f.diagnosisForm.make?d("",!0):(a(),t("div",le,r(f.t("please_select_make_first")),1))]),s("div",null,[k[37]||(k[37]=s("label",{class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"}," Year * ",-1)),u(s("input",{"onUpdate:modelValue":k[3]||(k[3]=e=>f.diagnosisForm.year=e),type:"number",placeholder:"e.g., 2020",min:"1990",max:(new Date).getFullYear()+1,class:"input",disabled:f.selectedCar,required:""},null,8,de),[[p,f.diagnosisForm.year]])]),s("div",null,[k[38]||(k[38]=s("label",{class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"}," Mileage ",-1)),u(s("input",{"onUpdate:modelValue":k[4]||(k[4]=e=>f.diagnosisForm.mileage=e),type:"number",placeholder:"e.g., 50000",class:"input",disabled:f.selectedCar},null,8,ce),[[p,f.diagnosisForm.mileage]])])])]),s("div",ue,[s("div",me,[k[40]||(k[40]=s("h3",{class:"text-lg font-medium text-secondary-900 dark:text-white"},"Engine Details",-1)),f.selectedCar?(a(),t("div",pe,[...k[39]||(k[39]=[s("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),c(" Pre-filled from your car ",-1)])])):d("",!0)]),s("div",ge,[s("div",null,[k[42]||(k[42]=s("label",{class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"}," Engine Type ",-1)),u(s("select",{"onUpdate:modelValue":k[5]||(k[5]=e=>f.diagnosisForm.engineType=e),class:"input",disabled:f.selectedCar},[...k[41]||(k[41]=[g('<option value="">Select Engine Type</option><option value="Gasoline">Gasoline</option><option value="Diesel">Diesel</option><option value="Hybrid">Hybrid</option><option value="Electric">Electric</option><option value="Other">Other</option>',6)])],8,ye),[[m,f.diagnosisForm.engineType]])]),s("div",null,[k[43]||(k[43]=s("label",{class:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"}," Engine Size ",-1)),u(s("input",{"onUpdate:modelValue":k[6]||(k[6]=e=>f.diagnosisForm.engineSize=e),type:"text",placeholder:"e.g., 2.0L, 3.5L",class:"input",disabled:f.selectedCar},null,8,xe),[[p,f.diagnosisForm.engineSize]])])])]),s("div",null,[s("label",ve,r(f.t("problem_description"))+" * ",1),s("div",he,[s("button",{type:"button",onClick:k[7]||(k[7]=e=>f.activeInputType="text"),class:n(["flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all duration-200","text"===f.activeInputType?"bg-white dark:bg-secondary-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-secondary-600 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-secondary-200"])},[...k[44]||(k[44]=[s("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),c(" Text ",-1)])],2),s("button",{type:"button",onClick:k[8]||(k[8]=e=>f.activeInputType="voice"),class:n(["flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all duration-200","voice"===f.activeInputType?"bg-white dark:bg-secondary-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-secondary-600 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-secondary-200"])},[...k[45]||(k[45]=[s("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})],-1),c(" Voice ",-1)])],2)]),"text"===f.activeInputType?(a(),t("div",ke,[u(s("textarea",{"onUpdate:modelValue":k[9]||(k[9]=e=>f.diagnosisForm.description=e),rows:"4",placeholder:f.t("describe_symptoms_placeholder"),class:"input",required:""},null,8,be),[[p,f.diagnosisForm.description]])])):d("",!0),"voice"===f.activeInputType?(a(),t("div",fe,[f.microphonePermissionGranted?d("",!0):(a(),t("div",we,[...k[46]||(k[46]=[g('<div class="flex items-start space-x-3"><svg class="w-5 h-5 text-warning-600 dark:text-warning-400 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-medium text-warning-800 dark:text-warning-200">Microphone Permission Required</h4><p class="text-sm text-warning-700 dark:text-warning-300 mt-1"> To record audio, please allow microphone access when prompted by your browser. </p><div class="mt-2 text-xs text-warning-600 dark:text-warning-400"><p><strong>Chrome/Edge:</strong> Click the microphone icon in the address bar and select &quot;Allow&quot;</p><p><strong>Firefox:</strong> Click &quot;Allow&quot; when the permission dialog appears</p><p><strong>Safari:</strong> Go to Safari &gt; Preferences &gt; Websites &gt; Microphone and allow access</p></div></div></div>',1)])])),s("div",Ce,[s("button",{type:"button",onClick:k[10]||(k[10]=(...e)=>f.toggleRecording&&f.toggleRecording(...e)),disabled:f.isProcessingAudio,class:n(["flex items-center justify-center w-16 h-16 rounded-full transition-all duration-200",f.isRecording?"bg-danger-500 hover:bg-danger-600 text-white animate-pulse":"bg-primary-500 hover:bg-primary-600 text-white"])},[f.isRecording?(a(),t("svg",Se,[...k[48]||(k[48]=[s("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"},null,-1)])])):(a(),t("svg",Me,[...k[47]||(k[47]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"},null,-1)])]))],10,_e),s("div",Te,[s("p",Ie,r(f.isRecording?"Recording...":"Click to record"),1),f.recordingTime>0?(a(),t("p",Fe,r(f.formatTime(f.recordingTime)),1)):d("",!0),f.isRecording||f.recordedAudio?d("",!0):(a(),t("p",je," Speak clearly into your microphone "))])]),f.recordedAudio?(a(),t("div",Re,[s("div",De,[s("audio",{src:f.recordedAudio,controls:"",class:"flex-1"},null,8,ze),s("button",{type:"button",onClick:k[11]||(k[11]=(...e)=>f.transcribeAudio&&f.transcribeAudio(...e)),disabled:f.isProcessingAudio,class:"btn-primary text-sm"},r(f.isProcessingAudio?"Transcribing...":"Convert to Text"),9,Ae),s("button",{type:"button",onClick:k[12]||(k[12]=(...e)=>f.clearRecording&&f.clearRecording(...e)),class:"btn-secondary text-sm"}," Clear ")])])):d("",!0),f.transcribedText?(a(),t("div",Be,[k[49]||(k[49]=s("label",{class:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2"}," Transcribed Text: ",-1)),u(s("textarea",{"onUpdate:modelValue":k[13]||(k[13]=e=>f.transcribedText=e),rows:"3",class:"input text-sm",placeholder:"Transcribed text will appear here..."},null,512),[[p,f.transcribedText]]),s("button",{type:"button",onClick:k[14]||(k[14]=(...e)=>f.useTranscribedText&&f.useTranscribedText(...e)),class:"mt-2 btn-primary text-sm"}," Use This Text ")])):d("",!0)])):d("",!0)]),s("div",null,[s("label",Le,r(f.t("common_symptoms_select_all")),1),s("div",Pe,[(a(!0),t(o,null,i(f.commonSymptoms,e=>(a(),t("label",{key:e,class:"flex items-center"},[u(s("input",{"onUpdate:modelValue":k[15]||(k[15]=e=>f.diagnosisForm.symptoms=e),type:"checkbox",value:e,class:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"},null,8,Ve),[[M,f.diagnosisForm.symptoms]]),s("span",Ee,r(e),1)]))),128))])]),f.formErrors.length>0?(a(),t("div",Ue,[s("div",He,[k[51]||(k[51]=s("svg",{class:"w-5 h-5 text-danger-600 dark:text-danger-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("div",null,[k[50]||(k[50]=s("h4",{class:"text-sm font-medium text-danger-800 dark:text-danger-200"},"Please fix the following errors:",-1)),s("ul",qe,[(a(!0),t(o,null,i(f.formErrors,e=>(a(),t("li",{key:e},r(e),1))),128))])])])])):d("",!0),s("div",null,[s("label",$e,r(f.t("upload_media_optional")),1),s("div",Ge,[s("button",{type:"button",onClick:k[16]||(k[16]=e=>f.activeMediaType="photos"),class:n(["flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all duration-200","photos"===f.activeMediaType?"bg-white dark:bg-secondary-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-secondary-600 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-secondary-200"])},[...k[52]||(k[52]=[s("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c(" Photos ",-1)])],2),s("button",{type:"button",onClick:k[17]||(k[17]=e=>f.activeMediaType="videos"),class:n(["flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all duration-200","videos"===f.activeMediaType?"bg-white dark:bg-secondary-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-secondary-600 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-secondary-200"])},[...k[53]||(k[53]=[s("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),c(" Videos ",-1)])],2),s("button",{type:"button",onClick:k[18]||(k[18]=e=>f.activeMediaType="audio"),class:n(["flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all duration-200","audio"===f.activeMediaType?"bg-white dark:bg-secondary-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-secondary-600 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-secondary-200"])},[...k[54]||(k[54]=[s("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})],-1),c(" Audio ",-1)])],2)]),"photos"===f.activeMediaType?(a(),t("div",{key:0,onClick:k[19]||(k[19]=e=>f.triggerFileUpload("photos")),onDragover:k[20]||(k[20]=y(()=>{},["prevent"])),onDrop:k[21]||(k[21]=y((...e)=>f.handleFileDrop&&f.handleFileDrop(...e),["prevent"])),class:"border-2 border-dashed border-secondary-300 dark:border-secondary-600 rounded-lg p-6 text-center cursor-pointer hover:border-primary-400 transition-colors duration-200"},[k[55]||(k[55]=s("svg",{class:"mx-auto h-12 w-12 text-secondary-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[s("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("p",Ne,r(f.t("drag_drop_photos_here")),1),s("p",We,r(f.t("max_5_photos_10mb_each")),1)],32)):d("",!0),"videos"===f.activeMediaType?(a(),t("div",{key:1,onClick:k[22]||(k[22]=e=>f.triggerFileUpload("videos")),onDragover:k[23]||(k[23]=y(()=>{},["prevent"])),onDrop:k[24]||(k[24]=y((...e)=>f.handleFileDrop&&f.handleFileDrop(...e),["prevent"])),class:"border-2 border-dashed border-secondary-300 dark:border-secondary-600 rounded-lg p-6 text-center cursor-pointer hover:border-primary-400 transition-colors duration-200"},[k[56]||(k[56]=s("svg",{class:"mx-auto h-12 w-12 text-secondary-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[s("path",{d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("p",Oe,r(f.t("drag_drop_videos_here")),1),s("p",Ye,r(f.t("max_2_videos_50mb_each")),1)],32)):d("",!0),"audio"===f.activeMediaType?(a(),t("div",{key:2,onClick:k[25]||(k[25]=e=>f.triggerFileUpload("audio")),onDragover:k[26]||(k[26]=y(()=>{},["prevent"])),onDrop:k[27]||(k[27]=y((...e)=>f.handleFileDrop&&f.handleFileDrop(...e),["prevent"])),class:"border-2 border-dashed border-secondary-300 dark:border-secondary-600 rounded-lg p-6 text-center cursor-pointer hover:border-primary-400 transition-colors duration-200"},[k[57]||(k[57]=s("svg",{class:"mx-auto h-12 w-12 text-secondary-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[s("path",{d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("p",Je,r(f.t("drag_drop_audio_here")),1),s("p",Qe,r(f.t("max_3_audio_20mb_each")),1)],32)):d("",!0),s("input",{ref:"photoInput",type:"file",multiple:"",accept:"image/*",onChange:k[28]||(k[28]=(...e)=>f.handleFileSelect&&f.handleFileSelect(...e)),class:"hidden"},null,544),s("input",{ref:"videoInput",type:"file",multiple:"",accept:"video/*",onChange:k[29]||(k[29]=(...e)=>f.handleFileSelect&&f.handleFileSelect(...e)),class:"hidden"},null,544),s("input",{ref:"audioInput",type:"file",multiple:"",accept:"audio/*",onChange:k[30]||(k[30]=(...e)=>f.handleFileSelect&&f.handleFileSelect(...e)),class:"hidden"},null,544),f.uploadedFiles.length>0?(a(),t("div",Ke,[s("div",Xe,[(a(!0),t(o,null,i(f.uploadedFiles,(e,r)=>(a(),t("div",{key:r,class:"relative"},["image"===e.type?(a(),t("div",Ze,[s("img",{src:e.preview,class:"w-20 h-20 object-cover rounded-lg"},null,8,et),k[58]||(k[58]=s("div",{class:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded"},[s("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),c(" IMG ")],-1))])):"video"===e.type?(a(),t("div",tt,[s("video",{src:e.preview,class:"w-20 h-20 object-cover rounded-lg",muted:""}," Your browser does not support video preview. ",8,at),k[59]||(k[59]=g('<div class="absolute inset-0 flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div><div class="absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded"><svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> VID </div>',2))])):"audio"===e.type?(a(),t("div",st,[...k[60]||(k[60]=[g('<div class="w-20 h-20 bg-secondary-100 dark:bg-secondary-700 rounded-lg flex items-center justify-center"><svg class="w-8 h-8 text-secondary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg></div><div class="absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded"><svg class="w-3 h-3 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg> AUD </div>',2)])])):d("",!0),s("button",{onClick:e=>f.removeFile(r),class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors duration-200"}," × ",8,rt)]))),128))])])):d("",!0)]),s("button",{type:"button",disabled:f.isLoading,onClick:k[31]||(k[31]=(...e)=>f.submitDiagnosis&&f.submitDiagnosis(...e)),class:"btn-primary w-full flex items-center justify-center py-4 text-lg font-semibold"},[f.isLoading?(a(),t("svg",it,[...k[61]||(k[61]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(a(),t("svg",nt,[...k[62]||(k[62]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"},null,-1)])])),c(" "+r(f.isLoading?f.t("analyzing"):f.t("start_ai_diagnosis")),1)],8,ot)])]),s("div",lt,[s("h2",dt,r(f.t("diagnosis_results")),1),f.isLoading?(a(),t("div",ct,[...k[63]||(k[63]=[g('<div class="inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full mb-4"><svg class="animate-spin w-8 h-8 text-primary-600 dark:text-primary-400" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div><h3 class="text-lg font-medium text-secondary-900 dark:text-white mb-2">AI Analysis in Progress</h3><p class="text-secondary-600 dark:text-secondary-400 mb-4"> Our AI is analyzing your vehicle information and symptoms... </p><div class="flex justify-center space-x-2"><div class="w-2 h-2 bg-primary-600 rounded-full animate-bounce"></div><div class="w-2 h-2 bg-primary-600 rounded-full animate-bounce" style="animation-delay:0.1s;"></div><div class="w-2 h-2 bg-primary-600 rounded-full animate-bounce" style="animation-delay:0.2s;"></div></div>',4)])])):f.diagnosisResult?(a(),t("div",ut,[s("div",mt,[s("div",pt,[k[64]||(k[64]=s("strong",null,"Debug Info:",-1)),c(" AI Provider: "+r((null==(_=f.diagnosisResult)?void 0:_.ai_provider)||"Unknown")+" | Cache Status: "+r(f.debugInfo.cacheStatus)+" | Auth: "+r(f.debugInfo.authStatus),1)]),s("div",gt,[s("button",{onClick:k[32]||(k[32]=(...e)=>f.quickLogin&&f.quickLogin(...e)),class:"btn-secondary text-sm bg-green-100 hover:bg-green-200 text-green-700 border-green-300",title:"Quick login for testing"}," 🔑 Quick Login "),s("button",{onClick:k[33]||(k[33]=(...e)=>f.forceRefreshResults&&f.forceRefreshResults(...e)),class:"btn-secondary text-sm bg-red-100 hover:bg-red-200 text-red-700 border-red-300",title:"Force refresh to get latest results from Gemini API"}," 🚨 Force Refresh (Clear Cache) ")])]),s("div",yt,[s("div",xt,[s("h3",vt,r(f.t("diagnosis_summary")),1),s("div",ht,[s("div",kt,[s("div",{class:n(["w-3 h-3 rounded-full mr-2",f.getSeverityColor(f.diagnosisResult.severity)])},null,2),s("span",{class:n(["font-medium text-sm",f.getSeverityTextColor(f.diagnosisResult.severity)])},r(f.getSeverityText(f.diagnosisResult.severity)),3)]),s("div",bt,r(f.diagnosisResult.confidence_score||75)+"% Confidence ",1)])]),s("h4",ft,r(f.diagnosisResult.problem_title||"Vehicle Issue Detected"),1),s("p",wt,r(f.diagnosisResult.problem_description||f.diagnosisResult.summary),1),f.diagnosisResult.ai_insights?(a(),t("div",Ct,[k[66]||(k[66]=s("h5",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2 flex items-center"},[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),c(" AI Insights ")],-1)),s("ul",_t,[(a(!0),t(o,null,i(f.diagnosisResult.ai_insights,(e,o)=>(a(),t("li",{key:o,class:"flex items-start"},[k[65]||(k[65]=s("span",{class:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 mr-2 flex-shrink-0"},null,-1)),c(" "+r(e),1)]))),128))])])):d("",!0)]),s("div",null,[s("h3",Mt,r(f.t("likely_causes")),1),s("div",St,[(a(!0),t(o,null,i(f.diagnosisResult.likely_causes||f.diagnosisResult.likelyCauses,(e,o)=>(a(),t("div",{key:o,class:"flex items-start"},[s("div",Tt,[s("span",It,r(o+1),1)]),s("div",null,[s("h4",Ft,r(e.title),1),s("p",jt,r(e.description),1),s("span",Rt,r(e.probability)+"% probability ",1)])]))),128))])]),s("div",null,[s("h3",Dt,r(f.t("recommended_actions")),1),s("div",zt,[(a(!0),t(o,null,i(f.diagnosisResult.recommended_actions||f.diagnosisResult.recommendedActions,(e,o)=>(a(),t("div",{key:o,class:"flex items-start"},[k[67]||(k[67]=s("div",{class:"w-6 h-6 bg-success-100 dark:bg-success-900 rounded-full flex items-center justify-center mr-3 mt-0.5"},[s("svg",{class:"w-3 h-3 text-success-600 dark:text-success-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),s("div",null,[s("h4",At,r(e.title),1),s("p",Bt,r(e.description),1),s("span",Lt,r(e.urgency),1)])]))),128))])]),f.diagnosisResult.estimated_costs?(a(),t("div",Pt,[k[68]||(k[68]=s("h3",{class:"text-lg font-semibold text-secondary-900 dark:text-white mb-4 flex items-center"},[s("svg",{class:"w-5 h-5 mr-2 text-warning-600 dark:text-warning-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),c(" Estimated Costs ")],-1)),s("div",Vt,[(a(!0),t(o,null,i(f.diagnosisResult.estimated_costs,e=>(a(),t("div",{key:e.service,class:"flex justify-between items-center p-3 bg-white dark:bg-secondary-800 rounded-lg border border-warning-200 dark:border-warning-700"},[s("span",Et,r(e.service),1),s("span",Ut," €"+r(e.min)+" - €"+r(e.max),1)]))),128))]),k[69]||(k[69]=s("p",{class:"text-xs text-warning-600 dark:text-warning-400 mt-3"}," * Cost estimates are approximate and may vary based on location and specific vehicle requirements. ",-1))])):d("",!0),f.diagnosisResult.requires_immediate_attention?(a(),t("div",Ht,[...k[70]||(k[70]=[g('<div class="flex items-center"><svg class="w-6 h-6 text-red-600 dark:text-red-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg><div><h4 class="font-semibold text-red-900 dark:text-red-100">Immediate Attention Required</h4><p class="text-sm text-red-700 dark:text-red-300 mt-1"> This issue requires immediate professional attention to prevent further damage or safety risks. </p></div></div>',1)])])):d("",!0),s("div",qt,[x(S,{to:"/mechanics",class:"btn-primary w-full flex items-center justify-center"},{default:v(()=>[...k[71]||(k[71]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),c(" Find Certified Mechanics ",-1)])]),_:1})])])):(a(),t("div",$t,[...k[72]||(k[72]=[g('<svg class="mx-auto h-16 w-16 text-secondary-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><h3 class="text-lg font-medium text-secondary-900 dark:text-white mb-2">Ready for Diagnosis</h3><p class="text-secondary-600 dark:text-secondary-400 mb-6"> Fill out the form and submit to get AI-powered diagnosis results. </p><div class="bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4 text-left max-w-md mx-auto"><h4 class="text-sm font-semibold text-primary-800 dark:text-primary-200 mb-3">💡 Quick Tips:</h4><ul class="text-sm text-primary-700 dark:text-primary-300 space-y-2"><li class="flex items-start"><span class="mr-2">📝</span><span>Describe symptoms in detail for better accuracy</span></li><li class="flex items-start"><span class="mr-2">📸</span><span>Upload photos or videos of the problem area</span></li><li class="flex items-start"><span class="mr-2">🎤</span><span>Use voice recording for hands-free input</span></li><li class="flex items-start"><span class="mr-2">✅</span><span>Select all relevant symptoms from the checklist</span></li></ul></div>',4)])]))])])])])}]]);export{Gt as default};
