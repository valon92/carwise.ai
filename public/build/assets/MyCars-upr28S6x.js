var e=(e,a,t)=>new Promise((l,r)=>{var s=e=>{try{o(t.next(e))}catch(a){r(a)}},n=e=>{try{o(t.throw(e))}catch(a){r(a)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(s,n);o((t=t.apply(e,a)).next())});import{r as a,y as t,D as l,B as r,c as s,g as n,b as o,e as i,l as d,t as c,F as u,m,k as g,u as y,q as v,v as p,s as x,o as f,n as b}from"./vendor-xLtlEMvp.js";import{a as h,b as k,c as w}from"./api-BVJ8Bwme.js";import{_}from"./app-C6M8kROF.js";import"./utils-BruBI8_W.js";const C=a(null),M=a(!1),I=t(()=>!!C.value);(()=>{const e=localStorage.getItem("user");if(e)try{C.value=JSON.parse(e)}catch(a){localStorage.removeItem("user"),localStorage.removeItem("token")}})();const F={class:"min-h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50 dark:from-secondary-900 dark:via-secondary-800 dark:to-primary-900"},V={class:"relative overflow-hidden"},S={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},A={class:"text-center"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 mb-12"},U={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},$={class:"card glass text-center"},B={class:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2"},H={class:"card glass text-center"},D={class:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2"},P={class:"card glass text-center"},E={class:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12"},z={key:0,class:"grid grid-cols-1 gap-8"},T={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},L={class:"space-y-6"},O={class:"flex justify-between items-start"},J={class:"flex-1"},Y={class:"text-3xl font-bold text-secondary-900 dark:text-white mb-2"},R={class:"text-xl text-secondary-600 dark:text-secondary-400 mb-3"},q={class:"flex items-center space-x-6 text-sm text-secondary-500 dark:text-secondary-500"},G={key:0,class:"flex items-center"},W={key:1,class:"flex items-center"},K={class:"flex space-x-2"},Q=["onClick"],X=["onClick"],Z={class:"grid grid-cols-2 gap-4"},ee={key:0,class:"text-center p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},ae={class:"text-lg font-semibold text-secondary-900 dark:text-white capitalize"},te={key:1,class:"text-center p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},le={class:"text-lg font-semibold text-secondary-900 dark:text-white capitalize"},re={key:2,class:"text-center p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},se={class:"text-lg font-semibold text-secondary-900 dark:text-white capitalize"},ne={key:3,class:"text-center p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},oe={class:"text-sm font-semibold text-secondary-900 dark:text-white font-mono"},ie={class:"flex items-center justify-between mb-4"},de={class:"flex items-center space-x-2"},ce={class:"grid grid-cols-1 gap-4"},ue={class:"p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},me={class:"flex items-center justify-between mb-2"},ge=["onClick"],ye={class:"text-2xl font-bold text-secondary-900 dark:text-white"},ve={key:0,class:"p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg"},pe={class:"text-2xl font-bold text-secondary-900 dark:text-white"},xe={class:"grid grid-cols-2 gap-4"},fe=["onClick"],be=["onClick"],he=["onClick"],ke=["onClick"],we={class:"flex items-center justify-center"},_e={class:"relative w-full max-w-md"},Ce={class:"relative bg-gradient-to-br from-secondary-100 to-secondary-200 dark:from-secondary-800 dark:to-secondary-900 rounded-2xl p-8 shadow-2xl"},Me={class:"text-center"},Ie={class:"mb-4"},Fe=["src","alt"],Ve={class:"text-2xl font-bold text-secondary-900 dark:text-white mb-2"},Se={class:"text-lg text-secondary-600 dark:text-secondary-400 mb-4"},Ae={class:"grid grid-cols-2 gap-4 text-sm"},je={class:"bg-white/50 dark:bg-black/20 rounded-lg p-3"},Ue={class:"text-secondary-600 dark:text-secondary-400"},$e={class:"bg-white/50 dark:bg-black/20 rounded-lg p-3"},Be={class:"text-secondary-600 dark:text-secondary-400 capitalize"},He={key:1,class:"text-center py-20"},De={class:"max-w-md mx-auto"},Pe={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4"},Ee={class:"relative bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Ne={class:"sticky top-0 bg-white dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700 px-6 py-4 rounded-t-2xl"},ze={class:"flex items-center justify-between"},Te={class:"text-2xl font-bold text-secondary-900 dark:text-white"},Le={class:"p-6"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Je=["value"],Ye=["disabled"],Re=["value"],qe={key:0,class:"text-sm text-secondary-500 dark:text-secondary-400 mt-1"},Ge=["max"],We={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qe={class:"border-t border-secondary-200 dark:border-secondary-700 pt-6"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ze={class:"flex justify-end space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700"},ea=["disabled"],aa=["disabled"],ta={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},la=_({name:"MyCars",setup(){const s=r(),{user:n}=function(){const a=r();return{user:l(C),isAuthenticated:I,isLoading:l(M),login:a=>e(null,null,function*(){var e,t;try{M.value=!0;const e=yield h.login(a);return e.data.success?(C.value=e.data.user,localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.$notify&&window.$notify.success("Welcome back!",`Hello ${e.data.user.first_name||e.data.user.name}`),{success:!0,user:e.data.user}):{success:!1,message:"Login failed"}}catch(l){return{success:!1,message:(null==(t=null==(e=l.response)?void 0:e.data)?void 0:t.message)||"Login failed. Please try again."}}finally{M.value=!1}}),register:a=>e(null,null,function*(){var e,t;try{M.value=!0;const e=yield h.register(a);return e.data.success?(C.value=e.data.user,localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.$notify&&window.$notify.success("Welcome to CarWise!",`Account created for ${e.data.user.first_name||e.data.user.name}`),{success:!0,user:e.data.user}):{success:!1,message:"Registration failed"}}catch(l){return{success:!1,message:(null==(t=null==(e=l.response)?void 0:e.data)?void 0:t.message)||"Registration failed. Please try again."}}finally{M.value=!1}}),logout:()=>e(null,null,function*(){try{yield h.logout()}catch(e){}finally{C.value=null,localStorage.removeItem("token"),localStorage.removeItem("user"),window.$notify&&window.$notify.info("Logged Out","You have been successfully logged out"),a.push("/login")}}),checkAuth:()=>e(null,null,function*(){const e=localStorage.getItem("token"),a=localStorage.getItem("user");if(e&&a)try{C.value=JSON.parse(a);const e=yield h.getUser();return e.data.success&&(C.value=e.data.user,localStorage.setItem("user",JSON.stringify(e.data.user))),!0}catch(t){return C.value=null,localStorage.removeItem("token"),localStorage.removeItem("user"),!1}return!1}),getUser:()=>C.value,getIsAuthenticated:()=>I.value,getIsLoading:()=>M.value}}(),{getCarImageUrl:o}=function(){const l=a(null),r=a([]),s=a(!1),n=a(null),o=(a,t,r=null,o=null)=>e(null,null,function*(){try{s.value=!0,n.value=null;const e=yield k.getPrimaryImage(a,t,r,o);if(e.data.success)return l.value=e.data.image,e.data.image;{const e=yield k.getBrandFallback(a);if(e.data.success)return l.value=e.data.image,e.data.image;{const e=yield k.getDefaultImage();return l.value=e.data.image,e.data.image}}}catch(e){n.value=e.message;try{const e=yield k.getDefaultImage();return l.value=e.data.image,e.data.image}catch(i){return null}}finally{s.value=!1}}),i=t(()=>!!l.value),d=t(()=>r.value.length>0),c=t(()=>{var e;return(null==(e=l.value)?void 0:e.image_url)||"/images/cars/default-car.svg"}),u=t(()=>{var e,a;return(null==(e=l.value)?void 0:e.thumbnail_url)||(null==(a=l.value)?void 0:a.image_url)||"/images/cars/default-car.svg"});return{carImage:l,carImages:r,loading:s,error:n,hasImage:i,hasImages:d,currentImageUrl:c,currentThumbnailUrl:u,getPrimaryImage:o,getCarImages:(a,t,l=null,o=null)=>e(null,null,function*(){try{s.value=!0,n.value=null;const e=yield k.getCarImages(a,t,l,o);return e.data.success?(r.value=e.data.images,e.data.images):[]}catch(e){return n.value=e.message,[]}finally{s.value=!1}}),getCarImageUrl:(a,t,l=null,r=null)=>e(null,null,function*(){const e=yield o(a,t,l,r);return(null==e?void 0:e.image_url)||"/images/cars/default-car.svg"}),getCarThumbnailUrl:(a,t,l=null,r=null)=>e(null,null,function*(){const e=yield o(a,t,l,r);return(null==e?void 0:e.thumbnail_url)||(null==e?void 0:e.image_url)||"/images/cars/default-car-thumb.png"}),clearCarImage:()=>{l.value=null,r.value=[],n.value=null}}}(),i=a([]),d=a({}),c=a({totalCars:0,totalDiagnoses:0,averageAge:0}),u=a(!1),m=a(null),g=a(!1),y=a([]),v=a([]),p=a({brand:"",model:"",year:"",vin:"",license_plate:"",color:"",fuel_type:"",transmission:"",mileage:"",current_mileage:"",purchase_date:"",purchase_price:"",notes:"",status:"active",oil_change_interval:15e3,notification_advance_days:30}),x=()=>e(null,null,function*(){try{g.value=!0;const e=yield w.getAll();if(e.data.success){i.value=e.data.cars,yield b();for(const e of i.value)e.image_url||(yield S(e))}}catch(e){}finally{g.value=!1}}),b=()=>e(null,null,function*(){try{const e=yield w.statistics();e.data.success&&(c.value=e.data.statistics)}catch(e){}}),_=a=>e(null,null,function*(){try{if(!a)return void(v.value=[]);const e=y.value.find(e=>e.name===a);if(!e)return void(v.value=[]);const t=yield fetch(`/api/car-models/brand/${e.id}`);if(t.ok){const e=yield t.json();e.success&&(v.value=e.data)}}catch(e){v.value=[]}}),F=()=>{u.value=!1,m.value=null,p.value={brand:"",model:"",year:"",vin:"",license_plate:"",color:"",fuel_type:"",transmission:"",mileage:"",current_mileage:"",purchase_date:"",purchase_price:"",notes:"",status:"active",oil_change_interval:15e3,notification_advance_days:30}},V=e=>e.specifications&&e.specifications.engine_size?e.specifications.engine_size:"diesel"===e.fuel_type?"1.6L Diesel":"gasoline"===e.fuel_type?"1.6L Gasoline":"electric"===e.fuel_type?"Electric Motor":"hybrid"===e.fuel_type?"Hybrid Engine":"Unknown Engine",S=a=>e(null,null,function*(){const e=`${a.brand}-${a.model}-${a.year}-${a.color}`;try{const t=yield o(a.brand,a.model,a.year,a.color);d.value[e]=t}catch(t){d.value[e]="/images/cars/default-car.svg"}});return f(()=>{x(),e(null,null,function*(){try{const e=yield fetch("/api/car-brands");if(e.ok){const a=yield e.json();a.success&&(y.value=a.data)}}catch(e){}})}),{cars:i,statistics:c,showAddCarModal:u,editingCar:m,loading:g,carForm:p,carBrands:y,carModels:v,editCar:e=>{m.value=e,p.value={brand:e.brand||"",model:e.model||"",year:e.year||"",vin:e.vin||"",license_plate:e.license_plate||"",color:e.color||"",fuel_type:e.fuel_type||"",transmission:e.transmission||"",mileage:e.mileage||"",current_mileage:e.current_mileage||e.mileage||"",purchase_date:e.purchase_date||"",purchase_price:e.purchase_price||"",notes:e.notes||"",status:e.status||"active",oil_change_interval:e.oil_change_interval||15e3,notification_advance_days:e.notification_advance_days||30},_(e.brand),u.value=!0},deleteCar:a=>e(null,null,function*(){if(confirm("Are you sure you want to delete this car? This action cannot be undone."))try{g.value=!0;const e=yield w.delete(a);e.data.success?(i.value=i.value.filter(e=>e.id!==a),yield b(),window.$notify?window.$notify.success("Car Deleted","Car has been removed from your garage"):alert("Car deleted successfully!")):alert(e.data.message||"Error deleting car. Please try again.")}catch(e){alert("Error deleting car. Please try again.")}finally{g.value=!1}}),saveCar:()=>e(null,null,function*(){var e,a;try{let e;g.value=!0,e=m.value?yield w.update(m.value.id,p.value):yield w.create(p.value),e.data.success?(yield x(),F(),window.$notify?window.$notify.success(m.value?"Car Updated":"Car Added",m.value?"Your car has been updated successfully":"Your car has been added successfully"):alert(m.value?"Car updated successfully!":"Car added successfully!")):alert(e.data.message||"Error saving car. Please try again.")}catch(t){alert("Error saving car: "+((null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||t.message||"Please try again."))}finally{g.value=!1}}),closeModal:F,viewCarHistory:e=>{alert(`Viewing history for ${e.display_name}. This feature will be implemented soon!`)},onBrandChange:()=>{p.value.model="",_(p.value.brand)},updateMileage:a=>e(null,null,function*(){const e=prompt(`Enter new mileage for ${a.display_name}:`,a.current_mileage||a.mileage||"");if(e&&!isNaN(e)&&e>0)try{(yield fetch(`/api/cars/${a.id}/maintenance/mileage`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({mileage:parseInt(e)})})).ok?(yield x(),alert("Mileage updated successfully!")):alert("Error updating mileage. Please try again.")}catch(t){alert("Error updating mileage. Please try again.")}}),addMaintenanceRecord:e=>{alert(`Add maintenance record for ${e.display_name}. This feature will be implemented soon!`)},viewMaintenanceHistory:e=>{alert(`View maintenance history for ${e.display_name}. This feature will be implemented soon!`)},generateMaintenanceReport:e=>{alert(`Generate PDF report for ${e.display_name}. This feature will be implemented soon!`)},startDiagnosis:e=>{const a={id:e.id,brand:e.brand,model:e.model,year:e.year,color:e.color,fuel_type:e.fuel_type,transmission:e.transmission,mileage:e.current_mileage||e.mileage,engine_type:e.fuel_type,engine_size:V(e)};localStorage.setItem("selectedCarForDiagnosis",JSON.stringify(a)),s.push("/diagnose")},viewDiagnosisHistory:e=>{s.push(`/diagnose?car=${e.id}&history=true`)},getCarIcon:e=>({Volkswagen:"🚗",BMW:"🚙","Mercedes-Benz":"🚘",Audi:"🚖",Toyota:"🚕",Honda:"🚗",Ford:"🚙",Chevrolet:"🚘",Nissan:"🚖",Hyundai:"🚕",Kia:"🚗",Mazda:"🚙",Subaru:"🚘",Lexus:"🚖",Infiniti:"🚕",Acura:"🚗",Porsche:"🚙",Ferrari:"🚘",Lamborghini:"🚖",Maserati:"🚕"}[e]||"🚗"),getEngineInfo:V,getCarImageUrl:e=>{if(e.image_url)return e.image_url;const a=`${e.brand}-${e.model}-${e.year}-${e.color}`;return d.value[a]?d.value[a]:"/images/cars/default-car.svg"},loadCarImageUrl:S,handleImageError:e=>{e.target.src="/images/cars/default-car.svg"}}}},[["render",function(e,a,t,l,r,f){return n(),s("div",F,[o("div",V,[a[25]||(a[25]=o("div",{class:"absolute inset-0 bg-gradient-to-r from-primary-600/10 to-secondary-600/10"},null,-1)),o("div",S,[o("div",A,[a[23]||(a[23]=o("h1",{class:"text-4xl md:text-5xl font-bold text-secondary-900 dark:text-white mb-4"}," My Cars ",-1)),a[24]||(a[24]=o("p",{class:"text-xl text-secondary-600 dark:text-secondary-300 mb-8 max-w-2xl mx-auto"}," Manage your vehicle collection and track maintenance history ",-1)),o("button",{onClick:a[0]||(a[0]=e=>l.showAddCarModal=!0),class:"btn-primary text-lg px-8 py-3 shadow-lg hover:shadow-xl transition-all duration-300"},[...a[22]||(a[22]=[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" Add Car ",-1)])])])])]),o("div",j,[o("div",U,[o("div",$,[o("div",B,c(l.statistics.totalCars),1),a[26]||(a[26]=o("div",{class:"text-secondary-600 dark:text-secondary-400"},"Total Cars",-1))]),o("div",H,[o("div",D,c(l.statistics.totalDiagnoses),1),a[27]||(a[27]=o("div",{class:"text-secondary-600 dark:text-secondary-400"},"Total Diagnoses",-1))]),o("div",P,[o("div",E,c(l.statistics.averageAge),1),a[28]||(a[28]=o("div",{class:"text-secondary-600 dark:text-secondary-400"},"Average Age",-1))])])]),o("div",N,[l.cars.length>0?(n(),s("div",z,[(n(!0),s(u,null,m(l.cars,e=>(n(),s("div",{key:e.id,class:"card glass hover:shadow-2xl transition-all duration-300 group"},[o("div",T,[o("div",L,[o("div",O,[o("div",J,[o("h3",Y,c(e.display_name),1),o("p",R,c(e.year)+" • "+c(e.age)+" years old ",1),o("div",q,[e.vin?(n(),s("span",G,[a[29]||(a[29]=o("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),d(" "+c(e.vin),1)])):i("",!0),e.license_plate?(n(),s("span",W,[a[30]||(a[30]=o("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m0 0V1a1 1 0 011-1h2a1 1 0 011 1v18a1 1 0 01-1 1H4a1 1 0 01-1-1V1a1 1 0 011-1h2a1 1 0 011 1v3m0 0h8"})],-1)),d(" "+c(e.license_plate),1)])):i("",!0)])]),o("div",K,[o("button",{onClick:a=>l.editCar(e),class:"p-2 rounded-lg text-secondary-400 hover:text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors duration-200",title:"Edit Car"},[...a[31]||(a[31]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Q),o("button",{onClick:a=>l.deleteCar(e.id),class:"p-2 rounded-lg text-secondary-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",title:"Delete Car"},[...a[32]||(a[32]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X)])]),o("div",Z,[e.fuel_type?(n(),s("div",ee,[a[33]||(a[33]=o("div",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-2"},"Fuel Type",-1)),o("div",ae,c(e.fuel_type),1)])):i("",!0),e.transmission?(n(),s("div",te,[a[34]||(a[34]=o("div",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-2"},"Transmission",-1)),o("div",le,c(e.transmission),1)])):i("",!0),e.color?(n(),s("div",re,[a[35]||(a[35]=o("div",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-2"},"Color",-1)),o("div",se,c(e.color),1)])):i("",!0),e.vin?(n(),s("div",ne,[a[36]||(a[36]=o("div",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-2"},"VIN",-1)),o("div",oe,c(e.vin.substring(0,8))+"... ",1)])):i("",!0)]),o("div",null,[o("div",ie,[a[37]||(a[37]=o("h4",{class:"text-lg font-semibold text-secondary-900 dark:text-white"},"Maintenance Status",-1)),o("div",de,[o("div",{class:b(["w-3 h-3 rounded-full",{"bg-green-500":"good"===e.maintenance_status,"bg-yellow-500":"warning"===e.maintenance_status,"bg-red-500":"urgent"===e.maintenance_status}])},null,2),o("span",{class:b(["text-sm font-medium capitalize",{"text-green-600 dark:text-green-400":"good"===e.maintenance_status,"text-yellow-600 dark:text-yellow-400":"warning"===e.maintenance_status,"text-red-600 dark:text-red-400":"urgent"===e.maintenance_status}])},c(e.maintenance_status||"Good"),3)])]),o("div",ce,[o("div",ue,[o("div",me,[a[38]||(a[38]=o("span",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400"},"Current Mileage",-1)),o("button",{onClick:a=>l.updateMileage(e),class:"text-xs px-2 py-1 bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 rounded hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors"}," Update ",8,ge)]),o("div",ye,c(e.current_mileage?e.current_mileage.toLocaleString():"N/A")+" km ",1)]),e.next_maintenance_due?(n(),s("div",ve,[a[39]||(a[39]=o("div",{class:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-2"},"Next Service Due",-1)),o("div",pe,c(e.next_maintenance_due)+" km ",1)])):i("",!0)])]),o("div",xe,[o("button",{onClick:a=>l.startDiagnosis(e),class:"btn-primary flex items-center justify-center"},[...a[40]||(a[40]=[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),d(" Diagnose ",-1)])],8,fe),o("button",{onClick:a=>l.viewCarHistory(e),class:"btn-secondary flex items-center justify-center"},[...a[41]||(a[41]=[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),d(" Maintenance History ",-1)])],8,be),o("button",{onClick:a=>l.viewDiagnosisHistory(e),class:"btn-secondary flex items-center justify-center"},[...a[42]||(a[42]=[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),d(" Diagnosis History ",-1)])],8,he),o("button",{onClick:a=>l.addMaintenanceRecord(e),class:"btn-secondary flex items-center justify-center"},[...a[43]||(a[43]=[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" Add Service ",-1)])],8,ke)])]),o("div",we,[o("div",_e,[o("div",Ce,[o("div",Me,[o("div",Ie,[o("img",{src:l.getCarImageUrl(e),alt:`${e.brand} ${e.model}`,class:"w-32 h-24 object-contain mx-auto rounded-lg shadow-lg",onError:a[1]||(a[1]=(...e)=>l.handleImageError&&l.handleImageError(...e))},null,40,Fe)]),o("div",Ve,c(e.model),1),o("div",Se,c(e.year)+" • "+c(e.color||"Unknown Color"),1),o("div",Ae,[o("div",je,[a[44]||(a[44]=o("div",{class:"font-semibold text-secondary-700 dark:text-secondary-300"},"Engine",-1)),o("div",Ue,c(l.getEngineInfo(e)),1)]),o("div",$e,[a[45]||(a[45]=o("div",{class:"font-semibold text-secondary-700 dark:text-secondary-300"},"Transmission",-1)),o("div",Be,c(e.transmission||"Unknown"),1)])])]),a[46]||(a[46]=o("div",{class:"absolute top-4 right-4 w-16 h-16 bg-primary-500/10 rounded-full"},null,-1)),a[47]||(a[47]=o("div",{class:"absolute bottom-4 left-4 w-12 h-12 bg-secondary-500/10 rounded-full"},null,-1))])])])])]))),128))])):(n(),s("div",He,[o("div",De,[a[49]||(a[49]=g('<div class="w-24 h-24 mx-auto mb-8 bg-gradient-to-br from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><h3 class="text-2xl font-bold text-secondary-900 dark:text-white mb-4">No Cars Yet</h3><p class="text-secondary-600 dark:text-secondary-400 mb-8"> Start by adding your first vehicle to track maintenance and get AI-powered diagnostics </p>',3)),o("button",{onClick:a[2]||(a[2]=e=>l.showAddCarModal=!0),class:"btn-primary text-lg px-8 py-3"},[...a[48]||(a[48]=[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" Add Your First Car ",-1)])])])]))]),l.showAddCarModal?(n(),s("div",Pe,[o("div",Ee,[o("div",Ne,[o("div",ze,[o("h3",Te,c(l.editingCar?"Edit Car":"Add New Car"),1),o("button",{onClick:a[3]||(a[3]=(...e)=>l.closeModal&&l.closeModal(...e)),class:"p-2 rounded-lg text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors duration-200"},[...a[50]||(a[50]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),o("div",Le,[o("form",{onSubmit:a[21]||(a[21]=y((...e)=>l.saveCar&&l.saveCar(...e),["prevent"])),class:"space-y-6"},[o("div",Oe,[o("div",null,[a[52]||(a[52]=o("label",{for:"brand",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Brand * ",-1)),v(o("select",{id:"brand","onUpdate:modelValue":a[4]||(a[4]=e=>l.carForm.brand=e),required:"",class:"input w-full",onChange:a[5]||(a[5]=(...e)=>l.onBrandChange&&l.onBrandChange(...e))},[a[51]||(a[51]=o("option",{value:""},"Select Brand",-1)),(n(!0),s(u,null,m(l.carBrands,e=>(n(),s("option",{key:e.id,value:e.name},c(e.name),9,Je))),128))],544),[[p,l.carForm.brand]])]),o("div",null,[a[54]||(a[54]=o("label",{for:"model",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Model * ",-1)),v(o("select",{id:"model","onUpdate:modelValue":a[6]||(a[6]=e=>l.carForm.model=e),required:"",class:"input w-full",disabled:!l.carForm.brand},[a[53]||(a[53]=o("option",{value:""},"Select Model",-1)),(n(!0),s(u,null,m(l.carModels,e=>(n(),s("option",{key:e.id,value:e.name},c(e.name),9,Re))),128))],8,Ye),[[p,l.carForm.model]]),l.carForm.brand?i("",!0):(n(),s("div",qe," Please select brand first "))]),o("div",null,[a[55]||(a[55]=o("label",{for:"year",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Year * ",-1)),v(o("input",{id:"year","onUpdate:modelValue":a[7]||(a[7]=e=>l.carForm.year=e),type:"number",required:"",min:"1900",max:(new Date).getFullYear()+1,class:"input w-full",placeholder:"e.g., 2020"},null,8,Ge),[[x,l.carForm.year]])]),o("div",null,[a[56]||(a[56]=o("label",{for:"color",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Color ",-1)),v(o("input",{id:"color","onUpdate:modelValue":a[8]||(a[8]=e=>l.carForm.color=e),type:"text",class:"input w-full",placeholder:"e.g., Red, Blue, Silver"},null,512),[[x,l.carForm.color]])])]),o("div",We,[o("div",null,[a[57]||(a[57]=o("label",{for:"vin",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," VIN (Vehicle Identification Number) ",-1)),v(o("input",{id:"vin","onUpdate:modelValue":a[9]||(a[9]=e=>l.carForm.vin=e),type:"text",maxlength:"17",class:"input w-full",placeholder:"17-character VIN"},null,512),[[x,l.carForm.vin]])]),o("div",null,[a[58]||(a[58]=o("label",{for:"license_plate",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," License Plate ",-1)),v(o("input",{id:"license_plate","onUpdate:modelValue":a[10]||(a[10]=e=>l.carForm.license_plate=e),type:"text",class:"input w-full",placeholder:"e.g., ABC-123"},null,512),[[x,l.carForm.license_plate]])]),o("div",null,[a[60]||(a[60]=o("label",{for:"fuel_type",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Fuel Type ",-1)),v(o("select",{id:"fuel_type","onUpdate:modelValue":a[11]||(a[11]=e=>l.carForm.fuel_type=e),class:"input w-full"},[...a[59]||(a[59]=[g('<option value="">Select fuel type</option><option value="gasoline">Gasoline</option><option value="diesel">Diesel</option><option value="electric">Electric</option><option value="hybrid">Hybrid</option>',5)])],512),[[p,l.carForm.fuel_type]])]),o("div",null,[a[62]||(a[62]=o("label",{for:"transmission",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Transmission ",-1)),v(o("select",{id:"transmission","onUpdate:modelValue":a[12]||(a[12]=e=>l.carForm.transmission=e),class:"input w-full"},[...a[61]||(a[61]=[o("option",{value:""},"Select transmission",-1),o("option",{value:"manual"},"Manual",-1),o("option",{value:"automatic"},"Automatic",-1),o("option",{value:"cvt"},"CVT",-1)])],512),[[p,l.carForm.transmission]])])]),o("div",Ke,[o("div",null,[a[63]||(a[63]=o("label",{for:"mileage",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Initial Mileage (km) ",-1)),v(o("input",{id:"mileage","onUpdate:modelValue":a[13]||(a[13]=e=>l.carForm.mileage=e),type:"number",min:"0",class:"input w-full",placeholder:"e.g., 50000"},null,512),[[x,l.carForm.mileage]]),a[64]||(a[64]=o("div",{class:"text-xs text-secondary-500 dark:text-secondary-400 mt-1"}," Original mileage when you got the car ",-1))]),o("div",null,[a[65]||(a[65]=o("label",{for:"current_mileage",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Current Mileage (km) ",-1)),v(o("input",{id:"current_mileage","onUpdate:modelValue":a[14]||(a[14]=e=>l.carForm.current_mileage=e),type:"number",min:"0",class:"input w-full",placeholder:"e.g., 75000"},null,512),[[x,l.carForm.current_mileage]]),a[66]||(a[66]=o("div",{class:"text-xs text-secondary-500 dark:text-secondary-400 mt-1"}," Current odometer reading ",-1))]),o("div",null,[a[67]||(a[67]=o("label",{for:"purchase_date",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Purchase Date ",-1)),v(o("input",{id:"purchase_date","onUpdate:modelValue":a[15]||(a[15]=e=>l.carForm.purchase_date=e),type:"date",class:"input w-full"},null,512),[[x,l.carForm.purchase_date]])]),o("div",null,[a[68]||(a[68]=o("label",{for:"purchase_price",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Purchase Price ",-1)),v(o("input",{id:"purchase_price","onUpdate:modelValue":a[16]||(a[16]=e=>l.carForm.purchase_price=e),type:"number",min:"0",step:"0.01",class:"input w-full",placeholder:"e.g., 15000"},null,512),[[x,l.carForm.purchase_price]])])]),o("div",Qe,[a[73]||(a[73]=o("h4",{class:"text-lg font-semibold text-secondary-900 dark:text-white mb-4"},"Maintenance Preferences",-1)),o("div",Xe,[o("div",null,[a[69]||(a[69]=o("label",{for:"oil_change_interval",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Oil Change Interval (km) ",-1)),v(o("input",{id:"oil_change_interval","onUpdate:modelValue":a[17]||(a[17]=e=>l.carForm.oil_change_interval=e),type:"number",min:"5000",max:"50000",class:"input w-full",placeholder:"15000"},null,512),[[x,l.carForm.oil_change_interval]]),a[70]||(a[70]=o("div",{class:"text-xs text-secondary-500 dark:text-secondary-400 mt-1"}," Default: 15,000 km ",-1))]),o("div",null,[a[71]||(a[71]=o("label",{for:"notification_advance_days",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Notification Advance (days) ",-1)),v(o("input",{id:"notification_advance_days","onUpdate:modelValue":a[18]||(a[18]=e=>l.carForm.notification_advance_days=e),type:"number",min:"1",max:"365",class:"input w-full",placeholder:"30"},null,512),[[x,l.carForm.notification_advance_days]]),a[72]||(a[72]=o("div",{class:"text-xs text-secondary-500 dark:text-secondary-400 mt-1"}," How many days before service to notify ",-1))])])]),o("div",null,[a[74]||(a[74]=o("label",{for:"notes",class:"block text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2"}," Notes ",-1)),v(o("textarea",{id:"notes","onUpdate:modelValue":a[19]||(a[19]=e=>l.carForm.notes=e),rows:"3",class:"input w-full",placeholder:"Any additional notes about your car..."},null,512),[[x,l.carForm.notes]])]),o("div",Ze,[o("button",{type:"button",onClick:a[20]||(a[20]=(...e)=>l.closeModal&&l.closeModal(...e)),class:"btn-ghost",disabled:l.loading}," Cancel ",8,ea),o("button",{type:"submit",disabled:l.loading,class:"btn-primary"},[l.loading?(n(),s("svg",ta,[...a[75]||(a[75]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),d(" "+c(l.editingCar?"Update Car":"Add Car"),1)],8,aa)])],32)])])])):i("",!0)])}]]);export{la as default};
